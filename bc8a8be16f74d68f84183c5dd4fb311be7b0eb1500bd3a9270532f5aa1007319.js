export default(async()=>{var t="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function e(){}const r=t=>t;function n(t,e){for(const r in e)t[r]=e[r];return t}function o(t){return t()}function a(){return Object.create(null)}function i(t){t.forEach(o)}function s(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let u;function l(t,e){return u||(u=document.createElement("a")),u.href=e,t===u.href}function f(t,r,n){t.$$.on_destroy.push(function(t,...r){if(null==t)return e;const n=t.subscribe(...r);return n.unsubscribe?()=>n.unsubscribe():n}(r,n))}function d(t){return null==t?"":t}function h(t,e,r){return t.set(r),e}const p="undefined"!=typeof window;let g=p?()=>window.performance.now():()=>Date.now(),b=p?t=>requestAnimationFrame(t):e;const y=new Set;function v(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&b(v)}function m(t){let e;return 0===y.size&&b(v),{promise:new Promise((r=>{y.add(e={c:t,f:r})})),abort(){y.delete(e)}}}let w=!1;function x(t,e,r,n){for(;t<e;){const o=t+(e-t>>1);r(o)<=n?t=o+1:e=o}return t}function k(t,e,r){const n=$(t);if(!n.getElementById(e)){const t=j("style");t.id=e,t.textContent=r,E(n,t)}}function $(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function _(t){const e=j("style");return E($(t),e),e.sheet}function E(t,e){!function(t,e){t.appendChild(e)}(t.head||t,e)}function S(t,e){if(w){for(function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let r=0;r<e.length;r++){const n=e[r];void 0!==n.claim_order&&t.push(n)}e=t}const r=new Int32Array(e.length+1),n=new Int32Array(e.length);r[0]=-1;let o=0;for(let t=0;t<e.length;t++){const a=e[t].claim_order,i=(o>0&&e[r[o]].claim_order<=a?o+1:x(1,o,(t=>e[r[t]].claim_order),a))-1;n[t]=r[i]+1;const s=i+1;r[s]=t,o=Math.max(s,o)}const a=[],i=[];let s=e.length-1;for(let t=r[o]+1;0!=t;t=n[t-1]){for(a.push(e[t-1]);s>=t;s--)i.push(e[s]);s--}for(;s>=0;s--)i.push(e[s]);a.reverse(),i.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,r=0;e<i.length;e++){for(;r<a.length&&i[e].claim_order>=a[r].claim_order;)r++;const n=r<a.length?a[r]:null;t.insertBefore(i[e],n)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function A(t,e,r){w&&!r?S(t,e):e.parentNode===t&&e.nextSibling==r||t.insertBefore(e,r||null)}function T(t){t.parentNode.removeChild(t)}function D(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function j(t){return document.createElement(t)}function O(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function N(){return I(" ")}function B(){return I("")}function C(t,e,r,n){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r,n)}function U(t){return function(e){return e.preventDefault(),t.call(this,e)}}function G(t,e,r){null==r?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function M(t){return Array.from(t.childNodes)}function V(t,e,r,n,o=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const a=(()=>{for(let n=t.claim_info.last_index;n<t.length;n++){const a=t[n];if(e(a)){const e=r(a);return void 0===e?t.splice(n,1):t[n]=e,o||(t.claim_info.last_index=n),a}}for(let n=t.claim_info.last_index-1;n>=0;n--){const a=t[n];if(e(a)){const e=r(a);return void 0===e?t.splice(n,1):t[n]=e,o?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=n,a}}return n()})();return a.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,a}function P(t,e,r,n){return V(t,(t=>t.nodeName===e),(t=>{const e=[];for(let n=0;n<t.attributes.length;n++){const o=t.attributes[n];r[o.name]||e.push(o.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>n(e)))}function L(t,e,r){return P(t,e,r,j)}function R(t,e,r){return P(t,e,r,O)}function H(t,e){return V(t,(t=>3===t.nodeType),(t=>{const r=""+e;if(t.data.startsWith(r)){if(t.data.length!==r.length)return t.splitText(r.length)}else t.data=r}),(()=>I(e)),!0)}function z(t){return H(t," ")}function J(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function K(t,e){t.value=null==e?"":e}function F(t,e,r,n){null===r?t.style.removeProperty(e):t.style.setProperty(e,r,n?"important":"")}function q(t,e,r=!1){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,!1,e),n}function W(t,e=document.body){return Array.from(e.querySelectorAll(t))}const X=new Map;let Y,Z=0;function Q(t,e,r,n,o,a,i,s=0){const c=16.666/n;let u="{\n";for(let t=0;t<=1;t+=c){const n=e+(r-e)*a(t);u+=100*t+`%{${i(n,1-n)}}\n`}const l=u+`100% {${i(r,1-r)}}\n}`,f=`__svelte_${function(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}(l)}_${s}`,d=$(t),{stylesheet:h,rules:p}=X.get(d)||function(t,e){const r={stylesheet:_(e),rules:{}};return X.set(t,r),r}(d,t);p[f]||(p[f]=!0,h.insertRule(`@keyframes ${f} ${l}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${n}ms linear ${o}ms 1 both`,Z+=1,f}function tt(t,e){const r=(t.style.animation||"").split(", "),n=r.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=r.length-n.length;o&&(t.style.animation=n.join(", "),Z-=o,Z||b((()=>{Z||(X.forEach((t=>{const{stylesheet:e}=t;let r=e.cssRules.length;for(;r--;)e.deleteRule(r);t.rules={}})),X.clear())})))}function et(t){Y=t}function rt(){if(!Y)throw new Error("Function called outside component initialization");return Y}function nt(t){rt().$$.on_mount.push(t)}function ot(){const t=rt();return(e,r)=>{const n=t.$$.callbacks[e];if(n){const o=q(e,r);n.slice().forEach((e=>{e.call(t,o)}))}}}const at=[],it=[],st=[],ct=[],ut=Promise.resolve();let lt=!1;function ft(t){st.push(t)}const dt=new Set;let ht,pt=0;function gt(){const t=Y;do{for(;pt<at.length;){const t=at[pt];pt++,et(t),bt(t.$$)}for(et(null),at.length=0,pt=0;it.length;)it.pop()();for(let t=0;t<st.length;t+=1){const e=st[t];dt.has(e)||(dt.add(e),e())}st.length=0}while(at.length);for(;ct.length;)ct.pop()();lt=!1,dt.clear(),et(t)}function bt(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ft)}}function yt(){return ht||(ht=Promise.resolve(),ht.then((()=>{ht=null}))),ht}function vt(t,e,r){t.dispatchEvent(q(`${e?"intro":"outro"}${r}`))}const mt=new Set;let wt;function xt(){wt={r:0,c:[],p:wt}}function kt(){wt.r||i(wt.c),wt=wt.p}function $t(t,e){t&&t.i&&(mt.delete(t),t.i(e))}function _t(t,e,r,n){if(t&&t.o){if(mt.has(t))return;mt.add(t),wt.c.push((()=>{mt.delete(t),n&&(r&&t.d(1),n())})),t.o(e)}}const Et={duration:0};function St(t,n,o,a){let c=n(t,o),u=a?0:1,l=null,f=null,d=null;function h(){d&&tt(t,d)}function p(t,e){const r=t.b-u;return e*=Math.abs(r),{a:u,b:t.b,d:r,duration:e,start:t.start,end:t.start+e,group:t.group}}function b(n){const{delay:o=0,duration:a=300,easing:s=r,tick:b=e,css:y}=c||Et,v={start:g()+o,b:n};n||(v.group=wt,wt.r+=1),l||f?f=v:(y&&(h(),d=Q(t,u,n,a,o,s,y)),n&&b(0,1),l=p(v,a),ft((()=>vt(t,n,"start"))),m((e=>{if(f&&e>f.start&&(l=p(f,a),f=null,vt(t,l.b,"start"),y&&(h(),d=Q(t,u,l.b,l.duration,0,s,c.css))),l)if(e>=l.end)b(u=l.b,1-u),vt(t,l.b,"end"),f||(l.b?h():--l.group.r||i(l.group.c)),l=null;else if(e>=l.start){const t=e-l.start;u=l.a+l.d*s(t/l.duration),b(u,1-u)}return!(!l&&!f)})))}return{run(t){s(c)?yt().then((()=>{c=c(),b(t)})):b(t)},end(){h(),l=f=null}}}const At="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function Tt(t,e){_t(t,1,1,(()=>{e.delete(t.key)}))}function Dt(t){t&&t.c()}function jt(t,e){t&&t.l(e)}function Ot(t,e,r,n){const{fragment:a,on_mount:c,on_destroy:u,after_update:l}=t.$$;a&&a.m(e,r),n||ft((()=>{const e=c.map(o).filter(s);u?u.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(ft)}function It(t,e){const r=t.$$;null!==r.fragment&&(i(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function Nt(t,r,n,o,s,c,u,l=[-1]){const f=Y;et(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:a(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(r.context||(f?f.$$.context:[])),callbacks:a(),dirty:l,skip_bound:!1,root:r.target||f.$$.root};u&&u(d.root);let h=!1;if(d.ctx=n?n(t,r.props||{},((e,r,...n)=>{const o=n.length?n[0]:r;return d.ctx&&s(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),h&&function(t,e){-1===t.$$.dirty[0]&&(at.push(t),lt||(lt=!0,ut.then(gt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(t,e)),r})):[],d.update(),h=!0,i(d.before_update),d.fragment=!!o&&o(d.ctx),r.target){if(r.hydrate){w=!0;const t=M(r.target);d.fragment&&d.fragment.l(t),t.forEach(T)}else d.fragment&&d.fragment.c();r.intro&&$t(t.$$.fragment),Ot(t,r.target,r.anchor,r.customElement),w=!1,gt()}et(f)}class Bt{$destroy(){It(this,1),this.$destroy=e}$on(t,e){const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(e),()=>{const t=r.indexOf(e);-1!==t&&r.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Ct(t){let r,n,o,a;return{c(){r=j("div"),n=O("svg"),o=O("path"),a=O("path"),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=R(e,"svg",{role:!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var i=M(n);o=R(i,"path",{d:!0,fill:!0}),M(o).forEach(T),a=R(i,"path",{d:!0,fill:!0}),M(a).forEach(T),i.forEach(T),e.forEach(T),this.h()},h(){G(o,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),G(o,"fill","currentColor"),G(a,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),G(a,"fill","currentFill"),G(n,"role","status"),G(n,"class","place-self-center inline mr-2 w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"),G(n,"viewBox","0 0 100 101"),G(n,"fill","none"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(r,"class","w-full h-full grid")},m(t,e){A(t,r,e),S(r,n),S(n,o),S(n,a)},p:e,i:e,o:e,d(t){t&&T(r)}}}class Ut extends Bt{constructor(t){super(),Nt(this,t,null,Ct,c,{})}}function Gt(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Mt,Vt=(function(t){!function(){function e(t,r){return r?Gt():t.slice?e[n(t)]:function(r,o){t(r={exports:{}}),e[n(o)]=r.exports};function n(t){return t.split("/").slice(-1).toString().replace(".js","")}}var r=t;e((function(t){String.random=function(t,e){var r="";for(t=t||24,e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";t-- >0;)r+=e.charAt(Math.floor(Math.random()*e.length));return r},String.match=function(t,e){var r,n;return"string"==typeof t&&("string"==typeof e&&(e={"=":e}),t===(r=(e=e||{})["="]||e["*"]||e[">"]||e["<"])||n===e["="]&&(r=e["*"]||e[">"],t.slice(0,(r||"").length)===r||n===e["*"]&&(n!==e[">"]&&n!==e["<"]?t>=e[">"]&&t<=e["<"]:n!==e[">"]&&t>=e[">"]||n!==e["<"]&&t<=e["<"])))},String.hash=function(t,e){if("string"==typeof t){if(e=e||0,!t.length)return e;for(var r=0,n=t.length;r<n;++r)e=(e<<5)-e+t.charCodeAt(r),e|=0;return e}};var e,r,n,o,a=Object.prototype.hasOwnProperty;Object.plain=function(t){return!!t&&(t instanceof Object&&t.constructor===Object||"Object"===Object.prototype.toString.call(t).match(/^\[object (\w+)\]$/)[1])},Object.empty=function(t,e){for(var r in t)if(a.call(t,r)&&(!e||-1==e.indexOf(r)))return!1;return!0},Object.keys=Object.keys||function(t){var e=[];for(var r in t)a.call(t,r)&&e.push(r);return e},e=setTimeout,r=0,n=0,o=typeof setImmediate!=""+void 0&&setImmediate||e,e.poll=e.poll||function(t){1>=+new Date-r&&n++<3333?t():o((function(){r=+new Date,t()}),n=0)},function(){var t,e=setTimeout,r=e.turn=e.turn||function(t){1==n.push(t)&&o(i)},n=r.s=[],o=e.poll,a=0,i=function(){(t=n[a++])&&t(),a!=n.length&&99!=a||(n=r.s=n.slice(a),a=0),n.length&&o(i)}}(),function(){var t,e=setTimeout,r=e.turn;(e.each=e.each||function(e,n,o,a){a=a||9,function i(s,c,u){if(c=(s=(e||[]).splice(0,a)).length){for(var l=0;l<c&&t===(u=n(s[l]));l++);if(t===u)return void r(i)}o&&o(u)}()})()}()}))(e,"./shim"),e((function(t){t.exports=function t(e,r,n){if(!e)return{to:t};var o="function"==typeof r;if(e=(this.tag||(this.tag={}))[e]||o&&(this.tag[e]={tag:e,to:t._={next:function(t){var e;(e=this.to)&&e.next(t)}}}),o){var a={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:r,the:e,on:this,as:n};return(a.back=e.last||e).to=a,e.last=a}return(e=e.to)&&void 0!==r&&e.next(r),e}}))(e,"./onto"),e((function(t){t.exports=function(t){return null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t&&t!=1/0&&t!=-1/0&&t==t||!!t&&"string"==typeof t["#"]&&1===Object.keys(t).length&&t["#"]}}))(e,"./valid"),e((function(t){function r(){var t=+new Date;return s<t?(a=0,s=t+r.drift):s=t+(a+=1)/i+r.drift}e("./shim"),r.drift=0;var n,o=-1/0,a=0,i=999,s=o;r.is=function(t,e,r){var n=e&&t&&t._&&t._[">"]||r;if(n)return"number"==typeof(n=n[e])?n:o},r.ify=function(t,e,r,o,a){(t=t||{})._=t._||{},a&&(t._["#"]=a);var i=t._[">"]||(t._[">"]={});return n!==e&&"_"!==e&&("number"==typeof r&&(i[e]=r),n!==o&&(t[e]=o)),t},t.exports=r}))(e,"./state"),e((function(t){e("./shim"),t.exports=function(t){var e={s:{}},r=e.s;t=t||{max:999,age:9e3},e.check=function(t){return!!r[t]&&n(t)};var n=e.track=function(n){var o=r[n]||(r[n]={});return o.was=e.now=+new Date,e.to||(e.to=setTimeout(e.drop,t.age+9)),o};return e.drop=function(n){e.to=null,e.now=+new Date;var o=Object.keys(r);console.STAT&&console.STAT(e.now,+new Date-e.now,"dup drop keys"),setTimeout.each(o,(function(o){var a=r[o];a&&(n||t.age)>e.now-a.was||delete r[o]}),0,99)},e}}))(e,"./dup"),e((function(t){e("./onto"),t.exports=function(t,e){if(this.on){var n=(this.opt||{}).lack||9e3;if("function"!=typeof t){if(!t)return;var o=t["#"]||t,a=(this.tag||"")[o];if(!a)return;return e&&(a=this.on(o,e),clearTimeout(a.err),a.err=setTimeout((function(){a.off()}),n)),!0}if(o=e&&e["#"]||r(9),!t)return o;var i=this.on(o,t,e);return i.err=i.err||setTimeout((function(){i.off(),i.next({err:"Error: No ACK yet.",lack:!0})}),n),o}};var r=String.random||function(){return Math.random().toString(36).slice(2)}}))(e,"./ask"),e((function(t){function n(t){return t instanceof n?(this._={$:this}).$:this instanceof n?n.create(this._={$:this,opt:t}):new n(t)}n.is=function(t){return t instanceof n||t&&t._&&t===t._.$||!1},n.version=.202,n.chain=n.prototype,n.chain.toJSON=function(){},e("./shim"),n.valid=e("./valid"),n.state=e("./state"),n.on=e("./onto"),n.dup=e("./dup"),n.ask=e("./ask"),function(){function t(r){if(r)if(r.out!==t){var o,a=this.as,c=a.at||a,u=c.$,l=c.dup,f=r.DBG;if((o=r["#"])||(o=r["#"]=s(9)),!l.check(o)){if(l.track(o),o=r._,r._="function"==typeof o?o:function(){},r.$&&r.$===(r.$._||"").$||(r.$=u),r["@"]&&!r.put&&function(t){var e,r=t["@"]||"";(e=r._)&&(e.acks=(e.acks||0)+1,(e.err=t.err)&&(t["@"]=e["#"],i(e)),e.stop||e.crack||(e.crack=e.match&&e.match.push((function(){h(e)}))),h(e))}(r),!c.ask(r["@"],r)){if(f&&(f.u=+new Date),r.put)return void e(r);r.get&&n.on.get(r,u)}f&&(f.uc=+new Date),this.to.next(r),f&&(f.ua=+new Date),r.nts||r.NTS||(r.out=t,c.on("out",r),f&&(f.ue=+new Date))}}else this.to.next(r)}function e(e){if(e){var n=e._||"",a=n.root=((n.$=e.$||"")._||"").root;if(e["@"]&&n.faith&&!n.miss)return e.out=t,void a.on("out",e);n.latch=a.hatch,n.match=a.hatch=[];var s=e.put,l=n.DBG=e.DBG,f=+new Date;if(p=p||f,!s["#"]||!s["."]){l&&(l.p=f),n["#"]=e["#"],n.msg=e,n.all=0,n.stun=1;var d=Object.keys(s);console.STAT&&console.STAT(f,((l||n).pk=+new Date)-f,"put sort");var h,y,v,m,x,k,$,_=0;!function t(a){if(h!=_){if(h=_,!(v=d[_]))return console.STAT&&console.STAT(f,((l||n).pd=+new Date)-f,"put"),void i(n);(m=s[v])?($=m._)?v!==$["#"]?k=g+b(v)+"soul not same.":(x=$[">"])||(k=g+b(v)+"no state."):k=g+b(v)+"no meta.":k=g+b(v)+"no node.",y=Object.keys(m||{})}if(k)return e.err=n.err=k,void i(n);var p,E=0;for(a=a||0;a++<9&&(p=y[E++]);)if("_"!==p){var S=m[p],A=x[p];if(o===A){k=g+b(p)+"on"+b(v)+"no state.";break}if(!u(S)){k=g+b(p)+"on"+b(v)+"bad "+typeof S+b(S);break}r(S,p,v,A,e),++w}(y=y.slice(E)).length?c(t):(++_,y=null,t(a))}()}}}function r(t,e,n,o,a){var i,s=a._||"",c=s.root,u=c.graph,f=u[n]||d,h=l(f,e,1),p=f[e],g=s.DBG;(i=console.STAT)&&(u[n]&&p||(i.has=(i.has||0)+1));var b=m();if(o>b)return setTimeout((function(){r(t,e,n,o,a)}),(i=o-b)>v?v:i),void(console.STAT&&console.STAT((g||s).Hf=+new Date,i,"future"));if((!(o<h)||s.miss)&&(s.faith||o!==h||!(t===p||y(t)<=y(p))||s.miss)){s.stun++;var w=a["#"]+s.all++,x={toString:function(){return w},_:s};x.toJSON=x.toString,g&&(g.ph=g.ph||+new Date),c.on("put",{"#":x,"@":a["@"],put:{"#":n,".":e,":":t,">":o},_:s})}}function a(t){var e;(e=(t._||"").DBG)&&(e.pa=+new Date,e.pm=e.pm||+new Date);var r,n=this.as,o=n.graph,a=t._,s=t.put,c=s["#"],u=s["."],l=s[":"],d=s[">"];t["#"],(r=a.msg)&&(r=r.put)&&(r=r[c])&&f(r,u,d,l,c),o[c]=f(o[c],u,d,l,c),(r=(n.next||"")[c])&&r.on("in",t),i(a),this.to.next(t)}function i(e,r){var n;if(!e.stop&&(e.err||!(0<--e.stun))&&(e.stop=1,n=e.root)){var o=e.match;o.end=1,o===n.hatch&&(!(o=e.latch)||o.end?delete n.hatch:n.hatch=o),e.hatch&&e.hatch(),setTimeout.each(e.match,(function(t){t&&t()})),!(r=e.msg)||e.err||r.err||(r.out=t,e.root.on("out",r),x())}}function h(t){t&&t.root&&(t.stun||t.acks!==t.all||t.root.on("in",{"@":t["#"],err:t.err,ok:t.err?o:{"":1}}))}n.create=function(e){e.root=e.root||e,e.graph=e.graph||{},e.on=e.on||n.on,e.ask=e.ask||n.ask,e.dup=e.dup||n.dup();var r=e.$.opt(e.opt);return e.once||(e.on("in",t,e),e.on("out",t,e),e.on("put",a,e),n.on("create",e),e.on("create",e)),e.once=1,r},n.on.put=e;var p,g="Error: Invalid graph!",b=function(t){return" '"+(""+t).slice(0,9)+"...' "},y=JSON.stringify,v=2147483647,m=n.state,w=0,x=function(){w>999&&w/-(p-(p=+new Date))>1&&(n.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),x=function(){w=0})}}(),function(){function t(t,e){var r=+new Date,n=t._||{},a=n.DBG=t.DBG,i=t["#"],c=s(9),u=Object.keys(e||"").sort(),d=((e||"")._||"")["#"];u.length;var h=t.$._.root,p=e===h.graph[d];console.STAT&&console.STAT(r,((a||n).gk=+new Date)-r,"got keys"),e&&function t(){r=+new Date;for(var n,g,b,y=0,v={};y<9&&(n=u[y++]);)f(v,n,l(e,n),e[n],d);u=u.slice(y),(g={})[d]=v,v=g,p&&((b=function(){}).ram=b.faith=!0),g=u.length,console.STAT&&console.STAT(r,-(r-(r=+new Date)),"got copied some"),a&&(a.ga=+new Date),h.on("in",{"@":i,"#":c,put:v,"%":g?c=s(9):o,$:h.$,_:b,DBG:a}),console.STAT&&console.STAT(r,+new Date-r,"got in"),g&&setTimeout.turn(t)}(),e||h.on("in",{"@":t["#"]})}n.on.get=function(e,r){var n=r._,a=e.get,i=a["#"],s=n.graph[i],c=a["."];(n.next||(n.next={}))[i];var u=(e._||{}).DBG=e.DBG;if(u&&(u.g=+new Date),!s)return n.on("get",e);if(c){if("string"!=typeof c||o===s[c])return n.on("get",e);s=f({},c,l(s,c),s[c],i)}s&&t(e,s),n.on("get",e)},n.on.get.ack=t}(),n.chain.opt=function(t){t=t||{};var e=this._,r=t.peers||t;return Object.plain(t)||(t={}),Object.plain(e.opt)||(e.opt=t),"string"==typeof r&&(r=[r]),r instanceof Array&&(Object.plain(e.opt.peers)||(e.opt.peers={}),r.forEach((function(t){var r={};r.id=r.url=t,e.opt.peers[t]=e.opt.peers[t]||r}))),e.opt.peers=e.opt.peers||{},i(t,(function t(e){var r=this[e];this&&this.hasOwnProperty(e)||"string"==typeof r||Object.empty(r)?this[e]=r:(!r||r.constructor===Object||r instanceof Array)&&i(r,t)})),n.on("opt",e),e.opt.uuid=e.opt.uuid||function(t){return n.state().toString(36).replace(".","")+String.random(t||12)},this};var o,a,i=function(t,e){Object.keys(t).forEach(e,t)},s=String.random,c=setTimeout.turn,u=n.valid,l=n.state.is,f=n.state.ify,d={};n.log=function(){return!n.log.off&&a.log.apply(a,arguments),[].slice.call(arguments).join(" ")},n.log.once=function(t,e,r){return(r=n.log.once)[t]=r[t]||0,r[t]++||n.log(e)},"undefined"!=typeof window&&((window.GUN=window.Gun=n).window=window);try{void 0!==r&&(r.exports=n)}catch(t){}t.exports=n,(n.window||{}).console=(n.window||{}).console||{log:function(){}},(a=console).only=function(t,e){return a.only.i&&t===a.only.i&&a.only.i++&&(a.log.apply(a,arguments)||e)},n.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")}))(e,"./root"),e((function(t){e("./root").chain.back=function(t,e){if(-1===(t=t||1)||t===1/0)return this._.root.$;if(1===t)return(this._.back||this._).$;var o=this._;if("string"==typeof t&&(t=t.split(".")),t instanceof Array){for(var a=0,i=t.length,s=o;a<i;a++)s=(s||n)[t[a]];return r!==s?e?this:s:(s=o.back)?s.$.back(t,e):void 0}if("function"==typeof t){var c;for(s={back:o};(s=s.back)&&r===(c=t(s,e)););return c}return"number"==typeof t?(o.back||o).$.back(t-1):this};var r,n={}}))(e,"./back"),e((function(t){var r=e("./root");function n(t,e){if(e=e||this.as||t.$._,(!t.$$||this===r.on)&&t.put&&!e.soul){var n=t.put||"",o=n["="]||n[":"],a=e.root,i=a.$.get(n["#"]).get(n["."])._;if("string"==typeof(o=u(o))){if(!(i.echo||(i.echo={}))[e.id]||(a.pass||"")[e.id]){if(s=a.pass){if(s[o+e.id])return;s[o+e.id]=1}(i.echo||(i.echo={}))[e.id]=e,e.has&&(e.link=o);var s,c=a.$.get(i.link=o)._;(c.echo||(c.echo={}))[i.id]=i,((s=e.ask||"")[""]||e.lex)&&c.on("out",{get:{"#":o}}),setTimeout.each(Object.keys(s),(function(t,e){t&&(e=s[t])&&e.on("out",{get:{"#":o,".":t}})}),0,99)}}else this===r.on&&((i.echo||(i.echo={}))[e.id]=e)}}function o(t,e){var r,n,a=t.put||"",s=i!==a["="]?a["="]:a[":"],c=e.root;if(i===s){if(e.soul&&i!==e.put)return;if(n=(t.$$||t.$||"")._||"",t["@"]&&(i!==n.put||i!==e.put))return;return(r=e.link||t.linked)&&delete(c.$.get(r)._.echo||"")[e.id],e.has&&(e.link=null),e.put=i,void setTimeout.each(Object.keys(e.next||""),(function(t,n){(n=e.next[t])&&(r&&delete(c.$.get(r).get(t)._.echo||"")[n.id],n.on("in",{get:t,put:i,$:n.$}))}),0,99)}e.soul||t.$$||(r=u(s),n=t.$._||"",(r!==n.link&&(!e.has||n.link)||(c.pass||"")[e.id]&&"string"!=typeof r)&&(delete(n.echo||"")[e.id],o({get:e.get,put:i,$:t.$,linked:t.linked=t.linked||n.link},e)))}function a(t,e){var n=this.as,o=n.$._;o.root;var a=n.get||"",s=(t.put||"")[a["#"]]||"";if(!t.put||"string"==typeof a["."]&&i===s[a["."]]){if(i!==o.put)return;if(!o.soul&&!o.has)return;return o.ack=(o.ack||0)+1,void o.on("in",{get:o.get,put:o.put=i,$:o.$,"@":t["@"]})}(t._||{}).miss=1,r.on.put(t)}r.chain.chain=function(t){var e,n=this,o=n._,a=new(t||n).constructor(n),i=a._;return i.root=e=o.root,i.id=++e.once,i.back=n._,i.on=r.on,i.on("in",r.on.in,i),i.on("out",r.on.out,i),a},r.on.out=function(t){var e,r,n=this.as,o=n.back,s=n.root;if(t.$||(t.$=n.$),this.to.next(t),!n.err){if(e=t.get){if(s.pass&&(s.pass[n.id]=n),n.lex&&Object.keys(n.lex).forEach((function(t){r[t]=n.lex[t]}),r=t.get=t.get||{}),e["#"]||n.soul){if(e["#"]=e["#"]||n.soul,t["#"]||(t["#"]=c(9)),o=s.$.get(e["#"])._,e=e["."]){if(l(o.put,e)&&(r=o.ask&&o.ask[e],(o.ask||(o.ask={}))[e]=o.$.get(e)._,o.on("in",{get:e,put:{"#":o.soul,".":e,":":o.put[e],">":d(s.graph[o.soul],e)}}),r))return}else{if(r=o.ask&&o.ask[""],(o.ask||(o.ask={}))[""]=o,i!==o.put&&(o.on("in",o),r))return;t.$=o.$}return s.ask(a,t),s.on("in",t)}if(e["."])return n.get?(t={get:{".":n.get},$:n.$},(o.ask||(o.ask={}))[n.get]=t.$._,o.on("out",t)):(t={get:n.lex?t.get:{},$:n.$},o.on("out",t));if((n.ask||(n.ask={}))[""]=n,n.get)return e["."]=n.get,(o.ask||(o.ask={}))[n.get]=t.$._,o.on("out",t)}return o.on("out",t)}n.on("in",{put:n.put=i,$:n.$})},r.on.in=function(t,e){var r,a=(e=e||this.as).root,c=t.$||(t.$=e.$),l=(c||"")._||s,f=t.put||"",p=f["#"],g=f["."],b=i!==f["="]?f["="]:f[":"],y=f[">"]||-1/0;if(i!==t.put&&(i===f["#"]||i===f["."]||i===f[":"]&&i===f["="]||i===f[">"]))return u(f)?void e.on("in",{$:l.back.$,put:{"#":p=l.back.soul,".":g=l.has||l.get,"=":f,">":d(l.back.put,g)},via:t}):(p=((f||"")._||"")["#"])?(c=e.root.$.get(p),setTimeout.each(Object.keys(f).sort(),(function(r){"_"!=r&&i!==(y=d(f,r))&&e.on("in",{$:c,put:{"#":p,".":r,"=":f[r],">":y},VIA:t})}))):void console.log("chain not yet supported for",f,"...",t,e);(t.seen||"")[e.id]||((t.seen||(t.seen=function(){}))[e.id]=e,e!==l&&(Object.keys(t).forEach((function(e){f[e]=t[e]}),f={}),f.get=e.get||f.get,e.soul||e.has?l.soul&&(f.$=e.$,f.$$=f.$$||l.$):f.$$$=f.$$$||e.$,t=f),o(t,e),(e.soul||t.$$)&&y>=d(a.graph[p],g)&&((f=a.$.get(p)._).put=h(f.put,g,y,b,p)),!l.soul&&y>=d(a.graph[p],g)&&(r=(a.$.get(p)._.next||"")[g])&&(r.put=b,"string"==typeof(f=u(b))&&(r.put=a.$.get(f)._.put||b)),this.to&&this.to.next(t),e.any&&setTimeout.each(Object.keys(e.any),(function(r){(r=e.any[r])&&r(t)}),0,99),e.echo&&setTimeout.each(Object.keys(e.echo),(function(r){(r=e.echo[r])&&r.on("in",t)}),0,99),((t.$$||"")._||l).soul&&(r=e.next)&&(r=r[g])&&(f={},Object.keys(t).forEach((function(e){f[e]=t[e]})),f.$=(t.$$||t.$).get(f.get=g),delete f.$$,delete f.$$$,r.on("in",f)),n(t,e))},r.on.link=n,r.on.unlink=o;var i,s={},c=String.random,u=r.valid,l=function(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)},f=r.state,d=f.is,h=f.ify}))(e,"./chain"),e((function(t){var r=e("./root");function n(t){var e=this.at||this.on;if(!t||e.soul||e.has)return this.off();if(t=(t=(t=t.$||t)._||t).id){var r;if(e.map,(r=this.seen||(this.seen={}))[t])return!0;r[t]=!0}}r.chain.get=function(t,e,s){var c,u;if("string"==typeof t){if(0==t.length)return(c=this.chain())._.err={err:r.log("0 length key!",t)},e&&e.call(c,c._.err),c;(c=((f=this._).next||a)[t])||(c=t&&function(t,e){var r=e._,n=r.next,o=e.chain()._;return n||(n=r.next={}),n[o.get=t]=o,e===r.root.$?o.soul=t:(r.soul||r.has)&&(o.has=t),o}(t,this)),c=c&&c.$}else{if("function"==typeof t){if(!0===e)return function(t,e,n,a){var i,s=t._,c=0;(i=s.soul||s.link)?e(i,a,s):s.jam?s.jam.push([e,a]):(s.jam=[[e,a]],t.get((function(t,e){if(!(o===t.put&&!s.root.opt.super&&(i=Object.keys(s.root.opt.peers).length)&&++c<=i)){e.rid(t);var n,a=(a=t.$)&&a._||{},u=0;for(i=s.jam,delete s.jam;n=i[u++];){var l=n[0];n=n[1],l&&l(a.link||a.soul||r.valid(t.put)||((t.put||{})._||{})["#"],n,t,e)}}}),{out:{get:{".":!0}}}))}(this,t,0,s),this;var l,f=(c=this)._,d=e||{},h=f.root;d.at=f,d.ok=t;var p={};function g(t,e,n){if(!g.stun&&(!(a=h.pass)||a[l])){var a,i=t.$._,s=(t.$$||"")._,c=(s||i).put,u=!i.has&&!i.soul,b={};if((u||o===c)&&(c=o===((a=t.put)||"")["="]?o===(a||"")[":"]?a:a[":"]:a["="]),"string"==typeof(a=r.valid(c))&&(c=o===(a=h.$.get(a)._.put)?d.not?o:c:a),!d.not||o!==c){if(o===d.stun){if((a=h.stun)&&a.on&&(f.$.back((function(t){if(a.on(""+t.id,b={}),(b.run||0)<g.id)return b})),!b.run&&a.on(""+i.id,b={}),!b.run&&s&&a.on(""+s.id,b={}),g.id>b.run&&(b.stun&&!b.stun.end||(b.stun=a.on("stun"),b.stun=b.stun&&b.stun.last),b.stun&&!b.stun.end)))return void((b.stun.add||(b.stun.add={}))[l]=function(){g(t,e,1)});if(o===c&&(n=0),(a=h.hatch)&&!a.end&&o===d.hatch&&!n){if(p[i.$._.id])return;return p[i.$._.id]=1,void a.push((function(){g(t,e,1)}))}p={}}if(h.pass){if(h.pass[l+i.id])return;h.pass[l+i.id]=1}d.on?d.ok.call(i.$,c,i.get,t,e||g):d.v2020?d.ok(t,e||g):(Object.keys(t).forEach((function(e){a[e]=t[e]}),a={}),(t=a).put=c,d.ok.call(d.as,t,e||g))}}}return g.at=f,(f.any||(f.any={}))[l=String.random(7)]=g,g.off=function(){g.stun=1,f.any&&delete f.any[l]},g.rid=n,g.id=d.run||++h.once,u=h.pass,(h.pass={})[l]=1,d.out=d.out||{get:{}},f.on("out",d.out),h.pass=u,c}if("number"==typeof t)return this.get(""+t,e,s);if("string"==typeof(u=i(t)))return this.get(u,e,s);(u=this.get.next)&&(c=u(this,t))}return c?(e&&"function"==typeof e&&c.get(e,s),c):((c=this.chain())._.err={err:r.log("Invalid get request!",t)},e&&e.call(c,c._.err),c)};var o,a={},i=r.valid}))(e,"./get"),e((function(t){var r=e("./root");function n(t,e){if(e){e=(e._||"").id||e;var n,o=t.root.stun||(t.root.stun={on:r.on}),a={};t.stun||(t.stun=o.on("stun",(function(){}))),(n=o.on(""+e))&&n.the.last.next(a),a.run>=t.run||o.on(""+e,(function(e){if(t.stun.end)return this.off(),void this.to.next(e);e.run=e.run||t.run,e.stun=e.stun||t.stun}))}}function o(t){if(t.err)o.end(t.stun,t.root);else if(!t.todo.length&&!t.end&&Object.empty(t.wait)){t.end=1;var e,n=t.$.back(-1)._,a=n.root,i=n.ask((function(e){a.on("ack",e),e.err&&r.log(e),++s>(t.acks||0)&&this.off(),t.ack&&t.ack(e,this)}),t.opt),s=0,c=t.stun;(e=function(){c&&(o.end(c,a),setTimeout.each(Object.keys(c=c.add||""),(function(t){(t=c[t])&&t()})))}).hatch=e,t.via._.on("out",{put:t.out=t.graph,opt:t.opt,"#":i,_:e})}}r.chain.put=function(t,e,i){var l=this,f=l._,d=f.root;(i=i||{}).root=f.root,i.run||(i.run=d.once),n(i,f.id),i.ack=i.ack||e,i.via=i.via||l,i.data=i.data||t,i.soul||(i.soul=f.soul||"string"==typeof e&&e);var h=i.state=i.state||r.state();return"function"==typeof t?(t((function(t){i.data=t,l.put(a,a,i)})),l):i.soul?(i.$=d.$.get(i.soul),i.todo=[{it:i.data,ref:i.$}],i.turn=i.turn||s,i.ran=i.ran||o,function t(){var e,a,s,l,f,d=i.todo,p=d.pop(),g=p.it;if(p.ref&&p.ref._.id,n(i,p.ref),(l=p.todo)&&(g=g[a=l.pop()],l.length&&d.push(p)),a&&(d.path||(d.path=[])).push(a),!(e=c(g))&&!(f=r.is(g))){if(!Object.plain(g))return void o.err(i,"Invalid data: "+function(t,e){return t&&(e=t.constructor)&&e.name||typeof t}(g)+" at "+(i.via.back((function(t){t.get&&l.push(t.get)}),l=[])||l.join("."))+"."+(d.path||[]).join("."));for(var b=i.seen||(i.seen=[]),y=b.length;y--;)if(g===(l=b[y]).it){e=g=l.link;break}}if(a&&e)p.node=u(p.node,a,h,g);else{if(!i.seen)return void o.err(i,"Data at root of graph must be a node (an object).");i.seen.push(s={it:g,link:{},todo:f?[]:Object.keys(g).sort().reverse(),path:(d.path||[]).slice(),up:p}),p.node=u(p.node,a,h,s.link),!f&&s.todo.length&&d.push(s);var v=i.seen.length;function m(t,e){var r=s.link["#"];e&&(e.off(),e.rid(t));var o=r||t.soul||(l=(t.$$||t.$)._||"").soul||l.link||((l=l.put||"")._||"")["#"]||l["#"]||((l=t.put||"")&&t.$$?l["#"]:(l["="]||l[":"]||"")["#"]);!r&&n(i,t.$),o||p.link["#"]?(o||(o=[],(t.$$||t.$).back((function(t){if(l=t.soul||t.link)return o.push(l);o.push(t.get)})),o=o.reverse().join("/")),s.link["#"]=o,!f&&(((i.graph||(i.graph={}))[o]=s.node||(s.node={_:{}}))._["#"]=o),delete i.wait[v],s.wait&&setTimeout.each(s.wait,(function(t){t&&t()})),i.ran(i)):(p.wait||(p.wait=[])).push((function(){m(t,e)}))}(i.wait||(i.wait={}))[v]="",l=(s.ref=f?g:a?p.ref.get(a):p.ref)._,(l=g&&(g._||"")["#"]||l.soul||l.link)?m({soul:l}):s.ref.get(m,{run:i.run,v2020:1,out:{get:{".":" "}}})}if(!d.length)return i.ran(i);i.turn(t)}(),l):(function(t){var e,r=t.via._;t.via=t.via.back((function(r){if(r.soul||!r.get)return r.$;e=t.data,(t.data={})[r.get]=e})),t.via&&t.via._.soul||(t.via=r.root.$.get(((t.data||"")._||"")["#"]||r.$.back("opt.uuid")())),t.via.put(t.data,t.ack,t)}(i),l)},o.end=function(t,e){t.end=i,t.the.to===t&&t===t.the.last&&delete e.stun,t.off()},o.err=function(t,e){(t.ack||i).call(t,t.out={err:t.err=r.log(e)}),t.ran(t)};var a,i=function(){},s=setTimeout.turn,c=r.valid,u=r.state.ify}))(e,"./put"),e((function(t){var r=e("./root");e("./chain"),e("./back"),e("./put"),e("./get"),t.exports=r}))(e,"./index"),e((function(t){var r,n=e("./index");n.chain.on=function(t,e,r,n){var o,a=this,i=a._;if(i.root,"string"==typeof t)return e?(o=i.on(t,e,r||i,n),r&&r.$&&(r.subs||(r.subs=[])).push(o),a):i.on(t);var s=e;return(s=!0===s?{change:!0}:s||{}).not=1,s.on=1,a.get(t,s),a},n.chain.once=function(t,e){if(e=e||{},!t)return function(t,e,r){return n.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(r=t.chain())._.nix=t.once((function(t,e){r._.on("in",this._)})),r._.lex=t._.lex,r}(this);var o=this,a=o._,i=a.root;a.put;var s,c=String.random(7);return o.get((function(o,u,l,f){var d=this,h=d._,p=h.one||(h.one={});function g(b){h.has||h.soul||(h={put:o,get:u}),r===(s=h.put)&&(s=((l.$$||"")._||"").put),"string"!=typeof n.valid(s)||(s=i.$.get(s)._.put)!==r||b?f.stun||""!==p[c]&&(p[c]="",(a.soul||a.has)&&f.off(),t.call(d,s,h.get),clearTimeout(p[c])):p[c]=setTimeout((function(){g(1)}),e.wait||99)}f.stun||""!==p[c]&&(!0!==(s=n.valid(o))?"string"!=typeof s&&(clearTimeout((a.one||"")[c]),clearTimeout(p[c]),p[c]=setTimeout(g,e.wait||99)):g())}),{on:1}),o},n.chain.off=function(){var t,e=this._,r=e.back;if(r)return e.ack=0,(t=r.next)&&t[e.get]&&delete t[e.get],(t=r.ask)&&delete t[e.get],(t=r.put)&&delete t[e.get],(t=e.soul)&&delete r.root.graph[t],(t=e.map)&&Object.keys(t).forEach((function(e,n){(n=t[e]).link&&r.root.$.get(n.link).off()})),(t=e.next)&&Object.keys(t).forEach((function(e,r){t[e].$.off()})),e.on("off",{}),this}}))(e,"./on"),e((function(t){var r=e("./index"),n=r.chain.get.next;function o(t){this.to.next(t);var e,n=this.as,o=t.$._,a=t.put;(o.soul||t.$$)&&((e=n.lex)&&!String.match(t.get||(a||"")["."],e["."]||e["#"]||e)||r.on.link(t,n))}r.chain.get.next=function(t,e){var r;return Object.plain(e)?(r=((r=e["#"])||"")["="]||r)?t.get(r):((r=t.chain()._).lex=e,t.on("in",(function(t){String.match(t.get||(t.put||"")["."],e["."]||e["#"]||e)&&r.on("in",t),this.to.next(t)})),r.$):(n||i)(t,e)},r.chain.map=function(t,e,n){var s,c,u=this,l=u._;return Object.plain(t)&&(s=t["."]?t:{".":t},t=a),t?(r.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),c=u.chain(),u.map().on((function(e,n,o,s){var u=(t||i).call(this,e,n,o,s);if(a!==u){if(e===u)return c._.on("in",o);if(r.is(u))return c._.on("in",u._);var l={};Object.keys(o.put).forEach((function(t){l[t]=o.put[t]}),l),l["="]=u,c._.on("in",{get:n,put:l})}})),c):((c=l.each)||((l.each=c=u.chain())._.lex=s||c._.lex||l.lex,c._.nix=u.back("nix"),u.on("in",o,c._)),c)};var a,i=function(){}}))(e,"./map"),e((function(t){var r=e("./index");r.chain.set=function(t,e,n){var o,a,i=this,s=i.back(-1);return e=e||function(){},(n=n||{}).item=n.item||t,(o=((t||"")._||"")["#"])&&((t={})["#"]=o),"string"==typeof(a=r.valid(t))?i.get(o=a).put(t,e,n):r.is(t)?(i.put((function(n){t.get((function(t,o,s){if(!t)return e.call(i,{err:r.log('Only a node can be linked! Not "'+s.put+'"!')});(a={})[t]={"#":t},n(a)}),!0)})),t):(Object.plain(t)&&(t=s.get(o=i.back("opt.uuid")()).put(t)),i.get(o||s.back("opt.uuid")(7)).put(t,e,n))}}))(e,"./set"),e((function(t){e("./shim");var r,n=function(){},o=JSON.parseAsync||function(t,e,r){var n=+new Date;try{e(void 0,JSON.parse(t,r),a.sucks(+new Date-n))}catch(t){e(t)}},a=JSON.stringifyAsync||function(t,e,r,n){var o=+new Date;try{e(void 0,JSON.stringify(t,r,n),a.sucks(+new Date-o))}catch(t){e(t)}};a.sucks=function(t){t>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),a.sucks=n)};try{t.exports=function(t){var e=function(){},n=t.opt||{};n.log=n.log||console.log,n.gap=n.gap||n.wait||0,n.max=n.max||.3*(n.memory?999*n.memory*999:3e8),n.pack=n.pack||.01*n.max*.01,n.puff=n.puff||9;var i=setTimeout.turn||setTimeout,s=t.dup,c=s.check,u=s.track,l=e.hear=function(t,r){if(t){if(n.max<=t.length)return e.say({dam:"!",err:"Message too big!"},r);e===this&&(l.d+=t.length||0,++l.c);var a,s=r.SH=+new Date,c=t[0];return"["===c?(o(t,(function(t,o){if(t||!o)return e.say({dam:"!",err:"DAM JSON parse error."},r);console.STAT&&console.STAT(+new Date,o.length,"# on hear batch");var a=n.puff;!function t(){for(var e,n=+new Date,s=0;s<a&&(e=o[s++]);)l(e,r);o=o.slice(s),console.STAT&&console.STAT(n,+new Date-n,"hear loop"),f(r),o.length&&i(t,0)}()})),void(t="")):"{"===c||(t["#"]||Object.plain(t))&&(a=t)?a?l.one(a,r,s):void o(t,(function(t,n){if(t||!n)return e.say({dam:"!",err:"DAM JSON parse error."},r);l.one(n,r,s)})):void 0}};function f(t){var e=t.batch,r="string"==typeof e;if(r&&(e+="]"),t.batch=t.tail=null,e&&!(r?3>e.length:!e.length)){if(!r)try{e=1===e.length?e[0]:JSON.stringify(e)}catch(t){return n.log("DAM JSON stringify error",t)}e&&d(e,t)}}function d(t,r){try{var n=r.wire;r.say?r.say(t):n.send&&n.send(t),e.say.d+=t.length||0,++e.say.c}catch(e){(r.queue=r.queue||[]).push(t)}}l.one=function(r,n,o){var a,i,l,f,d;if(r.DBG&&(r.DBG=d={DBG:r.DBG}),d&&(d.h=o),d&&(d.hp=+new Date),(a=r["#"])||(a=r["#"]=String.random(9)),!((l=c(a))||(i=r["##"])&&(l=r["@"]||r.get&&a)&&s.check(f=l+i))){if((r._=function(){}).via=e.leap=n,(l=r["><"])&&"string"==typeof l&&l.slice(0,99).split(",").forEach((function(t){this[t]=1}),r._.yo={}),l=r.dam)return(l=e.hear[l])&&l(r,n,t),void u(a);o=+new Date,d&&(d.is=o),n.SI=a,t.on("in",e.last=r),d&&(d.hd=+new Date),console.STAT&&console.STAT(o,+new Date-o,r.get?"msg get":r.put?"msg put":"msg"),(l=u(a)).via=n,r.get&&(l.it=r),f&&u(f),e.leap=e.last=null}},l.c=l.d=0,function(){var t,o=0;function l(t,e){var r;return e instanceof Object?(Object.keys(e).sort().forEach(h,{to:r={},on:e}),r):e}function h(t){this.to[t]=this.on[t]}e.hash=function(t,e){var r,n,o,s=+new Date;a(t.put,(function a(c,u){var l=(n||(n=o=u||"")).slice(0,32768);r=String.hash(l,r),(n=n.slice(32768))?i(a,0):(console.STAT&&console.STAT(s,+new Date-s,"say json+hash"),t._.$put=o,t["##"]=r,p(t,e),delete t._.$put)}),l)};var p=e.say=function(a,c){var l;if((l=this)&&(l=l.to)&&l.next&&l.next(a),!a)return!1;var h,g,b=a["@"],y=a._||(a._=function(){}),v=a.DBG,m=+new Date;if(y.y=y.y||m,c||v&&(v.y=m),(h=a["#"])||(h=a["#"]=String.random(9)),!t&&u(h),a.put&&(a.err||(s.s[h]||"").err))return!1;if(a["##"]||r===a.put||y.via||!b){if(!c&&b&&(c=(l=s.s[b])&&(l.via||(l=l.it)&&(l=l._)&&l.via)||(l=e.last)&&b===l["#"]&&e.leap),!c&&b){if(s.s[b])return;return console.STAT&&console.STAT(+new Date,++o,"total no peer to ack to"),!1}if(!c&&e.way)return e.way(a);if(v&&(v.yh=+new Date),g=y.raw){if(v&&(v.yr=+new Date),!c||!c.id){if(!Object.plain(c||n.peers))return!1;m=+new Date,n.puff;var w=n.peers,x=Object.keys(c||n.peers||{});return console.STAT&&console.STAT(m,+new Date-m,"peer keys"),void function e(){var r=+new Date;t=1;var n=y.raw;y.raw=g;for(var o,s=0;s<9&&(o=(x||"")[s++]);)(o=w[o])&&p(a,o);y.raw=n,t=0,x=x.slice(s),console.STAT&&console.STAT(r,+new Date-r,"say loop"),x.length&&(i(e,0),b&&u(b))}()}if(!c.wire&&e.wire&&e.wire(c),h!==c.last){if(c.last=h,c===y.via)return!1;if((l=y.yo)&&(l[c.url]||l[c.pid]||l[c.id]))return!1;if(console.STAT&&console.STAT(m,((v||y).yp=+new Date)-(y.y||m),"say prep"),!t&&b&&u(b),c.batch){if(c.tail=(l=c.tail||0)+g.length,c.tail<=n.pack)return void(c.batch+=(l?",":"")+g);f(c)}c.batch="[";var k=+new Date;setTimeout((function(){console.STAT&&console.STAT(k,+new Date-k,"0ms TO"),f(c)}),n.gap),d(g,c),console.STAT&&b===c.SI&&console.STAT(m,+new Date-c.SH,"say ack")}}else e.raw(a,c)}else e.hash(a,c)};e.say.c=e.say.d=0,e.raw=function(t,o){if(!t)return"";var i,u,l=t._||{};if(u=l.raw)return u;if("string"==typeof t)return t;var f=t["##"],d=t["@"];if(f&&d){if(!l.via&&c(d+f))return!1;if((u=(s.s[d]||"").it)||(u=e.last)&&d===u["#"]){if(f===u["##"])return!1;u["##"]||(u["##"]=f)}}if(!t.dam){var h=0,g=[];for(var b in u=n.peers){var y=u[b];if(g.push(y.url||y.pid||y.id),++h>6)break}h>1&&(t["><"]=g.join())}if(i=l.$put)return u={},Object.keys(t).forEach((function(e){u[e]=t[e]})),u.put=":])([:",void a(u,(function(t,e){if(!t){var n=+new Date;u=e.indexOf('"put":":])([:"'),v(r,e=e.slice(0,u+6)+i+e.slice(u+14)),console.STAT&&console.STAT(n,+new Date-n,"say slice")}}));function v(e,r){e||(l.raw=r,p(t,o))}a(t,v)}}(),e.hi=function(r){var o=r.wire||{};r.id?n.peers[r.url||r.id]=r:(o=r.id=r.id||String.random(9),e.say({dam:"?",pid:t.opt.pid},n.peers[o]=r),delete s.s[r.last]),r.met=r.met||+new Date,o.hied||t.on(o.hied="hi",r),o=r.queue,r.queue=[],setTimeout.each(o||[],(function(t){d(t,r)}),0,9)},e.bye=function(r){t.on("bye",r);var n=+new Date;n-=r.met||n,e.bye.time=((e.bye.time||n)+n)/2},e.hear["!"]=function(t,e){n.log("Error:",t.err)},e.hear["?"]=function(t,r){t.pid&&(r.pid||(r.pid=t.pid),t["@"])||(e.say({dam:"?",pid:n.pid,"@":t["#"]},r),delete s.s[r.last])},t.on("create",(function(t){t.opt.pid=t.opt.pid||String.random(9),this.to.next(t),t.on("out",e.say)})),t.on("bye",(function(t,e){t=n.peers[t.id||t]||t,this.to.next(t),t.bye?t.bye():(e=t.wire)&&e.close&&e.close(),delete n.peers[t.id],t.wire=null}));var h={};return t.on("bye",(function(t,e){this.to.next(t),(e=console.STAT)&&(e.peers=(e.peers||0)-1),(e=t.url)&&(h[e]=!0,setTimeout((function(){delete h[e]}),n.lack||9e3))})),t.on("hi",(function(r,o){this.to.next(r),(o=console.STAT)&&(o.peers=(o.peers||0)+1),(o=r.url)&&h[o]&&(delete h[o],n.super||setTimeout.each(Object.keys(t.next),(function(n){t.next[n],(o={})[n]=t.graph[n],o=String.hash(o),e.say({"##":o,get:{"#":n}},r)})))})),e}}catch(t){}}))(e,"./mesh"),e((function(t){var r=e("../index");r.Mesh=e("./mesh"),r.on("opt",(function(t){if(this.to.next(t),!t.once){var e=t.opt;if(!1!==e.WebSocket){var n=r.window||{},o=e.WebSocket||n.WebSocket||n.webkitWebSocket||n.mozWebSocket;if(o){e.WebSocket=o;var a=e.mesh=e.mesh||r.Mesh(t);a.wire||e.wire,a.wire=e.wire=c,setTimeout((function(){!e.super&&t.on("out",{dam:"hi"})}),1);var i=1998,s=""+void 0!=typeof document&&document}}}function c(t){try{if(!t||!t.url)return n&&n(t);var r=t.url.replace(/^http/,"ws"),n=t.wire=new e.WebSocket(r);return n.onclose=function(){e.mesh.bye(t),u(t)},n.onerror=function(e){u(t)},n.onopen=function(){e.mesh.hi(t)},n.onmessage=function(r){r&&e.mesh.hear(r.data||r,t)},n}catch(t){}}function u(t){clearTimeout(t.defer),s&&t.retry<=0||(t.retry=(t.retry||e.retry+1||60)-(-t.tried+(t.tried=+new Date)<7992?1:0),t.defer=setTimeout((function e(){if(s&&s.hidden)return setTimeout(e,i);c(t)}),i))}}))}))(e,"./websocket"),e((function(t){if("undefined"!=typeof Gun){var e;try{e=(Gun.window||function(){}).localStorage}catch(t){}e||(Gun.log("Warning: No localStorage exists to persist data to!"),e={setItem:function(t,e){this[t]=e},removeItem:function(t){delete this[t]},getItem:function(t){return this[t]}});var r=JSON.stringifyAsync||function(t,e,r,n){try{e(void 0,JSON.stringify(t,r,n))}catch(t){e(t)}};Gun.on("create",(function t(n){this.to.next(n);var o=n.opt;n.graph;var a,i,s,c,u=[];if(!1!==o.localStorage){o.prefix=o.file||"gun/";try{a=t[o.prefix]=t[o.prefix]||JSON.parse(i=e.getItem(o.prefix))||{}}catch(e){a=t[o.prefix]={}}s=(i||"").length,n.on("get",(function(t){this.to.next(t);var e,r,n,o=t.get;o&&(e=o["#"])&&((r=a[e]||void 0)&&(n=o["."])&&!Object.plain(n)&&(r=Gun.state.ify({},n,Gun.state.is(r,n),r[n],e)),Gun.on.get.ack(t,r))})),n.on("put",(function(t){this.to.next(t);var e=t.put,r=e["#"],o=e["."],f=t["#"];a[r]=Gun.state.ify(a[r],o,e[">"],e[":"],r),c&&s>4999880?n.on("in",{"@":f,err:"localStorage max!"}):(t["@"]||u.push(f),i||(i=setTimeout(l,9+s/333)))}))}function l(){if(u.length||!((setTimeout.turn||"").s||"").length){var t=u;clearTimeout(i),i=!1,u=[],r(a,(function(r,i){try{!r&&e.setItem(o.prefix,i)}catch(t){r=c=t||"localStorage failure"}r&&(Gun.log(r+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),n.on("localStorage:error",{err:r,get:o.prefix,put:a})),s=i.length,(r||Object.empty(o.peers))&&setTimeout.each(t,(function(t){n.on("in",{"@":t,err:r,ok:0})}),0,99)}))}else setTimeout(l,99)}}))}}))(e,"./localStorage")}(),function(){if(""+k!=typeof Gun){var t=function(t){console.warn("Warning! Deprecated internal utility will break in next version:",t)},e=Gun;e.fn=e.fn||{is:function(e){return t("fn"),!!e&&"function"==typeof e}},e.bi=e.bi||{is:function(e){return t("bi"),e instanceof Boolean||"boolean"==typeof e}},e.num=e.num||{is:function(e){return t("num"),!n(e)&&(e-parseFloat(e)+1>=0||e===1/0||e===-1/0)}},e.text=e.text||{is:function(e){return t("text"),"string"==typeof e}},e.text.ify=e.text.ify||function(r){return t("text.ify"),e.text.is(r)?r:"undefined"!=typeof JSON?JSON.stringify(r):r&&r.toString?r.toString():r},e.text.random=e.text.random||function(e,r){t("text.random");var n="";for(e=e||24,r=r||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";e>0;)n+=r.charAt(Math.floor(Math.random()*r.length)),e--;return n},e.text.match=e.text.match||function(e,r){var n,o;return t("text.match"),"string"==typeof e&&("string"==typeof r&&(r={"=":r}),e===(n=(r=r||{})["="]||r["*"]||r[">"]||r["<"])||o===r["="]&&(n=r["*"]||r[">"]||r["<"],e.slice(0,(n||"").length)===n||o===r["*"]&&(o!==r[">"]&&o!==r["<"]?e>=r[">"]&&e<=r["<"]:o!==r[">"]&&e>=r[">"]||o!==r["<"]&&e<=r["<"])))},e.text.hash=e.text.hash||function(e,r){if(t("text.hash"),"string"==typeof e){if(r=r||0,!e.length)return r;for(var n=0,o=e.length;n<o;++n)r=(r<<5)-r+e.charCodeAt(n),r|=0;return r}},e.list=e.list||{is:function(e){return t("list"),e instanceof Array}},e.list.slit=e.list.slit||Array.prototype.slice,e.list.sort=e.list.sort||function(e){return t("list.sort"),function(t,r){return t&&r?(t=t[e])<(r=r[e])?-1:t>r?1:0:0}},e.list.map=e.list.map||function(e,r,n){return t("list.map"),i(e,r,n)},e.list.index=1,e.obj=e.boj||{is:function(e){return t("obj"),!!e&&(e instanceof Object&&e.constructor===Object||"Object"===Object.prototype.toString.call(e).match(/^\[object (\w+)\]$/)[1])}},e.obj.put=e.obj.put||function(e,r,n){return t("obj.put"),(e||{})[r]=n,e},e.obj.has=e.obj.has||function(e,r){return t("obj.has"),e&&Object.prototype.hasOwnProperty.call(e,r)},e.obj.del=e.obj.del||function(e,r){if(t("obj.del"),e)return e[r]=null,delete e[r],e},e.obj.as=e.obj.as||function(e,r,n,o){return t("obj.as"),e[r]=e[r]||(o===n?{}:n)},e.obj.ify=e.obj.ify||function(e){if(t("obj.ify"),o(e))return e;try{e=JSON.parse(e)}catch(t){e={}}return e},function(){function r(t,e){a(this,e)&&void 0!==this[e]||(this[e]=t)}e.obj.to=e.obj.to||function(e,n){return t("obj.to"),i(e,r,n=n||{}),n}}(),e.obj.copy=e.obj.copy||function(e){return t("obj.copy"),e?JSON.parse(JSON.stringify(e)):e},function(){function r(t,e){var r=this.n;if(!r||!(e===r||o(r)&&a(r,e)))return void 0!==e||void 0}e.obj.empty=e.obj.empty||function(e,n){return t("obj.empty"),!e||!i(e,r,{n:n})}}(),function(){function r(t,e){if(2===arguments.length)return r.r=r.r||{},void(r.r[t]=e);r.r=r.r||[],r.r.push(t)}var i,s=Object.keys;Object.keys=Object.keys||function(t){return i(t,(function(t,e,r){r(e)}))},e.obj.map=i=e.obj.map||function(i,c,u){t("obj.map");var l,f,d,h,p,g=0,b="function"==typeof c;if(r.r=l,s&&o(i)&&(h=s(i),p=!0),u=u||{},n(i)||h)for(f=(h||i).length;g<f;g++){var y=g+e.list.index;if(b){if((d=p?c.call(u,i[h[g]],h[g],r):c.call(u,i[g],y,r))!==l)return d}else if(c===i[p?h[g]:g])return h?h[g]:y}else for(g in i)if(b){if(a(i,g)&&(d=u?c.call(u,i[g],g,r):c(i[g],g,r))!==l)return d}else if(c===i[g])return g;return b?r.r:e.list.index?0:-1}}(),e.time=e.time||{},e.time.is=e.time.is||function(e){return t("time"),e?e instanceof Date:+(new Date).getTime()};var r=e.fn.is,n=e.list.is,o=(x=e.obj).is,a=x.has,i=x.map,s={is:function(e){return t("val.is"),e!==k&&(null===e||e!==1/0&&(!!(f(e)||u(e)||l(e))||s.link.is(e)||!1))}};s.link=s.rel={_:"#"},function(){function e(t,e){var r=this;return r.id?r.id=!1:e==c&&f(t)?void(r.id=t):r.id=!1}s.link.is=function(r){if(t("val.link.is"),r&&r[c]&&!r._&&o(r)){var n={};if(i(r,e,n),n.id)return n.id}return!1}}(),s.link.ify=function(e){return t("val.link.ify"),d({},c,e)},e.obj.has._=".";var c=s.link._,u=e.bi.is,l=e.num.is,f=e.text.is,d=(o=(x=e.obj).is,x.put);i=x.map,e.val=e.val||s;var h={_:"_",soul:function(e,r){return t("node.soul"),e&&e._&&e._[r||b]}};h.soul.ify=function(e,r){return t("node.soul.ify"),r="string"==typeof r?{soul:r}:r||{},(e=e||{})._=e._||{},e._[b]=r.soul||e._[b]||g(),e},h.soul._=s.link._,function(){function e(t,e){if(e!==h._)return!s.is(t)||void(this.cb&&this.cb.call(this.as,t,e,this.n,this.s))}h.is=function(r,n,a){var s;return t("node.is"),!!o(r)&&!!(s=h.soul(r))&&!i(r,e,{as:a,cb:n,s:s,n:r})}}(),function(){function e(t,e){var r,n=this.o;n.map?void 0===(r=n.map.call(this.as,t,""+e,n.node))?p(n.node,e):n.node&&(n.node[e]=r):s.is(t)&&(n.node[e]=t)}h.ify=function(r,n,o){return t("node.ify"),n?"string"==typeof n?n={soul:n}:"function"==typeof n&&(n={map:n}):n={},n.map&&(n.node=n.map.call(o,r,k,n.node||{})),(n.node=h.soul.ify(n.node||{},n))&&i(r,e,{o:n,as:o}),n.node}}(),o=(x=e.obj).is;var p=x.del,g=(i=x.map,e.text.random),b=h.soul._;e.node=e.node||h;var y=e.state;y.lex=function(){return t("state.lex"),y().toString(36).replace(".","")},y.to=function(e,r,n){t("state.to");var a=(e||{})[r];return o(a)&&(a=v(a)),y.ify(n,r,y.is(e,r),a,h.soul(e))},function(){function e(t,e){m!==e&&y.ify(this.o,e,this.s)}y.map=function(n,s,c){var u;t("state.map");var f=o(f=n||s)?f:null;return n=r(n=n||s)?n:null,f&&!n?(s=l(s)?s:y(),f[m]=f[m]||{},i(f,e,{o:f,s:s}),f):(c=c||o(s)?s:u,s=l(s)?s:y(),function(t,r,o,i){if(!n)return e.call({o:o,s:s},t,r),t;n.call(c||this||{},t,r,o,i),a(o,r)&&u===o[r]||e.call({o:o,s:s},t,r)})}}(),(x=e.obj).as,a=x.has,o=x.is,i=x.map;var v=x.copy,m=(l=e.num.is,r=e.fn.is,h._),w={};!function(){function e(t,e){if(!t||e!==h.soul(t)||!h.is(t,this.fn,this.as))return!0;this.cb&&(r.n=t,r.as=this.as,this.cb.call(r.as,t,e,r))}function r(t){t&&h.is(r.n,t,r.as)}w.is=function(r,n,a,s){return t("graph.is"),!(!r||!o(r)||$(r)||i(r,e,{cb:n,fn:a,as:s}))}}(),function(){function r(t,e){var r;return(r=function(t,e){for(var r,n=t.seen,o=n.length;o--;)if(r=n[o],e.obj===r.obj)return r;n.push(e)}(t,e))?r:(e.env=t,e.soul=i,h.ify(e.obj,n,e)&&(e.link=e.link||s.link.ify(h.soul(e.node)),e.obj!==t.shell&&(t.graph[s.link.is(e.link)]=e.node)),e)}function n(t,e,n){var o,i,u=this,l=u.env;if(h._===e&&a(t,s.link._))return n._;if(o=c(t,e,n,u,l)){if(e||(u.node=u.node||n||{},a(t,h._)&&h.soul(t)&&(u.node._=v(t._)),u.node=h.soul.ify(u.node,s.link.is(u.link)),u.link=u.link||s.link.ify(h.soul(u.node))),(i=l.map)&&(i.call(l.as||{},t,e,n,u),a(n,e))){if(t=n[e],k===t)return void p(n,e);if(!(o=c(t,e,n,u,l)))return}if(!e)return u.node;if(!0===o)return t;if((i=r(l,{obj:t,path:u.path.concat(e)})).node)return i.link}}function i(t){var e=this,r=s.link.is(e.link),n=e.env.graph;e.link=e.link||s.link.ify(t),e.link[s.link._]=t,e.node&&e.node[h._]&&(e.node[h._][s.link._]=t),a(n,r)&&(n[t]=n[r],p(n,r))}function c(t,r,n,a,i){var u;return!!s.is(t)||(o(t)?1:(u=i.invalid)?c(t=u.call(i.as||{},t,r,n),r,n,a,i):(i.err="Invalid value at '"+a.path.concat(r).join(".")+"'!",void(e.list.is(t)&&(i.err+=" Use `.set(item)` instead of an Array."))))}w.ify=function(e,n,o){t("graph.ify");var a={path:[],obj:e};return n?"string"==typeof n?n={soul:n}:"function"==typeof n&&(n.map=n):n={},"string"==typeof o&&(n.soul=n.soul||o,o=k),n.soul&&(a.link=s.link.ify(n.soul)),n.shell=(o||{}).shell,n.graph=n.graph||{},n.seen=n.seen||[],n.as=n.as||o,r(n,a),n.root=a.node,n.graph}}(),w.node=function(e){t("graph.node");var r=h.soul(e);if(r)return d({},r,e)},function(){function e(t,e){var r,n;if(h._!==e)(r=s.link.is(t))?(n=this.opt.seen[r])?this.obj[e]=n:this.obj[e]=this.opt.seen[r]=w.to(this.graph,r,this.opt):this.obj[e]=t;else{if($(t,s.link._))return;this.obj[e]=v(t)}}w.to=function(r,n,o){if(t("graph.to"),r){var a={};return o=o||{seen:{}},i(r[n],e,{obj:a,graph:r,opt:o}),a}}}(),r=e.fn.is,o=(x=e.obj).is,p=x.del,a=x.has;var x,k,$=x.empty;d=x.put,i=x.map,v=x.copy,e.graph=e.graph||w}}()}(Mt={path:undefined,exports:{},require:function(t,e){return Gt(null==e&&Mt.path)}},Mt.exports),Mt.exports),Pt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){var e={exports:{}};!function(t){!function(){function e(t,r){return r?function(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}(t):t.slice?e[n(t)]:function(r,o){t(r={exports:{}}),e[n(o)]=r.exports};function n(t){return t.split("/").slice(-1).toString().replace(".js","")}}var r=t;e((function(t){"undefined"!=typeof window&&(t.window=window);var e=(t.window||t).SEA||{};(e.window=t.window)&&(e.window.SEA=e);try{void 0+""!=typeof r&&(r.exports=e)}catch(t){}t.exports=e}))(e,"./root"),e((function(t){var r=e("./root");try{r.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch(t){}}))(e,"./https"),e((function(t){var r;if(r+""==typeof btoa){if(r+""==typeof Buffer)try{Pt.Buffer=e("buffer",1).Buffer}catch(t){console.log("Please `npm install buffer` or add it to your package.json !")}Pt.btoa=function(t){return Buffer.from(t,"binary").toString("base64")},Pt.atob=function(t){return Buffer.from(t,"base64").toString("binary")}}}))(e,"./base64"),e((function(t){function r(){}e("./base64"),Object.assign(r,{from:Array.from}),r.prototype=Object.create(Array.prototype),r.prototype.toString=function(t,e,r){t=t||"utf8",e=e||0;const n=this.length;if("hex"===t){const t=new Uint8Array(this);return[...Array((r&&r+1||n)-e).keys()].map((r=>t[r+e].toString(16).padStart(2,"0"))).join("")}return"utf8"===t?Array.from({length:(r||n)-e},((t,r)=>String.fromCharCode(this[r+e]))).join(""):"base64"===t?btoa(this):void 0},t.exports=r}))(e,"./array"),e((function(t){e("./base64");var r=e("./array");function n(...t){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),n.from(...t)}n.prototype=Object.create(Array.prototype),Object.assign(n,{from(){if(!Object.keys(arguments).length||null==arguments[0])throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const t=arguments[0];let e;if("string"==typeof t){const n=arguments[1]||"utf8";if("hex"===n){const n=t.match(/([\da-fA-F]{2})/g).map((t=>parseInt(t,16)));if(!n||!n.length)throw new TypeError("Invalid first argument for type 'hex'.");e=r.from(n)}else if("utf8"===n||"binary"===n){const n=t.length,o=new Uint16Array(n);Array.from({length:n},((e,r)=>o[r]=t.charCodeAt(r))),e=r.from(o)}else if("base64"===n){const n=atob(t),o=n.length,a=new Uint8Array(o);Array.from({length:o},((t,e)=>a[e]=n.charCodeAt(e))),e=r.from(a)}else"binary"===n?e=r.from(t):console.info("SafeBuffer.from unknown encoding: "+n);return e}if(t.byteLength,t.byteLength?t.byteLength:t.length){let e;return t instanceof ArrayBuffer&&(e=new Uint8Array(t)),r.from(e||t)}},alloc:(t,e=0)=>r.from(new Uint8Array(Array.from({length:t},(()=>e)))),allocUnsafe:t=>r.from(new Uint8Array(Array.from({length:t}))),concat(t){if(!Array.isArray(t))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return r.from(t.reduce(((t,e)=>t.concat(Array.from(e))),[]))}}),n.prototype.from=n.from,n.prototype.toString=r.prototype.toString,t.exports=n}))(e,"./buffer"),e((function(t){const n=e("./root"),o={Buffer:e("./buffer")};var a={};if(JSON.parseAsync=JSON.parseAsync||function(t,e,r){try{e(void 0,JSON.parse(t,r))}catch(t){e(t)}},JSON.stringifyAsync=JSON.stringifyAsync||function(t,e,r,n){try{e(void 0,JSON.stringify(t,r,n))}catch(t){e(t)}},o.parse=function(t,e){return new Promise((function(r,n){JSON.parseAsync(t,(function(t,e){t?n(t):r(e)}),e)}))},o.stringify=function(t,e,r){return new Promise((function(n,o){JSON.stringifyAsync(t,(function(t,e){t?o(t):n(e)}),e,r)}))},n.window&&(o.crypto=window.crypto||window.msCrypto,o.subtle=(o.crypto||a).subtle||(o.crypto||a).webkitSubtle,o.TextEncoder=window.TextEncoder,o.TextDecoder=window.TextDecoder,o.random=t=>o.Buffer.from(o.crypto.getRandomValues(new Uint8Array(o.Buffer.alloc(t))))),!o.TextDecoder){const{TextEncoder:t,TextDecoder:n}=e((void 0+""==typeof r?".":"")+"./lib/text-encoding",1);o.TextDecoder=n,o.TextEncoder=t}if(!o.crypto)try{var i=e("crypto",1);Object.assign(o,{crypto:i,random:t=>o.Buffer.from(i.randomBytes(t))});const{Crypto:t}=e("@peculiar/webcrypto",1);o.ossl=o.subtle=new t({directory:"ossl"}).subtle}catch(t){console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}t.exports=o}))(e,"./shim"),e((function(t){var r=e("./root"),n=e("./shim"),o={pbkdf2:{hash:{name:"SHA-256"},iter:1e5,ks:64},ecdsa:{pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},ecdh:{name:"ECDH",namedCurve:"P-256"},jwk:function(t,e){var r={kty:"EC",crv:"P-256",x:(t=t.split("."))[0],y:t[1],ext:!0};return r.key_ops=e?["sign"]:["verify"],e&&(r.d=e),r},keyToJwk:function(t){return{kty:"oct",k:t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},recall:{validity:43200,hook:function(t){return t}},check:function(t){return"string"==typeof t&&"SEA{"===t.slice(0,4)},parse:async function(t){try{var e="string"==typeof t;return e&&"SEA{"===t.slice(0,4)&&(t=t.slice(3)),e?await n.parse(t):t}catch(t){}return t}};r.opt=o,t.exports=o}))(e,"./settings"),e((function(t){var r=e("./shim");t.exports=async function(t,e){var n="string"==typeof t?t:await r.stringify(t),o=await r.subtle.digest({name:e||"SHA-256"},(new r.TextEncoder).encode(n));return r.Buffer.from(o)}}))(e,"./sha256"),e((function(t){const r=e("./shim"),n=r.subtle,o=r.ossl?r.ossl:n;t.exports=t=>o.digest({name:"SHA-1"},new ArrayBuffer(t))}))(e,"./sha1"),e((function(t){var r=e("./root"),n=e("./shim"),o=e("./settings"),a=e("./sha256");r.work=r.work||(async(t,e,i,s)=>{try{var c=(e||{}).epub||e;if(s=s||{},c instanceof Function&&(i=c,c=void 0),t="string"==typeof t?t:await n.stringify(t),"sha"===(s.name||"").toLowerCase().slice(0,3)){var u=n.Buffer.from(await a(t,s.name),"binary").toString(s.encode||"base64");if(i)try{i(u)}catch(t){console.log(t)}return u}c=c||n.random(9);var l=await(n.ossl||n.subtle).importKey("raw",(new n.TextEncoder).encode(t),{name:s.name||"PBKDF2"},!1,["deriveBits"]),f=await(n.ossl||n.subtle).deriveBits({name:s.name||"PBKDF2",iterations:s.iterations||o.pbkdf2.iter,salt:(new n.TextEncoder).encode(s.salt||c),hash:s.hash||o.pbkdf2.hash},l,s.length||8*o.pbkdf2.ks);t=n.random(t.length);var d=n.Buffer.from(f,"binary").toString(s.encode||"base64");if(i)try{i(d)}catch(t){console.log(t)}return d}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(i&&i())}}),t.exports=r.work}))(e,"./work"),e((function(t){var r=e("./root"),n=e("./shim");e("./settings"),r.name=r.name||(async(t,e)=>{try{if(t)try{t()}catch(t){console.log(t)}return}catch(e){if(console.log(e),r.err=e,r.throw)throw e;return void(t&&t())}}),r.pair=r.pair||(async(t,e)=>{try{var o=n.ossl||n.subtle,a=await n.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then((async t=>{var e={};e.priv=(await n.subtle.exportKey("jwk",t.privateKey)).d;var r=await n.subtle.exportKey("jwk",t.publicKey);return e.pub=r.x+"."+r.y,e}));try{var i=await o.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then((async t=>{var e={};e.epriv=(await o.exportKey("jwk",t.privateKey)).d;var r=await o.exportKey("jwk",t.publicKey);return e.epub=r.x+"."+r.y,e}))}catch(t){if(r.window)throw t;if("Error: ECDH is not a supported algorithm"!=t)throw t;console.log("Ignoring ECDH...")}i=i||{};var s={pub:a.pub,priv:a.priv,epub:i.epub,epriv:i.epriv};if(t)try{t(s)}catch(t){console.log(t)}return s}catch(e){if(console.log(e),r.err=e,r.throw)throw e;return void(t&&t())}}),t.exports=r.pair}))(e,"./pair"),e((function(t){var r,n=e("./root"),o=e("./shim"),a=e("./settings"),i=e("./sha256");n.sign=n.sign||(async(t,e,s,c)=>{try{if(c=c||{},!(e||c).priv){if(!n.I)throw"No signing key.";e=await n.I(null,{what:t,how:"sign",why:c.why})}if(r===t)throw"`undefined` not allowed.";var u=await a.parse(t),l=c.check=c.check||u;if(n.verify&&(n.opt.check(l)||l&&l.s&&l.m)&&r!==await n.verify(l,e)){var f=await a.parse(l);if(c.raw||(f="SEA"+await o.stringify(f)),s)try{s(f)}catch(t){console.log(t)}return f}var d=e.pub,h=e.priv,p=a.jwk(d,h),g=await i(u),b=await(o.ossl||o.subtle).importKey("jwk",p,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then((t=>(o.ossl||o.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},t,new Uint8Array(g))));if(f={m:u,s:o.Buffer.from(b,"binary").toString(c.encode||"base64")},c.raw||(f="SEA"+await o.stringify(f)),s)try{s(f)}catch(t){console.log(t)}return f}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(s&&s())}}),t.exports=n.sign}))(e,"./sign"),e((function(t){var r,n=e("./root"),o=e("./shim"),a=e("./settings"),i=e("./sha256");n.verify=n.verify||(async(t,e,s,c)=>{try{var u=await a.parse(t);if(!1===e){var l=await a.parse(u.m);if(s)try{s(l)}catch(t){console.log(t)}return l}c=c||{};var f,d,h,p=e.pub||e,g=n.opt.slow_leak?await n.opt.slow_leak(p):await(o.ossl||o.subtle).importKey("jwk",a.jwk(p),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),b=await i(u.m);try{if(f=o.Buffer.from(u.s,c.encode||"base64"),d=new Uint8Array(f),!(h=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},g,d,new Uint8Array(b))))throw"Signature did not match."}catch(r){if(n.opt.fallback)return await n.opt.fall_verify(t,e,s,c)}var y=h?await a.parse(u.m):r;if(s)try{s(y)}catch(t){console.log(t)}return y}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(s&&s())}}),t.exports=n.verify;var s={};n.opt.slow_leak=t=>{if(s[t])return s[t];var e=a.jwk(t);return s[t]=(o.ossl||o.subtle).importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),s[t]};var c=n.opt;n.opt.fall_verify=async function(t,e,s,u,l){if(l===n.opt.fallback)throw"Signature did not match";l=l||1;var f=t||"";t=n.opt.unpack(t)||t;var d,h,p,g=await a.parse(t),b=e.pub||e,y=await n.opt.slow_leak(b),v=l<=n.opt.fallback?o.Buffer.from(await o.subtle.digest({name:"SHA-256"},(new o.TextEncoder).encode(await a.parse(g.m)))):await i(g.m);try{if(d=o.Buffer.from(g.s,u.encode||"base64"),h=new Uint8Array(d),!(p=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},y,h,new Uint8Array(v))))throw"Signature did not match."}catch(t){try{d=o.Buffer.from(g.s,"utf8"),h=new Uint8Array(d),p=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},y,h,new Uint8Array(v))}catch(t){if(!p)throw"Signature did not match."}}var m=p?await a.parse(g.m):r;if(c.fall_soul=f["#"],c.fall_key=f["."],c.fall_val=t,c.fall_state=f[">"],s)try{s(m)}catch(t){console.log(t)}return m},n.opt.fallback=2}))(e,"./verify"),e((function(t){var r=e("./shim"),n=e("./settings"),o=e("./sha256");t.exports=async(t,e,a)=>{const i=t+(e||r.random(8)).toString("utf8"),s=r.Buffer.from(await o(i),"binary"),c=n.keyToJwk(s);return await r.subtle.importKey("jwk",c,{name:"AES-GCM"},!1,["encrypt","decrypt"])}}))(e,"./aeskey"),e((function(t){var r=e("./root"),n=e("./shim");e("./settings");var o=e("./aeskey");r.encrypt=r.encrypt||(async(t,e,a,i)=>{try{i=i||{};var s=(e||i).epriv||e;if(void 0===t)throw"`undefined` not allowed.";if(!s){if(!r.I)throw"No encryption key.";s=(e=await r.I(null,{what:t,how:"encrypt",why:i.why})).epriv||e}var c="string"==typeof t?t:await n.stringify(t),u={s:n.random(9),iv:n.random(15)},l=await o(s,u.s,i).then((t=>n.subtle.encrypt({name:i.name||"AES-GCM",iv:new Uint8Array(u.iv)},t,(new n.TextEncoder).encode(c)))),f={ct:n.Buffer.from(l,"binary").toString(i.encode||"base64"),iv:u.iv.toString(i.encode||"base64"),s:u.s.toString(i.encode||"base64")};if(i.raw||(f="SEA"+await n.stringify(f)),a)try{a(f)}catch(t){console.log(t)}return f}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(a&&a())}}),t.exports=r.encrypt}))(e,"./encrypt"),e((function(t){var r=e("./root"),n=e("./shim"),o=e("./settings"),a=e("./aeskey");r.decrypt=r.decrypt||(async(t,e,i,s)=>{try{s=s||{};var c=(e||s).epriv||e;if(!c){if(!r.I)throw"No decryption key.";c=(e=await r.I(null,{what:t,how:"decrypt",why:s.why})).epriv||e}var u,l,f,d=await o.parse(t);try{u=n.Buffer.from(d.s,s.encode||"base64"),l=n.Buffer.from(d.iv,s.encode||"base64"),f=n.Buffer.from(d.ct,s.encode||"base64");var h=await a(c,u,s).then((t=>n.subtle.decrypt({name:s.name||"AES-GCM",iv:new Uint8Array(l),tagLength:128},t,new Uint8Array(f))))}catch(n){if("utf8"===s.encode)throw"Could not decrypt";if(r.opt.fallback)return s.encode="utf8",await r.decrypt(t,e,i,s)}var p=await o.parse(new n.TextDecoder("utf8").decode(h));if(i)try{i(p)}catch(t){console.log(t)}return p}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(i&&i())}}),t.exports=r.decrypt}))(e,"./decrypt"),e((function(t){var r=e("./root"),n=e("./shim");e("./settings"),r.secret=r.secret||(async(t,e,a,i)=>{try{if(i=i||{},!e||!e.epriv||!e.epub){if(!r.I)throw"No secret mix.";e=await r.I(null,{what:t,how:"secret",why:i.why})}var s=t.epub||t,c=e.epub,u=e.epriv,l=n.ossl||n.subtle,f=o(s),d=Object.assign({public:await l.importKey(...f,!0,[])},{name:"ECDH",namedCurve:"P-256"}),h=o(c,u),p=await l.importKey(...h,!1,["deriveBits"]).then((async t=>{var e=await l.deriveBits(d,t,256),r=new Uint8Array(e),n=await l.importKey("raw",r,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return l.exportKey("jwk",n).then((({k:t})=>t))}));if(a)try{a(p)}catch(t){console.log(t)}return p}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(a&&a())}});var o=(t,e)=>{var[r,n]=t.split("."),o=e?{d:e}:{};return["jwk",Object.assign(o,{x:r,y:n,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};t.exports=r.secret}))(e,"./secret"),e((function(t){var r=e("./root");r.certify=r.certify||(async(t,e={},n,o,a={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),!(t=(()=>{var e=[];if(t){if(("string"==typeof t||Array.isArray(t))&&t.indexOf("*")>-1)return"*";if("string"==typeof t)return t;if(Array.isArray(t)){if(1===t.length&&t[0])return"object"==typeof t[0]&&t[0].pub?t[0].pub:"string"==typeof t[0]?t[0]:null;t.map((t=>{"string"==typeof t?e.push(t):"object"==typeof t&&t.pub&&e.push(t.pub)}))}return"object"==typeof t&&t.pub?t.pub:e.length>0?e:null}})()))return console.log("No certificant found.");const s=!a.expiry||"number"!=typeof a.expiry&&"string"!=typeof a.expiry?null:parseFloat(a.expiry),c=(e||{}).read?e.read:null,u=(e||{}).write?e.write:"string"==typeof e||Array.isArray(e)||e["+"]||e["#"]||e["."]||e["="]||e["*"]||e[">"]||e["<"]?e:null,l=(a||{}).block||(a||{}).blacklist||(a||{}).ban||{},f=l.read&&("string"==typeof l.read||(l.read||{})["#"])?l.read:null,d="string"==typeof l?l:l.write&&("string"==typeof l.write||l.write["#"])?l.write:null;if(!c&&!u)return console.log("No policy found.");const h=JSON.stringify({c:t,...s?{e:s}:{},...c?{r:c}:{},...u?{w:u}:{},...f?{rb:f}:{},...d?{wb:d}:{}});var i=await r.sign(h,n,null,{raw:1});if(a.raw||(i="SEA"+JSON.stringify(i)),o)try{o(i)}catch(t){console.log(t)}return i}catch(t){if(r.err=t,r.throw)throw t;return void(o&&o())}}),t.exports=r.certify}))(e,"./certify"),e((function(t){var r=e("./shim"),n=e("./root");n.work=e("./work"),n.sign=e("./sign"),n.verify=e("./verify"),n.encrypt=e("./encrypt"),n.decrypt=e("./decrypt"),n.certify=e("./certify"),n.random=n.random||r.random,n.Buffer=n.Buffer||e("./buffer"),n.keyid=n.keyid||(async t=>{try{const e=r.Buffer.concat(t.replace(/-/g,"+").replace(/_/g,"/").split(".").map((t=>r.Buffer.from(t,"base64")))),n=r.Buffer.concat([r.Buffer.from([153,e.length/256,e.length%256]),e]),o=await sha1hash(n),a=r.Buffer.from(o,"binary");return a.toString("hex",a.length-8)}catch(t){throw console.log(t),t}}),((n.window||{}).GUN||{}).SEA=n,t.exports=n}))(e,"./sea"),e((function(t){var n,o=e("./sea");function a(t){this._={$:this}}function i(){return n.state().toString(36).replace(".","")}n=o.window?o.window.GUN||{chain:{}}:e((void 0+""==typeof r?".":"")+"./gun",1),o.GUN=n,a.prototype=function(){function t(){}return t.prototype=n.chain,new t}(),a.prototype.constructor=a,n.chain.user=function(t){var e,r=this.back(-1);if(t)return t=o.opt.pub((t._||"")["#"])||t,r.get("~"+t);if(e=r.back("user"))return e;var n=r=r._,s=n.opt.uuid||i;return(n=(e=n.user=this.chain(new a))._).opt={},n.opt.uuid=function(t){var e=s(),n=r.user;return n&&(n=n.is)&&(n=n.pub)?(e="~"+n+"/"+e,t&&t.call&&t(null,e),e):e},e},n.User=a,a.GUN=n,a.SEA=n.SEA=o,t.exports=a}))(e,"./user"),e((function(t){var n;(""+n!=typeof window?window.Gun||{chain:{}}:e((""+n==typeof r?".":"")+"./gun",1)).chain.then=function(t,e){var r=this,n=new Promise((function(t,n){r.once(t,e)}));return t?n.then(t):n}}))(e,"./then"),e((function(t){var r=e("./user"),n=r.SEA,o=r.GUN,a=function(){};r.prototype.create=function(...t){var e,r="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,i=r&&(r.pub||r.epub)?r.pub:"string"==typeof t[0]?t[0]:null,s=r&&(r.pub||r.epub)?r:i&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,u=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},l=this,f=l._,d=l.back(-1);if(c=c||a,!1!==(u=u||{}).check&&(i||(e="No user."),(s||"").length<8&&(e="Password too short!"),e))return c({err:o.log(e)}),l;if(f.ing)return(c||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),l;f.ing=!0;var h={a:function(t){if(h.pubs=t,t&&!u.already){var e={err:o.log("User already created!")};return f.ing=!1,(c||a)(e),void l.leave()}h.salt=String.random(64),n.work(s,h.salt,h.b)},b:function(t){h.proof=t,r?h.c(r):n.pair(h.c)},c:function(t){var e;h.pair=t||{},(e=f.root.user)&&(e._.sea=t,e.is={pub:t.pub,epub:t.epub,alias:i}),h.data={pub:t.pub},h.d()},d:function(){h.data.alias=i,h.e()},e:function(){h.data.epub=h.pair.epub,n.encrypt({priv:h.pair.priv,epriv:h.pair.epriv},h.proof,h.f,{raw:1})},f:function(t){h.data.auth=JSON.stringify({ek:t,s:h.salt}),h.g(h.data.auth)},g:function(t){var e;h.data.auth=h.data.auth||t,d.get(e="~"+h.pair.pub).put(h.data).on(h.h);var r={};r[e]={"#":e},d.get("~@"+i).put(r).get(e).on(h.i)},h:function(t,e,r,n){n.off(),h.h.ok=1,h.i()},i:function(t,e,n,o){o&&(h.i.ok=1,o.off()),h.h.ok&&h.i.ok&&(f.ing=!1,c({ok:0,pub:h.pair.pub}),a===c&&(r?l.auth(r):l.auth(i,s)))}};return d.get("~@"+i).once(h.a),l},r.prototype.leave=function(t,e){var r=this.back(-1)._.user;if(r&&(delete r.is,delete r._.is,delete r._.sea),n.window)try{var o={};delete(o=window.sessionStorage).recall,delete o.pair}catch(t){}return this}}))(e,"./create"),e((function(t){var r=e("./user"),n=r.SEA,o=r.GUN,a=function(){};function i(t){if("string"!=typeof t)return t;try{t=JSON.parse(t)}catch(e){t={}}return t}r.prototype.auth=function(...t){var e="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,r=e||"string"!=typeof t[0]?null:t[0],s=r&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,u=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},l=this,f=l._,d=l.back(-1);if(f.ing)return(c||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),l;f.ing=!0;var h,p={a:function(t){if(!t)return p.b();if(!t.pub){var e=[];return Object.keys(t).forEach((function(r){"_"!=r&&e.push(t[r])})),p.b(e)}if(p.name)return p.f(t);p.c((p.data=t).auth)},b:function(t){var e=(p.list=(p.list||[]).concat(t||[])).shift();if(h===e)return p.name?p.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):p.err("Wrong user or password.");d.get(e).once(p.a)},c:function(t){return h===t?p.b():"string"==typeof t?p.c(i(t)):void n.work(s,(p.auth=t).s,p.d,p.enc)},d:function(t){n.decrypt(p.auth.ek,t,p.e,p.enc)},e:function(t){if(h===t)return p.enc?(p.enc=null,p.b()):(p.enc={encode:"utf8"},p.c(p.auth));p.half=t,p.f(p.data)},f:function(t){var e=p.half||{},r=p.data||{};p.g(p.lol={pub:t.pub||r.pub,epub:t.epub||r.epub,priv:t.priv||e.priv,epriv:t.epriv||e.epriv})},g:function(t){if(!t||!t.pub||!t.epub)return p.b();p.pair=t;var e=d._.user,g=e._;g.tag;var b=g.opt;(g=e._=d.get("~"+t.pub)._).opt=b,e.is={pub:t.pub,epub:t.epub,alias:r||t.pub},g.sea=p.pair,f.ing=!1;try{s&&h==(i(f.root.graph["~"+t.pub].auth)||"")[":"]&&(u.shuffle=u.change=s)}catch(t){}if(u.change?p.z():(c||a)(g),n.window&&(l.back("user")._.opt||u).remember)try{var y={};(y=window.sessionStorage).recall=!0,y.pair=JSON.stringify(t)}catch(t){}try{d._.tag.auth?d._.on("auth",g):setTimeout((function(){d._.on("auth",g)}),1)}catch(t){o.log("Your 'auth' callback crashed with:",t)}},z:function(){p.salt=String.random(64),n.work(u.change,p.salt,p.y)},y:function(t){n.encrypt({priv:p.pair.priv,epriv:p.pair.epriv},t,p.x,{raw:1})},x:function(t){p.w(JSON.stringify({ek:t,s:p.salt}))},w:function(t){if(u.shuffle){console.log("migrate core account from UTF8 & shuffle");var e={};Object.keys(p.data).forEach((function(t){e[t]=p.data[t]})),delete e._,e.auth=t,d.get("~"+p.pair.pub).put(e)}d.get("~"+p.pair.pub).get("auth").put(t,c||a)},err:function(t){var e={err:o.log(t||"User cannot be found!")};f.ing=!1,(c||a)(e)},plugin:function(t){if(!(p.name=t))return p.err();var e=[t];"~"!==t[0]&&(e[1]="~"+t,e[2]="~@"+t),p.b(e)}};return e?p.g(e):r?d.get("~@"+r).once(p.a):r||s||n.name(p.plugin),l}}))(e,"./auth"),e((function(t){var r=e("./user"),n=r.SEA;r.GUN,r.prototype.recall=function(t,e){var r=this,o=r.back(-1);if((t=t||{})&&t.sessionStorage){if(n.window)try{var a;(a=window.sessionStorage)&&(o._.opt.remember=!0,(r.back("user")._.opt||t).remember=!0,(a.recall||a.pair)&&o.user().auth(JSON.parse(a.pair),e))}catch(t){}return r}return r}}))(e,"./recall"),e((function(t){var r=e("./user"),n=r.SEA,o=r.GUN,a=function(){};r.prototype.pair=function(){var t,e=this;try{t=new Proxy({DANGER:"☠"},{get:function(t,r,n){if(e.is&&(e._||"").sea)return e._.sea[r]}})}catch(t){}return t},r.prototype.delete=async function(t,e,r){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var n=this;n.back(-1);var i=n.back("user");try{i.auth(t,e,(function(t){(i.is||{}).pub,i.map().once((function(){this.put(null)})),i.leave(),(r||a)({ok:0})}))}catch(t){o.log("User.delete failed! Error:",t)}return n},r.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const t=this.back(-1);try{return await authRecall(t),t._.user._}catch(t){const e="No session!";throw o.log(e),{err:e}}},r.prototype.trust=async function(t){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),o.is(t)&&t.get("pub").get(((t,e)=>{console.log(t,e)})),t.get("trust").get(path).put(theirPubkey)},r.prototype.grant=function(t,e){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var r=this,o=r.back(-1).user(),a=o._.sea,i="";return r.back((function(t){t.is||(i+=t.get||"")})),async function(){var r,s=await o.get("grant").get(a.pub).get(i).then();(s=await n.decrypt(s,a))||(s=n.random(16).toString(),r=await n.encrypt(s,a),o.get("grant").get(a.pub).get(i).put(r));var c=t.get("pub").then(),u=t.get("epub").then();c=await c,u=await u;var l=await n.secret(u,a);r=await n.encrypt(s,l),o.get("grant").get(c).get(i).put(r,e)}(),r},r.prototype.secret=function(t,e){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var r=this,o=r.back(-1).user(),a=o.pair(),i="";return r.back((function(t){t.is||(i+=t.get||"")})),async function(){var s,c=await o.get("trust").get(a.pub).get(i).then();(c=await n.decrypt(c,a))||(c=n.random(16).toString(),s=await n.encrypt(c,a),o.get("trust").get(a.pub).get(i).put(s)),s=await n.encrypt(t,c),r.put(s,e)}(),r},t.exports=r}))(e,"./share"),e((function(t){var n,o=e("./sea"),a=e("./settings"),i=""+n!=typeof window?window.Gun||{on:function(){}}:e((""+n==typeof r?".":"")+"./gun",1);function s(t){var e,r=this,n=r.as,a=t.put,c=a["#"],u=a["."],l=a[":"],f=a[">"],d=t["#"];if(c&&u)if((t._||"").faith&&(n.opt||"").faith&&"function"==typeof t._)o.opt.pack(a,(function(e){o.verify(e,!1,(function(e){a["="]=o.opt.unpack(e),r.to.next(t)}))}));else{var h=function(e){n.on("in",{"@":d,err:t.err=e})};(t._||"").DBG&&((t._||"").DBG.c=+new Date),0<=c.indexOf("<?")&&(e=parseFloat(c.split("<?")[1]||""))&&f<i.state()-1e3*e?(e=t._)&&e.stun&&e.stun--:"~@"!==c?"~@"!==c.slice(0,2)?(e=o.opt.pub(c))?s.pub(r,t,l,u,c,n,h,n.user||"",e):0<=c.indexOf("#")?s.hash(r,t,l,u,c,n,h):s.any(r,t,l,u,c,n,h,n.user||""):s.pubs(r,t,l,u,c,n,h):s.alias(r,t,l,u,c,n,h)}}i.on("opt",(function(t){t.sea||(t.sea={own:{}},t.on("put",s,t)),this.to.next(t)})),s.hash=function(t,e,r,n,a,i,s){o.work(r,null,(function(r){if(r&&r===n.split("#").slice(-1)[0])return t.to.next(e);s("Data hash not same as hash!")}),{name:"SHA-256"})},s.alias=function(t,e,r,n,o,a,i){return r?"~@"+n===u(r)?t.to.next(e):void i("Alias not same!"):i("Data must exist!")},s.pubs=function(t,e,r,n,o,a,i){return r?n===u(r)?t.to.next(e):void i("Alias not same!"):i("Alias must exist!")},s.pub=async function(t,e,r,s,c,l,f,d,h){var p;const g=await a.parse(r)||{},b=(r,a,u)=>{if(r.m&&r.s&&a&&h)return o.verify(r,h,(r=>{if(n!==r&&n!==r.e&&e.put[">"]&&e.put[">"]>parseFloat(r.e))return f("Certificate expired.");if(n!==r&&r.c&&r.w&&(r.c===a||r.c.indexOf("*")>-1)){let e=c.indexOf("/")>-1?c.replace(c.substring(0,c.indexOf("/")+1),""):"";String.match=String.match||i.text.match;const n=Array.isArray(r.w)?r.w:"object"==typeof r.w||"string"==typeof r.w?[r.w]:[];for(const i of n)if(String.match(e,i["#"])&&String.match(s,i["."])||!i["."]&&String.match(e,i["#"])||!i["#"]&&String.match(s,i["."])||String.match(e?e+"/"+s:s,i["#"]||i)){if(i["+"]&&i["+"].indexOf("*")>-1&&e&&-1==e.indexOf(a)&&-1==s.indexOf(a))return f(`Path "${e}" or key "${s}" must contain string "${a}".`);if(r.wb&&("string"==typeof r.wb||(r.wb||{})["#"])){var o=t.as.root.$.back(-1);return"string"==typeof r.wb&&"~"!==r.wb.slice(0,1)&&(o=o.get("~"+h)),o.get(r.wb).get(a).once((t=>!t||1!==t&&!0!==t?u(r):f(`Certificant ${a} blocked.`)))}return u(r)}return f("Certificate verification fail.")}}))};if("pub"===s&&"~"+h===c)return r===h?t.to.next(e):f("Account not same!");(p=d.is)&&p.pub&&!g["*"]&&!g["+"]&&(h===p.pub||h!==p.pub&&((e._.msg||{}).opt||{}).cert)?o.opt.pack(e.put,(i=>{o.sign(i,d._.sea,(async function(i){if(n===i)return f(o.err||"Signature fail.");if(e.put[":"]={":":p=o.opt.unpack(i.m),"~":i.s},e.put["="]=p,h===d.is.pub)return(p=u(r))&&((l.sea.own[p]=l.sea.own[p]||{})[h]=1),void JSON.stringifyAsync(e.put[":"],(function(r,n){return r?f(r||"Stringify error."):(e.put[":"]=n,t.to.next(e))}));if(h!==d.is.pub&&((e._.msg||{}).opt||{}).cert){const r=await a.parse(e._.msg.opt.cert);r&&r.m&&r.s&&b(r,d.is.pub,(n=>{e.put[":"]["+"]=r,e.put[":"]["*"]=d.is.pub,JSON.stringifyAsync(e.put[":"],(function(r,n){return r?f(r||"Stringify error."):(e.put[":"]=n,t.to.next(e))}))}))}}),{raw:1})})):o.opt.pack(e.put,(r=>{o.verify(r,g["*"]||h,(function(r){var a;return r=o.opt.unpack(r),n===r?f("Unverified data."):((a=u(r))&&h===o.opt.pub(a)&&((l.sea.own[a]=l.sea.own[a]||{})[h]=1),g["+"]&&g["+"].m&&g["+"].s&&g["*"]?void b(g["+"],g["*"],(n=>(e.put["="]=r,t.to.next(e)))):(e.put["="]=r,t.to.next(e)))}))}))},s.any=function(t,e,r,n,o,a,i,s){if(a.opt.secure)return i("Soul missing public key at '"+n+"'.");a.on("secure",(function(e){if(this.off(),!a.opt.secure)return t.to.next(e);i("Data cannot be changed.")})).on.on("secure",e)};var c=i.valid,u=function(t,e){return"string"==typeof(e=c(t))&&e};(i.state||"").ify;var l=/[^\w_-]/;o.opt.pub=function(t){if(t&&(t=t.split("~"))&&(t=t[1])&&(t=t.split(l).slice(0,2))&&2==t.length&&"@"!==(t[0]||"")[0])return t.slice(0,2).join(".")},o.opt.stringy=function(t){},o.opt.pack=function(t,e,r,a,s){var c,u;if(o.opt.check(t))return e(t);t&&t["#"]&&t["."]&&t[">"]&&(c=t[":"],u=1),JSON.parseAsync(u?c:t,(function(o,c){var u=n!==(c||"")[":"]&&(c||"")["~"];e(u?{m:{"#":s||t["#"],".":r||t["."],":":(c||"")[":"],">":t[">"]||i.state.is(a,r)},s:u}:t)}))};var f=o.opt;o.opt.unpack=function(t,e,r){var a;if(n!==t){if(t&&n!==(a=t[":"]))return a;if(e=e||f.fall_key,!r&&f.fall_val&&((r={})[e]=f.fall_val),e&&r){if(t===r[e])return t;if(!o.opt.check(r[e]))return t;var s=r&&r._&&r._["#"]||f.fall_soul,c=i.state.is(r,e)||f.fall_state;return t&&4===t.length&&s===t[0]&&e===t[1]&&d(c)===d(t[3])?t[2]:c<o.opt.shuffle_attack?t:void 0}}},o.opt.shuffle_attack=15463296e5;var d=Math.floor}))(e,"./index")}()}(e)}(),function(t){var e={exports:{}};!function(t){!function(){function e(t,r){return r?function(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}(t):t.slice?e[n(t)]:function(r,o){t(r={exports:{}}),e[n(o)]=r.exports};function n(t){return t.split("/").slice(-1).toString().replace(".js","")}}var r=t;e((function(t){"undefined"!=typeof window&&(t.window=window);var e=(t.window||t).AXE||function(){};(e.window=t.window)&&(e.window.AXE=e);try{void 0!==r&&(r.exports=e)}catch(t){}t.exports=e}))(e,"./root"),e((function(t){var r=e("./root"),n=(r.window||"").Gun||e("./gun",1);if((n.AXE=r).GUN=r.Gun=n,!n.window)try{e("./lib/axe",1)}catch(t){}n.on("opt",(function(t){!function(t){if(!t.axe){var e,r,o=t.opt,a=o.peers;if(!1!==o.axe&&("undefined"==typeof process||""+(process.env||"").AXE!="false")&&n.window){t.axe={},(e=a[r="http://localhost:8765/gun"]=a[r]||{}).id=e.url=r,e.retry=e.retry||0,n.log.once("AXE","AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),n.log.once("AXEWarn","Warning: AXE alpha became super slow & laggy, now in testing only mode!");var i=JSON.parse((localStorage||"")[(o.file||"")+"axe/"]||null)||{};Object.keys(i.peers||"").forEach((function(t){(e=a[r=t]=a[r]||{}).id=e.url=r})),(e=a[r="https://guntest.herokuapp.com/gun"]=a[r]||{}).id=e.url=r;var s=o.mesh=o.mesh||n.Mesh(t);s.way=function(e){if(t.$===e.$||(e._||"").via)s.say(e,o.peers);else{var r=(e.$||"")._;if(r){if(e.get){if(r.axe)return;r.axe={}}s.say(e,o.peers)}else s.say(e,o.peers)}}}}}(t),this.to.next(t)})),t.exports=r}))(e,"./axe")}()}(e)}();const Lt=[];function Rt(t,r=e){let n;const o=new Set;function a(e){if(c(t,e)&&(t=e,n)){const e=!Lt.length;for(const e of o)e[1](),Lt.push(e,t);if(e){for(let t=0;t<Lt.length;t+=2)Lt[t][0](Lt[t+1]);Lt.length=0}}}return{set:a,update:function(e){a(e(t))},subscribe:function(i,s=e){const c=[i,s];return o.add(c),1===o.size&&(n=r(a)||e),i(t),()=>{o.delete(c),0===o.size&&(n(),n=null)}}}}function Ht({storageKey:t,initialValue:e=""}){const r=localStorage.getItem(t)||e,{subscribe:n,update:o,set:a}=Rt(r);return n((e=>{e&&localStorage.setItem(t,e)})),{subscribe:n,update:o,set:a}}const zt=Vt(),Jt=zt.user().recall({sessionStorage:!0}),Kt=Rt(""),Ft=Rt({}),qt=Ht({storageKey:"active_chat"}),Wt=Ht({storageKey:"active_key"}),Xt=Ht({storageKey:"chat_nav",initialValue:"add_chat"});function Yt(t){let r,n,o,a,i,s,c,u,f,d,h,p,g,b,y;return{c(){r=j("tr"),n=j("th"),o=I(t[0]),a=I("."),i=N(),s=j("th"),c=j("div"),u=j("img"),d=N(),h=j("div"),p=I(t[1]),g=N(),b=j("td"),y=I(t[2]),this.h()},l(e){r=L(e,"TR",{class:!0});var l=M(r);n=L(l,"TH",{scope:!0,class:!0});var f=M(n);o=H(f,t[0]),a=H(f,"."),f.forEach(T),i=z(l),s=L(l,"TH",{scope:!0,class:!0});var v=M(s);c=L(v,"DIV",{class:!0});var m=M(c);u=L(m,"IMG",{class:!0,src:!0,alt:!0}),d=z(m),h=L(m,"DIV",{class:!0});var w=M(h);p=H(w,t[1]),w.forEach(T),m.forEach(T),v.forEach(T),g=z(l),b=L(l,"TD",{class:!0});var x=M(b);y=H(x,t[2]),x.forEach(T),l.forEach(T),this.h()},h(){G(n,"scope","row"),G(n,"class","pl-4 text-2xl text-gray-900 w-1"),G(u,"class","mr-4 h-16 rounded-xl"),l(u.src,f="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")||G(u,"src",f),G(u,"alt","user"),G(h,"class","mr-4"),G(c,"class","h-full flex items-center"),G(s,"scope","row h-full flex items-center justify-center"),G(s,"class","py-4 text-xl font-light text-gray-900 whitespace-nowrap"),G(b,"class","px-6 py-4 text-2xl text-gray-900"),G(r,"class",(t[3]?"bg-gray-100":"bg-white")+" border-b")},m(t,e){A(t,r,e),S(r,n),S(n,o),S(n,a),S(r,i),S(r,s),S(s,c),S(c,u),S(c,d),S(c,h),S(h,p),S(r,g),S(r,b),S(b,y)},p(t,[e]){1&e&&J(o,t[0]),2&e&&!l(u.src,f="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")&&G(u,"src",f),2&e&&J(p,t[1]),4&e&&J(y,t[2])},i:e,o:e,d(t){t&&T(r)}}}function Zt(t,e,r){let n;f(t,Kt,(t=>r(4,n=t)));let{rank:o=1}=e,{username:a=""}=e,{credits:i=0}=e;const s=a==n;return t.$$set=t=>{"rank"in t&&r(0,o=t.rank),"username"in t&&r(1,a=t.username),"credits"in t&&r(2,i=t.credits)},[o,a,i,s]}zt.get("leaderboard").map().on((async(t,e)=>{Ft.update((r=>(r[e]=t,r)))})),Jt.get("alias").on((t=>Kt.set(t))),zt.on("auth",(async t=>{const e=await Jt.get("alias");Kt.set(e)}));class Qt extends Bt{constructor(t){super(),Nt(this,t,Zt,Yt,c,{rank:0,username:1,credits:2})}}function te(t,e,r){const n=t.slice();return n[1]=e[r][0],n[2]=e[r][1],n[4]=r,n}function ee(t){let e,r;return e=new Qt({props:{rank:t[4]+1,username:t[1],credits:t[2]}}),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.username=t[1]),1&r&&(n.credits=t[2]),e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function re(t){let e,r,n,o,a,i,s,c,u,l,f,d,h,p,g,b=Object.entries(t[0]).sort(ne),y=[];for(let e=0;e<b.length;e+=1)y[e]=ee(te(t,b,e));const v=t=>_t(y[t],1,1,(()=>{y[t]=null}));return{c(){e=j("div"),r=j("table"),n=j("thead"),o=j("tr"),a=j("th"),i=I("Rank"),s=N(),c=j("th"),u=I("User"),l=N(),f=j("th"),d=I("Credits"),h=N(),p=j("tbody");for(let t=0;t<y.length;t+=1)y[t].c();this.h()},l(t){e=L(t,"DIV",{class:!0});var g=M(e);r=L(g,"TABLE",{class:!0});var b=M(r);n=L(b,"THEAD",{class:!0});var v=M(n);o=L(v,"TR",{});var m=M(o);a=L(m,"TH",{scope:!0,class:!0});var w=M(a);i=H(w,"Rank"),w.forEach(T),s=z(m),c=L(m,"TH",{scope:!0,class:!0});var x=M(c);u=H(x,"User"),x.forEach(T),l=z(m),f=L(m,"TH",{scope:!0,class:!0});var k=M(f);d=H(k,"Credits"),k.forEach(T),m.forEach(T),v.forEach(T),h=z(b),p=L(b,"TBODY",{});var $=M(p);for(let t=0;t<y.length;t+=1)y[t].l($);$.forEach(T),b.forEach(T),g.forEach(T),this.h()},h(){G(a,"scope","col"),G(a,"class","px-6 py-3"),G(c,"scope","col"),G(c,"class","px-6 py-3"),G(f,"scope","col"),G(f,"class","px-6 py-3"),G(n,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),G(r,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400"),G(e,"class","relative shadow-md sm:rounded-lg")},m(t,b){A(t,e,b),S(e,r),S(r,n),S(n,o),S(o,a),S(a,i),S(o,s),S(o,c),S(c,u),S(o,l),S(o,f),S(f,d),S(r,h),S(r,p);for(let t=0;t<y.length;t+=1)y[t].m(p,null);g=!0},p(t,[e]){if(1&e){let r;for(b=Object.entries(t[0]).sort(ne),r=0;r<b.length;r+=1){const n=te(t,b,r);y[r]?(y[r].p(n,e),$t(y[r],1)):(y[r]=ee(n),y[r].c(),$t(y[r],1),y[r].m(p,null))}for(xt(),r=b.length;r<y.length;r+=1)v(r);kt()}},i(t){if(!g){for(let t=0;t<b.length;t+=1)$t(y[t]);g=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)_t(y[t]);g=!1},d(t){t&&T(e),D(y,t)}}}const ne=(t,e)=>e[1]-t[1];function oe(t,e,r){let n;return f(t,Ft,(t=>r(0,n=t))),[n]}class ae extends Bt{constructor(t){super(),Nt(this,t,oe,re,c,{})}}function ie(t){let r,n,o,a,i,s,c;return{c(){r=j("a"),n=j("div"),o=I(t[2]),a=N(),i=j("img"),this.h()},l(e){r=L(e,"A",{href:!0,class:!0,style:!0});var s=M(r);n=L(s,"DIV",{class:!0});var c=M(n);o=H(c,t[2]),c.forEach(T),a=z(s),i=L(s,"IMG",{src:!0,alt:!0}),s.forEach(T),this.h()},h(){G(n,"class","w-full text-center text-2xl text-gray-900 my-4"),l(i.src,s="/guns-n-goose/static/"+t[3]+".png")||G(i,"src",s),G(i,"alt",t[2]),G(r,"href",c=t[0]+"/"+t[3]),G(r,"class","rounded-lg bg-white shadow max-h-full"),F(r,"grid-area","card"+t[1])},m(t,e){A(t,r,e),S(r,n),S(n,o),S(r,a),S(r,i)},p(t,[e]){4&e&&J(o,t[2]),8&e&&!l(i.src,s="/guns-n-goose/static/"+t[3]+".png")&&G(i,"src",s),4&e&&G(i,"alt",t[2]),9&e&&c!==(c=t[0]+"/"+t[3])&&G(r,"href",c),2&e&&F(r,"grid-area","card"+t[1])},i:e,o:e,d(t){t&&T(r)}}}function se(t,e,r){let{BASE_URL:n=""}=e,{num:o=1}=e,{text:a=""}=e,{id:i=""}=e;return t.$$set=t=>{"BASE_URL"in t&&r(0,n=t.BASE_URL),"num"in t&&r(1,o=t.num),"text"in t&&r(2,a=t.text),"id"in t&&r(3,i=t.id)},[n,o,a,i]}class ce extends Bt{constructor(t){super(),Nt(this,t,se,ie,c,{BASE_URL:0,num:1,text:2,id:3})}}function ue(t){k(t,"svelte-1ldvddr",'#grid.svelte-1ldvddr{display:grid;gap:1rem;grid-template-columns:1.3fr 1fr 1fr;grid-template-areas:"leaderboard card1 card2"\r\n\t\t\t\t\t\t\t            "leaderboard card3 card4"}')}function le(t,e,r){const n=t.slice();return n[2]=e[r],n}function fe(t){let e,r;const o=[{BASE_URL:t[0]},t[2]];let a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return e=new ce({props:a}),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n=3&r?function(t,e){const r={},n={},o={$$scope:1};let a=t.length;for(;a--;){const i=t[a],s=e[a];if(s){for(const t in i)t in s||(n[t]=1);for(const t in s)o[t]||(r[t]=s[t],o[t]=1);t[a]=s}else for(const t in i)o[t]=1}for(const t in n)t in r||(r[t]=void 0);return r}(o,[1&r&&{BASE_URL:t[0]},2&r&&(a=t[2],"object"==typeof a&&null!==a?a:{})]):{};var a;e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function de(t){let e,r,n,o,a,i;o=new ae({});let s=t[1],c=[];for(let e=0;e<s.length;e+=1)c[e]=fe(le(t,s,e));const u=t=>_t(c[t],1,1,(()=>{c[t]=null}));return{c(){e=N(),r=j("div"),n=j("div"),Dt(o.$$.fragment),a=N();for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){W('[data-svelte="svelte-1nfjr2"]',document.head).forEach(T),e=z(t),r=L(t,"DIV",{id:!0,class:!0,style:!0});var i=M(r);n=L(i,"DIV",{class:!0,style:!0});var s=M(n);jt(o.$$.fragment,s),s.forEach(T),a=z(i);for(let t=0;t<c.length;t+=1)c[t].l(i);i.forEach(T),this.h()},h(){document.title="Guns N' Goose - Home",G(n,"class","rounded-lg bg-white shadow max-h-full overflow-auto"),F(n,"grid-area","leaderboard"),G(r,"id","grid"),G(r,"class","px-6 pb-6 svelte-1ldvddr"),F(r,"height","calc(100vh - 8rem)")},m(t,s){A(t,e,s),A(t,r,s),S(r,n),Ot(o,n,null),S(r,a);for(let t=0;t<c.length;t+=1)c[t].m(r,null);i=!0},p(t,[e]){if(3&e){let n;for(s=t[1],n=0;n<s.length;n+=1){const o=le(t,s,n);c[n]?(c[n].p(o,e),$t(c[n],1)):(c[n]=fe(o),c[n].c(),$t(c[n],1),c[n].m(r,null))}for(xt(),n=s.length;n<c.length;n+=1)u(n);kt()}},i(t){if(!i){$t(o.$$.fragment,t);for(let t=0;t<s.length;t+=1)$t(c[t]);i=!0}},o(t){_t(o.$$.fragment,t),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)_t(c[t]);i=!1},d(t){t&&T(e),t&&T(r),It(o),D(c,t)}}}function he(t,e,r){let{BASE_URL:n}=e;return t.$$set=t=>{"BASE_URL"in t&&r(0,n=t.BASE_URL)},[n,[{num:1,text:"Chat",id:"chat"},{num:2,text:"Russian Roulette",id:"russian-roulette"},{num:3,text:"Wheel of Fortune",id:"wheel-of-fortune"},{num:4,text:"Sidescroller",id:"sidescroller"}]]}class pe extends Bt{constructor(t){super(),Nt(this,t,he,de,c,{BASE_URL:0},ue)}}function ge(t){let r,n,o,a,s,c,u,f,d,h,p;return{c(){r=j("div"),n=j("img"),a=N(),s=j("input"),u=N(),f=j("button"),d=I("Continue"),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=L(e,"IMG",{src:!0,alt:!0,class:!0}),a=z(e),s=L(e,"INPUT",{placeholder:!0,class:!0}),u=z(e),f=L(e,"BUTTON",{class:!0});var o=M(f);d=H(o,"Continue"),o.forEach(T),e.forEach(T),this.h()},h(){l(n.src,o="/guns-n-goose/static/logo-text.svg")||G(n,"src","/guns-n-goose/static/logo-text.svg"),G(n,"alt","logo"),G(n,"class","m-auto w-8/12"),G(s,"placeholder","Enter your username"),G(s,"class",c=(t[0]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(f,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),G(r,"class","w-full h-auto bg-white rounded-xl px-12")},m(e,o){A(e,r,o),S(r,n),S(r,a),S(r,s),K(s,t[1]),S(r,u),S(r,f),S(f,d),h||(p=[C(s,"change",t[5]),C(s,"input",t[6]),C(f,"click",t[7])],h=!0)},p(t,[e]){1&e&&c!==(c=(t[0]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&G(s,"class",c),2&e&&s.value!==t[1]&&K(s,t[1])},i:e,o:e,d(t){t&&T(r),h=!1,i(p)}}}function be(t,e,r){let{error:n}=e,o="";const a=ot(),i=()=>{a("continue",{username:o})},s=t=>{a("error",{error:t})},c=()=>!!o||(s("Please enter a username."),!1);return t.$$set=t=>{"error"in t&&r(0,n=t.error)},[n,o,i,s,c,()=>s(""),function(){o=this.value,r(1,o)},()=>{c()&&i()}]}class ye extends Bt{constructor(t){super(),Nt(this,t,be,ge,c,{error:0})}}function ve(t){let r,n,o,a,s,c,u,l,f,d,h,p,g,b,y,v,m,w,x,k,$,_,E,D,O,B,U,V,P;return{c(){r=j("div"),n=j("div"),o=I("Create a Guns N' Goose Account"),a=N(),s=j("div"),c=I(t[0]),u=N(),l=j("div"),f=j("span"),d=I("Change username"),h=N(),p=j("input"),b=N(),y=j("input"),m=N(),w=j("button"),x=I("Create account"),k=N(),$=j("div"),_=I("By proceeding, you agree to the "),E=j("a"),D=I("Terms of Service"),O=I(" and "),B=j("a"),U=I("Privacy Notice"),this.h()},l(e){r=L(e,"DIV",{class:!0});var i=M(r);n=L(i,"DIV",{class:!0});var g=M(n);o=H(g,"Create a Guns N' Goose Account"),g.forEach(T),a=z(i),s=L(i,"DIV",{class:!0});var v=M(s);c=H(v,t[0]),v.forEach(T),u=z(i),l=L(i,"DIV",{class:!0});var S=M(l);f=L(S,"SPAN",{class:!0});var A=M(f);d=H(A,"Change username"),A.forEach(T),S.forEach(T),h=z(i),p=L(i,"INPUT",{type:!0,placeholder:!0,class:!0}),b=z(i),y=L(i,"INPUT",{type:!0,placeholder:!0,class:!0}),m=z(i),w=L(i,"BUTTON",{class:!0});var j=M(w);x=H(j,"Create account"),j.forEach(T),k=z(i),$=L(i,"DIV",{class:!0});var I=M($);_=H(I,"By proceeding, you agree to the "),E=L(I,"A",{class:!0,href:!0});var N=M(E);D=H(N,"Terms of Service"),N.forEach(T),O=H(I," and "),B=L(I,"A",{class:!0,href:!0});var C=M(B);U=H(C,"Privacy Notice"),C.forEach(T),I.forEach(T),i.forEach(T),this.h()},h(){G(n,"class","w-full mb-4 text-center font-bold text-3xl"),G(s,"class","w-full text-center text-2xl"),G(f,"class","cursor-pointer hover:underline"),G(l,"class","w-full mb-4 text-center font-light text-blue-700"),G(p,"type","password"),G(p,"placeholder","Password"),G(p,"class",g=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(y,"type","password"),G(y,"placeholder","Repeat password"),G(y,"class",v=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(w,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),G(E,"class","underline"),G(E,"href","/terms-of-service"),G(B,"class","underline"),G(B,"href","/privacy-notice"),G($,"class","w-full text-center text-gray-400 text-thin text-sm"),G(r,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(e,i){A(e,r,i),S(r,n),S(n,o),S(r,a),S(r,s),S(s,c),S(r,u),S(r,l),S(l,f),S(f,d),S(r,h),S(r,p),K(p,t[2]),S(r,b),S(r,y),K(y,t[3]),S(r,m),S(r,w),S(w,x),S(r,k),S(r,$),S($,_),S($,E),S(E,D),S($,O),S($,B),S(B,U),V||(P=[C(f,"click",t[5]),C(p,"change",t[8]),C(p,"input",t[9]),C(y,"change",t[10]),C(y,"input",t[11]),C(w,"click",t[12])],V=!0)},p(t,[e]){1&e&&J(c,t[0]),2&e&&g!==(g=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&G(p,"class",g),4&e&&p.value!==t[2]&&K(p,t[2]),2&e&&v!==(v=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&G(y,"class",v),8&e&&y.value!==t[3]&&K(y,t[3])},i:e,o:e,d(t){t&&T(r),V=!1,i(P)}}}function me(t,e,r){let{username:n}=e,{error:o}=e,a="",i="";const s=ot(),c=()=>{s("register",{password:a})},u=t=>{s("error",{error:t})},l=()=>{if(a)if(a.match(/(?=.{10,})/))if(a.match(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])/)){if(a===i)return!0;u("The passwords do not match.")}else u("The password must contain at least one lowercase letter, uppercase letter, number and special character.");else u("The password must be at least 10 characters long.");else u("A password is required to create an account.");return!1};return t.$$set=t=>{"username"in t&&r(0,n=t.username),"error"in t&&r(1,o=t.error)},[n,o,a,i,c,()=>{s("reset")},u,l,()=>u(""),function(){a=this.value,r(2,a)},()=>u(""),function(){i=this.value,r(3,i)},()=>{l()&&c()}]}class we extends Bt{constructor(t){super(),Nt(this,t,me,ve,c,{username:0,error:1})}}function xe(t){let r,n;return{c(){r=j("img"),this.h()},l(t){r=L(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){G(r,"class","rounded-xl w-1/3 m-auto border-3 border-gray-700"),l(r.src,n="https://avatars.dicebear.com/api/adventurer-neutral/"+t[0]+".svg")||G(r,"src",n),G(r,"alt","user")},m(t,e){A(t,r,e)},p(t,[e]){1&e&&!l(r.src,n="https://avatars.dicebear.com/api/adventurer-neutral/"+t[0]+".svg")&&G(r,"src",n)},i:e,o:e,d(t){t&&T(r)}}}function ke(t,e,r){let{username:n}=e;return t.$$set=t=>{"username"in t&&r(0,n=t.username)},[n]}class $e extends Bt{constructor(t){super(),Nt(this,t,ke,xe,c,{username:0})}}function _e(t){let e,r,n,o,a,s,c,u,l,f,d,h,p,g,b,y,v,m,w,x,k,$,_,E,D,O;return r=new $e({props:{username:t[0]}}),{c(){e=j("div"),Dt(r.$$.fragment),n=N(),o=j("div"),a=I(t[0]),s=N(),c=j("div"),u=j("span"),l=I("Use different account"),f=N(),d=j("input"),p=N(),g=j("button"),b=I("Login"),y=N(),v=j("div"),m=I("By proceeding, you agree to the "),w=j("a"),x=I("Terms of Service"),k=I(" and "),$=j("a"),_=I("Privacy Notice"),this.h()},l(i){e=L(i,"DIV",{class:!0});var h=M(e);jt(r.$$.fragment,h),n=z(h),o=L(h,"DIV",{class:!0});var E=M(o);a=H(E,t[0]),E.forEach(T),s=z(h),c=L(h,"DIV",{class:!0});var S=M(c);u=L(S,"SPAN",{class:!0});var A=M(u);l=H(A,"Use different account"),A.forEach(T),S.forEach(T),f=z(h),d=L(h,"INPUT",{type:!0,placeholder:!0,class:!0}),p=z(h),g=L(h,"BUTTON",{class:!0});var D=M(g);b=H(D,"Login"),D.forEach(T),y=z(h),v=L(h,"DIV",{class:!0});var j=M(v);m=H(j,"By proceeding, you agree to the "),w=L(j,"A",{class:!0,href:!0});var O=M(w);x=H(O,"Terms of Service"),O.forEach(T),k=H(j," and "),$=L(j,"A",{class:!0,href:!0});var I=M($);_=H(I,"Privacy Notice"),I.forEach(T),j.forEach(T),h.forEach(T),this.h()},h(){G(o,"class","w-full text-center text-2xl"),G(u,"class","cursor-pointer hover:underline"),G(c,"class","w-full mb-4 text-center font-light text-blue-700"),G(d,"type","password"),G(d,"placeholder","Password"),G(d,"class",h=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(g,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),G(w,"class","underline"),G(w,"href","/terms-of-service"),G($,"class","underline"),G($,"href","/privacy-notice"),G(v,"class","w-full text-center text-gray-400 text-thin text-sm"),G(e,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(i,h){A(i,e,h),Ot(r,e,null),S(e,n),S(e,o),S(o,a),S(e,s),S(e,c),S(c,u),S(u,l),S(e,f),S(e,d),K(d,t[2]),S(e,p),S(e,g),S(g,b),S(e,y),S(e,v),S(v,m),S(v,w),S(w,x),S(v,k),S(v,$),S($,_),E=!0,D||(O=[C(u,"click",t[4]),C(d,"change",t[6]),C(d,"input",t[7]),C(g,"click",t[3])],D=!0)},p(t,[e]){const n={};1&e&&(n.username=t[0]),r.$set(n),(!E||1&e)&&J(a,t[0]),(!E||2&e&&h!==(h=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"))&&G(d,"class",h),4&e&&d.value!==t[2]&&K(d,t[2])},i(t){E||($t(r.$$.fragment,t),E=!0)},o(t){_t(r.$$.fragment,t),E=!1},d(t){t&&T(e),It(r),D=!1,i(O)}}}function Ee(t,e,r){let n,{username:o}=e,{error:a}=e;const i=ot(),s=t=>{i("error",{error:t})};return t.$$set=t=>{"username"in t&&r(0,o=t.username),"error"in t&&r(1,a=t.error)},[o,a,n,()=>{i("login",{password:n})},()=>{i("reset")},s,()=>s(""),function(){n=this.value,r(2,n)}]}class Se extends Bt{constructor(t){super(),Nt(this,t,Ee,_e,c,{username:0,error:1})}}function Ae(t){const e=t-1;return e*e*e+1}function Te(t,{delay:e=0,duration:n=400,easing:o=r}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:t=>"opacity: "+t*a}}function De(t,{delay:e=0,duration:r=400,easing:n=Ae,x:o=0,y:a=0,opacity:i=0}={}){const s=getComputedStyle(t),c=+s.opacity,u="none"===s.transform?"":s.transform,l=c*(1-i);return{delay:e,duration:r,easing:n,css:(t,e)=>`\n\t\t\ttransform: ${u} translate(${(1-t)*o}px, ${(1-t)*a}px);\n\t\t\topacity: ${c-l*e}`}}function je(t){let e,r,n,o,a,i,s,c,u;return{c(){e=j("div"),r=j("div"),n=O("svg"),o=O("path"),a=N(),i=j("div"),s=I(t[0]),this.h()},l(c){e=L(c,"DIV",{id:!0,class:!0,role:!0});var u=M(e);r=L(u,"DIV",{class:!0});var l=M(r);n=R(l,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var f=M(n);o=R(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),M(o).forEach(T),f.forEach(T),l.forEach(T),a=z(u),i=L(u,"DIV",{class:!0});var d=M(i);s=H(d,t[0]),d.forEach(T),u.forEach(T),this.h()},h(){G(o,"fill-rule","evenodd"),G(o,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),G(o,"clip-rule","evenodd"),G(n,"class","w-5 h-5"),G(n,"fill","currentColor"),G(n,"viewBox","0 0 20 20"),G(n,"xmlns","http://www.w3.org/2000/svg"),G(r,"class","inline-flex flex-shrink-0 justify-center items-center w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200"),G(i,"class","ml-3 text-sm font-normal"),G(e,"id","toast-danger"),G(e,"class","absolute bottom-0 left-1/2 -translate-x-1/2 flex items-center p-4 mb-4 w-full max-w-xs text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),G(e,"role","alert")},m(t,c){A(t,e,c),S(e,r),S(r,n),S(n,o),S(e,a),S(e,i),S(i,s),u=!0},p(t,[e]){(!u||1&e)&&J(s,t[0])},i(t){u||(ft((()=>{c||(c=St(e,Te,{},!0)),c.run(1)})),u=!0)},o(t){c||(c=St(e,Te,{},!1)),c.run(0),u=!1},d(t){t&&T(e),t&&c&&c.end()}}}function Oe(t,e,r){let{error:n}=e;return t.$$set=t=>{"error"in t&&r(0,n=t.error)},[n]}class Ie extends Bt{constructor(t){super(),Nt(this,t,Oe,je,c,{error:0})}}function Ne(t){let e,r;return e=new Se({props:{username:t[0],error:t[2]}}),e.$on("login",t[7]),e.$on("reset",t[3]),e.$on("error",t[4]),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.username=t[0]),4&r&&(n.error=t[2]),e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function Be(t){let e,r;return e=new we({props:{username:t[0],error:t[2]}}),e.$on("register",t[6]),e.$on("reset",t[3]),e.$on("error",t[4]),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n={};1&r&&(n.username=t[0]),4&r&&(n.error=t[2]),e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function Ce(t){let e,r;return e=new ye({props:{error:t[2]}}),e.$on("continue",t[5]),e.$on("error",t[4]),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.error=t[2]),e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function Ue(t){let e,r;return e=new Ie({props:{error:t[2]}}),{c(){Dt(e.$$.fragment)},l(t){jt(e.$$.fragment,t)},m(t,n){Ot(e,t,n),r=!0},p(t,r){const n={};4&r&&(n.error=t[2]),e.$set(n)},i(t){r||($t(e.$$.fragment,t),r=!0)},o(t){_t(e.$$.fragment,t),r=!1},d(t){It(e,t)}}}function Ge(t){let e,r,n,o,a,i,s;const c=[Ce,Be,Ne],u=[];function l(t,e){return 0==t[1]?0:1==t[1]?1:2}o=l(t),a=u[o]=c[o](t);let f=t[2]&&Ue(t);return{c(){e=N(),r=j("div"),n=j("div"),a.c(),i=N(),f&&f.c(),this.h()},l(t){W('[data-svelte="svelte-9i4gyv"]',document.head).forEach(T),e=z(t),r=L(t,"DIV",{class:!0});var o=M(r);n=L(o,"DIV",{class:!0});var s=M(n);a.l(s),s.forEach(T),i=z(o),f&&f.l(o),o.forEach(T),this.h()},h(){document.title="Guns N' Goose - Authentication",G(n,"class","w-2/6 place-self-center drop-shadow"),G(r,"class","w-screen h-screen grid")},m(t,a){A(t,e,a),A(t,r,a),S(r,n),u[o].m(n,null),S(r,i),f&&f.m(r,null),s=!0},p(t,[e]){let i=o;o=l(t),o===i?u[o].p(t,e):(xt(),_t(u[i],1,1,(()=>{u[i]=null})),kt(),a=u[o],a?a.p(t,e):(a=u[o]=c[o](t),a.c()),$t(a,1),a.m(n,null)),t[2]?f?(f.p(t,e),4&e&&$t(f,1)):(f=Ue(t),f.c(),$t(f,1),f.m(r,null)):f&&(xt(),_t(f,1,1,(()=>{f=null})),kt())},i(t){s||($t(a),$t(f),s=!0)},o(t){_t(a),_t(f),s=!1},d(t){t&&T(e),t&&T(r),u[o].d(),f&&f.d()}}}function Me(t,e,r){let n="",o=0,a="";const i=t=>{Jt.auth(n,t.detail.password,(({err:t})=>{t?r(2,a=t):window.location.reload()}))};return[n,o,a,()=>{r(0,n=""),r(1,o=0),r(2,a="")},t=>{r(2,a=t.detail.error)},t=>{r(0,n=t.detail.username),zt.get(`~@${n}`).once((t=>{r(1,o=t?2:1)}))},t=>{Jt.create(n,t.detail.password,(({err:e})=>{e?r(2,a=e):(zt.get("leaderboard").get(n).put(1e3),i(t))}))},i]}class Ve extends Bt{constructor(t){super(),Nt(this,t,Me,Ge,c,{})}}function Pe(t){let r,n,o;return{c(){r=N(),n=j("h1"),o=I("About"),this.h()},l(t){W('[data-svelte="svelte-1mwg22y"]',document.head).forEach(T),r=z(t),n=L(t,"H1",{});var e=M(n);o=H(e,"About"),e.forEach(T),this.h()},h(){document.title="Guns N' Goose - About"},m(t,e){A(t,r,e),A(t,n,e),S(n,o)},p:e,i:e,o:e,d(t){t&&T(r),t&&T(n)}}}class Le extends Bt{constructor(t){super(),Nt(this,t,null,Pe,c,{})}}function Re(t){let r,n,o,a,i,s,c;return{c(){r=N(),n=j("div"),o=j("h1"),a=I("Terms of Service"),i=N(),s=j("h2"),c=I("🚧 Under Construction 🚧"),this.h()},l(t){W('[data-svelte="svelte-5lzbyb"]',document.head).forEach(T),r=z(t),n=L(t,"DIV",{class:!0});var e=M(n);o=L(e,"H1",{});var u=M(o);a=H(u,"Terms of Service"),u.forEach(T),i=z(e),s=L(e,"H2",{});var l=M(s);c=H(l,"🚧 Under Construction 🚧"),l.forEach(T),e.forEach(T),this.h()},h(){document.title="Guns N' Goose - Terms of Servic",G(n,"class","text-center")},m(t,e){A(t,r,e),A(t,n,e),S(n,o),S(o,a),S(n,i),S(n,s),S(s,c)},p:e,i:e,o:e,d(t){t&&T(r),t&&T(n)}}}class He extends Bt{constructor(t){super(),Nt(this,t,null,Re,c,{})}}function ze(t){let r,n,o,a,i,s,c;return{c(){r=N(),n=j("div"),o=j("h1"),a=I("Privacy Notice"),i=N(),s=j("h2"),c=I("🚧 Under Construction 🚧"),this.h()},l(t){W('[data-svelte="svelte-ugqy5b"]',document.head).forEach(T),r=z(t),n=L(t,"DIV",{class:!0});var e=M(n);o=L(e,"H1",{});var u=M(o);a=H(u,"Privacy Notice"),u.forEach(T),i=z(e),s=L(e,"H2",{});var l=M(s);c=H(l,"🚧 Under Construction 🚧"),l.forEach(T),e.forEach(T),this.h()},h(){document.title="Guns N' Goose - Privacy Notice",G(n,"class","text-center")},m(t,e){A(t,r,e),A(t,n,e),S(n,o),S(o,a),S(n,i),S(n,s),S(s,c)},p:e,i:e,o:e,d(t){t&&T(r),t&&T(n)}}}class Je extends Bt{constructor(t){super(),Nt(this,t,null,ze,c,{})}}function Ke(t){let r,n,o,a,s,c,u,l,f,d,h,p,g,b,y,v,m,w;return{c(){r=j("div"),n=j("div"),o=I("Add a Chat"),a=N(),s=j("div"),c=N(),u=j("form"),l=j("input"),f=N(),d=j("input"),h=N(),p=j("button"),g=I("Open Chat"),b=N(),y=j("div"),v=I("Make sure you got everything right!"),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=L(e,"DIV",{class:!0});var i=M(n);o=H(i,"Add a Chat"),i.forEach(T),a=z(e),s=L(e,"DIV",{class:!0}),M(s).forEach(T),c=z(e),u=L(e,"FORM",{});var m=M(u);l=L(m,"INPUT",{type:!0,placeholder:!0,class:!0}),f=z(m),d=L(m,"INPUT",{type:!0,placeholder:!0,class:!0}),h=z(m),p=L(m,"BUTTON",{class:!0});var w=M(p);g=H(w,"Open Chat"),w.forEach(T),b=z(m),y=L(m,"DIV",{class:!0});var x=M(y);v=H(x,"Make sure you got everything right!"),x.forEach(T),m.forEach(T),e.forEach(T),this.h()},h(){G(n,"class","w-full mb-4 text-center font-bold text-3xl"),G(s,"class","w-full text-center text-2xl"),G(l,"type","text"),G(l,"placeholder","ChatID"),G(l,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(d,"type","password"),G(d,"placeholder","Your shared private key"),G(d,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(p,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),G(y,"class","w-full text-center text-gray-400 text-thin text-sm"),G(r,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(e,i){A(e,r,i),S(r,n),S(n,o),S(r,a),S(r,s),S(r,c),S(r,u),S(u,l),K(l,t[2]),S(u,f),S(u,d),K(d,t[3]),S(u,h),S(u,p),S(p,g),S(u,b),S(u,y),S(y,v),m||(w=[C(l,"input",t[4]),C(d,"input",t[5]),C(u,"submit",U(t[6]))],m=!0)},p(t,[e]){4&e&&l.value!==t[2]&&K(l,t[2]),8&e&&d.value!==t[3]&&K(d,t[3])},i:e,o:e,d(t){t&&T(r),m=!1,i(w)}}}function Fe(t,e,r){let n,o,a,i;return f(t,Kt,(t=>r(0,n=t))),f(t,Xt,(t=>r(1,o=t))),f(t,qt,(t=>r(2,a=t))),f(t,Wt,(t=>r(3,i=t))),[n,o,a,i,function(){a=this.value,qt.set(a)},function(){i=this.value,Wt.set(i)},t=>{n&&h(Xt,o="messages",o)}]}class qe extends Bt{constructor(t){super(),Nt(this,t,Fe,Ke,c,{})}}function We(t){let r,n,o,a,i,s,c,u,l,f,d=t[0].what+"",h=t[0].who+"";return{c(){r=j("div"),n=j("div"),o=j("span"),a=I(d),s=N(),c=j("div"),u=j("small"),l=I(h),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=L(e,"DIV",{class:!0});var i=M(n);o=L(i,"SPAN",{});var f=M(o);a=H(f,d),f.forEach(T),i.forEach(T),s=z(e),c=L(e,"DIV",{class:!0});var p=M(c);u=L(p,"SMALL",{class:!0});var g=M(u);l=H(g,h),g.forEach(T),p.forEach(T),e.forEach(T),this.h()},h(){G(n,"class",i="inline-block "+(`${t[1]}`===t[0].who?"bg-blue-300":"bg-gray-300")+" rounded-full p-2 px-6 text-gray-700"),G(u,"class","text-gray-500"),G(c,"class","pl-4"),G(r,"class",f="mb-4 flex-1 "+(`${t[1]}`===t[0].who?"text-right":"text.left"))},m(t,e){A(t,r,e),S(r,n),S(n,o),S(o,a),S(r,s),S(r,c),S(c,u),S(u,l)},p(t,[e]){1&e&&d!==(d=t[0].what+"")&&J(a,d),3&e&&i!==(i="inline-block "+(`${t[1]}`===t[0].who?"bg-blue-300":"bg-gray-300")+" rounded-full p-2 px-6 text-gray-700")&&G(n,"class",i),1&e&&h!==(h=t[0].who+"")&&J(l,h),3&e&&f!==(f="mb-4 flex-1 "+(`${t[1]}`===t[0].who?"text-right":"text.left"))&&G(r,"class",f)},i:e,o:e,d(t){t&&T(r)}}}function Xe(t,e,r){let n;f(t,Kt,(t=>r(1,n=t)));let{message:o}=e;return t.$$set=t=>{"message"in t&&r(0,o=t.message)},[o,n]}class Ye extends Bt{constructor(t){super(),Nt(this,t,Xe,We,c,{message:0})}}function Ze(t,e,r){const n=t.slice();return n[7]=e[r],n}function Qe(t,e){let r,n,o;return n=new Ye({props:{message:e[7]}}),{key:t,first:null,c(){r=B(),Dt(n.$$.fragment),this.h()},l(t){r=B(),jt(n.$$.fragment,t),this.h()},h(){this.first=r},m(t,e){A(t,r,e),Ot(n,t,e),o=!0},p(t,r){e=t;const o={};2&r&&(o.message=e[7]),n.$set(o)},i(t){o||($t(n.$$.fragment,t),o=!0)},o(t){_t(n.$$.fragment,t),o=!1},d(t){t&&T(r),It(n,t)}}}function tr(t){let e,r,n,o,a,s,c,u,l,f=[],d=new Map,h=t[1];const p=t=>t[7].when;for(let e=0;e<h.length;e+=1){let r=Ze(t,h,e),n=p(r);d.set(n,f[e]=Qe(n,r))}return{c(){e=j("div"),r=j("div");for(let t=0;t<f.length;t+=1)f[t].c();n=N(),o=j("div"),a=j("form"),s=j("input"),this.h()},l(t){e=L(t,"DIV",{class:!0});var i=M(e);r=L(i,"DIV",{class:!0});var c=M(r);for(let t=0;t<f.length;t+=1)f[t].l(c);c.forEach(T),n=z(i),o=L(i,"DIV",{class:!0});var u=M(o);a=L(u,"FORM",{});var l=M(a);s=L(l,"INPUT",{type:!0,placeholder:!0,class:!0,maxlength:!0}),l.forEach(T),u.forEach(T),i.forEach(T),this.h()},h(){G(r,"class","overflow-auto"),G(s,"type","text"),G(s,"placeholder","Type a message..."),G(s,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),G(s,"maxlength","100"),G(o,"class","w-full "),G(e,"class","max-h-[70vh] overflow-auto grid-rows-2 rounded-xl bg-gradient-to-r bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 p-2 sm:p-6 overflow-auto")},m(i,d){A(i,e,d),S(e,r);for(let t=0;t<f.length;t+=1)f[t].m(r,null);S(e,n),S(e,o),S(o,a),S(a,s),K(s,t[0]),c=!0,u||(l=[C(s,"input",t[3]),C(a,"submit",U(t[2]))],u=!0)},p(t,[e]){2&e&&(h=t[1],xt(),f=function(t,e,r,n,o,a,i,s,c,u,l,f){let d=t.length,h=a.length,p=d;const g={};for(;p--;)g[t[p].key]=p;const b=[],y=new Map,v=new Map;for(p=h;p--;){const t=f(o,a,p),n=r(t);let s=i.get(n);s?s.p(t,e):(s=u(n,t),s.c()),y.set(n,b[p]=s),n in g&&v.set(n,Math.abs(p-g[n]))}const m=new Set,w=new Set;function x(t){$t(t,1),t.m(s,l),i.set(t.key,t),l=t.first,h--}for(;d&&h;){const e=b[h-1],r=t[d-1],n=e.key,o=r.key;e===r?(l=e.first,d--,h--):y.has(o)?!i.has(n)||m.has(n)?x(e):w.has(o)?d--:v.get(n)>v.get(o)?(w.add(n),x(e)):(m.add(o),d--):(c(r,i),d--)}for(;d--;){const e=t[d];y.has(e.key)||c(e,i)}for(;h;)x(b[h-1]);return b}(f,e,p,0,t,h,d,r,Tt,Qe,null,Ze),kt()),1&e&&s.value!==t[0]&&K(s,t[0])},i(t){if(!c){for(let t=0;t<h.length;t+=1)$t(f[t]);c=!0}},o(t){for(let t=0;t<f.length;t+=1)_t(f[t]);c=!1},d(t){t&&T(e);for(let t=0;t<f.length;t+=1)f[t].d();u=!1,i(l)}}}function er(t,e,r){let n,o;f(t,qt,(t=>r(4,n=t))),f(t,Wt,(t=>r(5,o=t)));const a=GUN({peers:["http://localhost:8765/gun","https://gun-manhattan.herokuapp.com/gun"]});let i,s=[];return nt((()=>{a.get(n).map().once((async(t,e)=>{if(t){var n={who:await a.user(t).get("alias"),what:await SEA.decrypt(t.what,o)+"",when:GUN.state.is(t,"what")};n.what&&r(1,s=[...s.slice(-100),n].sort(((t,e)=>t.when-e.when)))}}))})),[i,s,async function(){const t=await SEA.encrypt(i,o),e=Jt.get("all").set({what:t}),s=(new Date).toISOString();a.get(n).get(s).put(e),r(0,i="")},function(){i=this.value,r(0,i)}]}class rr extends Bt{constructor(t){super(),Nt(this,t,er,tr,c,{})}}function nr(t){let r,n;return r=new qe({}),{c(){Dt(r.$$.fragment)},l(t){jt(r.$$.fragment,t)},m(t,e){Ot(r,t,e),n=!0},p:e,i(t){n||($t(r.$$.fragment,t),n=!0)},o(t){_t(r.$$.fragment,t),n=!1},d(t){It(r,t)}}}function or(t){let r,n,o,a,i,s,c;return a=new rr({}),{c(){r=j("button"),n=I("New Chats"),o=N(),Dt(a.$$.fragment)},l(t){r=L(t,"BUTTON",{});var e=M(r);n=H(e,"New Chats"),e.forEach(T),o=z(t),jt(a.$$.fragment,t)},m(e,u){A(e,r,u),S(r,n),A(e,o,u),Ot(a,e,u),i=!0,s||(c=C(r,"click",t[1]),s=!0)},p:e,i(t){i||($t(a.$$.fragment,t),i=!0)},o(t){_t(a.$$.fragment,t),i=!1},d(t){t&&T(r),t&&T(o),It(a,t),s=!1,c()}}}function ar(t){let e,r,n,o,a,i,s;const c=[or,nr],u=[];function l(t,e){return"messages"===t[0]?0:"add_chat"===t[0]?1:-1}return~(a=l(t))&&(i=u[a]=c[a](t)),{c(){e=N(),r=j("div"),n=j("div"),o=j("div"),i&&i.c(),this.h()},l(t){W('[data-svelte="svelte-mqt12h"]',document.head).forEach(T),e=z(t),r=L(t,"DIV",{class:!0});var a=M(r);n=L(a,"DIV",{class:!0});var s=M(n);o=L(s,"DIV",{class:!0});var c=M(o);i&&i.l(c),c.forEach(T),s.forEach(T),a.forEach(T),this.h()},h(){document.title="Guns N' Goose - Chat",G(o,"class","w-full overflow-y-auto bg-grey mx-3"),G(n,"class","w-full max-h-screen bg-white rounded-xl px-12 py-6"),G(r,"class","px-40 w-auto place-self-center drop-shadow")},m(t,i){A(t,e,i),A(t,r,i),S(r,n),S(n,o),~a&&u[a].m(o,null),s=!0},p(t,[e]){let r=a;a=l(t),a===r?~a&&u[a].p(t,e):(i&&(xt(),_t(u[r],1,1,(()=>{u[r]=null})),kt()),~a?(i=u[a],i?i.p(t,e):(i=u[a]=c[a](t),i.c()),$t(i,1),i.m(o,null)):i=null)},i(t){s||($t(i),s=!0)},o(t){_t(i),s=!1},d(t){t&&T(e),t&&T(r),~a&&u[a].d()}}}function ir(t,e,r){let n;return f(t,Xt,(t=>r(0,n=t))),[n,()=>{h(Xt,n="add_chat",n)}]}class sr extends Bt{constructor(t){super(),Nt(this,t,ir,ar,c,{})}}function cr(t){let r,n,o,a,i,s,c,u,f,d,h,p,g,b,y,v,m,w,x,k,$,_=t[2][t[1]]+"";return{c(){r=j("nav"),n=j("div"),o=j("a"),a=j("img"),s=N(),c=j("div"),u=j("div"),f=j("div"),d=I(t[1]),h=j("br"),p=N(),g=I(_),b=N(),y=j("img"),m=N(),w=j("button"),x=I("Logout"),this.h()},l(e){r=L(e,"NAV",{class:!0});var i=M(r);n=L(i,"DIV",{class:!0});var l=M(n);o=L(l,"A",{href:!0,class:!0});var v=M(o);a=L(v,"IMG",{class:!0,src:!0,alt:!0}),v.forEach(T),l.forEach(T),s=z(i),c=L(i,"DIV",{class:!0});var k=M(c);u=L(k,"DIV",{class:!0});var $=M(u);f=L($,"DIV",{class:!0});var E=M(f);d=H(E,t[1]),h=L(E,"BR",{}),p=z(E),g=H(E,_),E.forEach(T),b=z($),y=L($,"IMG",{class:!0,src:!0,alt:!0}),m=z($),w=L($,"BUTTON",{type:!0,class:!0});var S=M(w);x=H(S,"Logout"),S.forEach(T),$.forEach(T),k.forEach(T),i.forEach(T),this.h()},h(){G(a,"class","h-full"),l(a.src,i="/guns-n-goose/static/logo-text.svg")||G(a,"src","/guns-n-goose/static/logo-text.svg"),G(a,"alt","logo"),G(o,"href",t[0]),G(o,"class","h-full"),G(n,"class","h-full float-left"),G(f,"class","mr-4 text-right"),G(y,"class","mr-4 h-full rounded-xl"),l(y.src,v="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")||G(y,"src",v),G(y,"alt","user"),G(w,"type","button"),G(w,"class","text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5"),G(u,"class","h-full flex items-center justify-center"),G(c,"class","h-full float-right flex items-center justify-center py-4"),G(r,"class","w-auto h-20 inset-x-6 top-6 px-4 fixed bg-white rounded-lg shadow")},m(e,i){A(e,r,i),S(r,n),S(n,o),S(o,a),S(r,s),S(r,c),S(c,u),S(u,f),S(f,d),S(f,h),S(f,p),S(f,g),S(u,b),S(u,y),S(u,m),S(u,w),S(w,x),k||($=C(w,"click",t[3]),k=!0)},p(t,[e]){1&e&&G(o,"href",t[0]),2&e&&J(d,t[1]),6&e&&_!==(_=t[2][t[1]]+"")&&J(g,_),2&e&&!l(y.src,v="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")&&G(y,"src",v)},i:e,o:e,d(t){t&&T(r),k=!1,$()}}}function ur(t,e,r){let n,o;f(t,Kt,(t=>r(1,n=t))),f(t,Ft,(t=>r(2,o=t)));let{BASE_URL:a}=e;return t.$$set=t=>{"BASE_URL"in t&&r(0,a=t.BASE_URL)},[a,n,o,()=>{Jt.leave(),Kt.set(""),window.location.reload()}]}class lr extends Bt{constructor(t){super(),Nt(this,t,ur,cr,c,{BASE_URL:0})}}const fr=Rt(0),dr=Rt(0),hr=Rt(0),pr=Rt(0);function gr(t){k(t,"svelte-14c5txn","body{background-image:url(\"https://cdn.pixabay.com/photo/2015/12/03/08/50/paper-1074131_1280.jpg\")}h2.svelte-14c5txn.svelte-14c5txn{font-size:2em;font-family:'Shadows Into Light'}.roll.svelte-14c5txn.svelte-14c5txn{position:relative;background:rgb(75, 84, 87);border-radius:50%;width:300px;height:300px}.loaded.svelte-14c5txn.svelte-14c5txn{display:block;position:absolute;top:50%;left:51%;width:100px;height:100px;margin:-51px;background:gold;border-radius:51%;text-align:center;line-height:100px}.empty.svelte-14c5txn.svelte-14c5txn{display:block;position:absolute;top:50%;left:51%;width:100px;height:100px;margin:-51px;background:rgb(158, 158, 156);border-radius:51%;text-align:center;line-height:100px}.death.svelte-14c5txn.svelte-14c5txn{position:relative;top:100px;right:-120px;width:70px}.deg-0.svelte-14c5txn.svelte-14c5txn{transform:translate(100px)\n\t}.deg-60.svelte-14c5txn.svelte-14c5txn{transform:rotate(60deg) translate(100px) rotate(-60deg)}.deg-120.svelte-14c5txn.svelte-14c5txn{transform:rotate(120deg) translate(100px) rotate(-120deg)}.deg-180.svelte-14c5txn.svelte-14c5txn{transform:rotate(180deg) translate(100px) rotate(-180deg)}.deg-240.svelte-14c5txn.svelte-14c5txn{transform:rotate(240deg) translate(100px) rotate(-240deg)}.deg-300.svelte-14c5txn.svelte-14c5txn{transform:rotate(300deg) translate(100px) rotate(-300deg)}.stripe.svelte-14c5txn.svelte-14c5txn{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(25, 25, 25, 0.6) 10%, \n\t\t\t#4c4c4c 10%, #4c4c4c 20%);background-size:100%;transition:background 0.3s ease-in-out}.stripe.svelte-14c5txn.svelte-14c5txn:hover{background-position:150px}.bubble.svelte-14c5txn.svelte-14c5txn{border-radius:40px;position:relative;right:-300px;top:-700px;background-size:100%}.bubble2.svelte-14c5txn.svelte-14c5txn{place-self:start}.text.svelte-14c5txn.svelte-14c5txn{right:-10px}.bubble.svelte-14c5txn svg.svelte-14c5txn{overflow:visible;position:var(--position, absolute);left:var(--left, 0);z-index:-1}rect.svelte-14c5txn.svelte-14c5txn,path.svelte-14c5txn.svelte-14c5txn{fill:var(--fill-color, rgba(255, 255, 255, 0));stroke:#000000;stroke-width:3px;stroke-linejoin:round}.stripe.svelte-14c5txn.svelte-14c5txn{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(25, 25, 25, 0.6) 10%, \n\t\t\t#4c4c4c 10%, #4c4c4c 20%);background-size:100%;transition:background 0.3s ease-in-out}.stripe.svelte-14c5txn.svelte-14c5txn:hover{background-position:150px}.end.svelte-14c5txn.svelte-14c5txn{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:-200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(128, 182, 59, 0.6) 10%, \n\t\t\t#a9f38b 10%, #008a0b 20%);background-size:100%;transition:background 0.3s ease-in-out}.end.svelte-14c5txn.svelte-14c5txn:hover{background-position:150px}.earnings.svelte-14c5txn.svelte-14c5txn{font-size:2.5em;top:-90%}")}function br(t,e,r){const n=t.slice();return n[17]=e[r],n[18]=e,n[19]=r,n}function yr(t){let e,r,n,o,a,i,s,c,u,f,d,h,p,g,b,y,v,m,w,x,k,$,_=t[1],E=[];for(let e=0;e<_.length;e+=1)E[e]=vr(br(t,_,e));function B(t,e){return 6==t[3]?xr:0==t[3]?wr:mr}let C=B(t),U=C(t);return{c(){e=j("div"),r=j("div"),n=j("div"),o=j("div");for(let t=0;t<E.length;t+=1)E[t].c();a=N(),U.c(),i=N(),s=j("div"),c=j("div"),u=j("div"),f=j("img"),h=N(),p=j("div"),g=j("div"),b=O("svg"),y=O("rect"),v=O("path"),x=N(),k=j("h2"),$=I("How much do you dare?"),this.h()},l(t){e=L(t,"DIV",{class:!0});var l=M(e);r=L(l,"DIV",{class:!0});var d=M(r);n=L(d,"DIV",{class:!0});var m=M(n);o=L(m,"DIV",{class:!0});var w=M(o);for(let t=0;t<E.length;t+=1)E[t].l(w);a=z(w),U.l(w),w.forEach(T),m.forEach(T),d.forEach(T),i=z(l),s=L(l,"DIV",{class:!0});var _=M(s);c=L(_,"DIV",{class:!0});var S=M(c);u=L(S,"DIV",{class:!0});var A=M(u);f=L(A,"IMG",{class:!0,src:!0,alt:!0}),h=z(A),p=L(A,"DIV",{class:!0});var D=M(p);g=L(D,"DIV",{class:!0});var j=M(g);b=R(j,"svg",{width:!0,height:!0,viewBox:!0,class:!0});var O=M(b);y=R(O,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),M(y).forEach(T),v=R(O,"path",{d:!0,class:!0}),M(v).forEach(T),O.forEach(T),x=z(j),k=L(j,"H2",{class:!0});var I=M(k);$=H(I,"How much do you dare?"),I.forEach(T),j.forEach(T),D.forEach(T),A.forEach(T),S.forEach(T),_.forEach(T),l.forEach(T),this.h()},h(){G(o,"class","roll svelte-14c5txn"),G(n,"class","place-self-center"),G(r,"class","w-full h-1/2 grid"),G(f,"class","h-full relative"),l(f.src,d="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/pirate-3123711.svg")||G(f,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/pirate-3123711.svg"),G(f,"alt","Pirate"),G(y,"x","0"),G(y,"y","0"),G(y,"width",Ar),G(y,"height",Tr),G(y,"rx","5"),G(y,"class","svelte-14c5txn"),G(v,"d",m="M"+2*t[0]+","+Tr+" h-"+t[0]+" v"+t[0]+" Z"),G(v,"class","svelte-14c5txn"),G(b,"width",Ar),G(b,"height",Tr),G(b,"viewBox",w="0 0 "+Ar+" "+Tr),G(b,"class","svelte-14c5txn"),G(k,"class","relative text svelte-14c5txn"),G(g,"class","bubble2 svelte-14c5txn"),G(p,"class","relative h-1/2 bubble svelte-14c5txn"),G(u,"class","h-1/2 absolute bottom-0 right-60"),G(c,"class","h-1/2 place-self-center"),G(s,"class","w-full h-1/2 grid"),G(e,"class","w-1/2 h-full place-self-center")},m(t,l){A(t,e,l),S(e,r),S(r,n),S(n,o);for(let t=0;t<E.length;t+=1)E[t].m(o,null);S(o,a),U.m(o,null),S(e,i),S(e,s),S(s,c),S(c,u),S(u,f),S(u,h),S(u,p),S(p,g),S(g,b),S(b,y),S(b,v),S(g,x),S(g,k),S(k,$)},p(t,e){if(258&e){let r;for(_=t[1],r=0;r<_.length;r+=1){const n=br(t,_,r);E[r]?E[r].p(n,e):(E[r]=vr(n),E[r].c(),E[r].m(o,a))}for(;r<E.length;r+=1)E[r].d(1);E.length=_.length}C===(C=B(t))&&U?U.p(t,e):(U.d(1),U=C(t),U&&(U.c(),U.m(o,null))),1&e&&m!==(m="M"+2*t[0]+","+Tr+" h-"+t[0]+" v"+t[0]+" Z")&&G(v,"d",m)},d(t){t&&T(e),D(E,t),U.d()}}}function vr(t){let e,r,n,o;function a(){return t[10](t[17],t[18],t[19])}return{c(){e=j("button"),this.h()},l(t){e=L(t,"BUTTON",{class:!0}),M(e).forEach(T),this.h()},h(){G(e,"class",r=d(t[17].selected?"loaded "+t[17].class:"empty "+t[17].class)+" svelte-14c5txn")},m(t,r){A(t,e,r),n||(o=C(e,"click",a),n=!0)},p(n,o){t=n,2&o&&r!==(r=d(t[17].selected?"loaded "+t[17].class:"empty "+t[17].class)+" svelte-14c5txn")&&G(e,"class",r)},d(t){t&&T(e),n=!1,o()}}}function mr(t){let r,n,o,a;return{c(){r=j("button"),n=I("Ready"),this.h()},l(t){r=L(t,"BUTTON",{class:!0});var e=M(r);n=H(e,"Ready"),e.forEach(T),this.h()},h(){G(r,"class","stripe svelte-14c5txn")},m(e,i){A(e,r,i),S(r,n),o||(a=C(r,"click",t[11]),o=!0)},p:e,d(t){t&&T(r),o=!1,a()}}}function wr(t){let r,n,o;return{c(){r=j("div"),n=j("h2"),o=I("Scared, are we?"),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=L(e,"H2",{style:!0,class:!0});var a=M(n);o=H(a,"Scared, are we?"),a.forEach(T),e.forEach(T),this.h()},h(){F(n,"position","relative"),F(n,"right","300px"),F(n,"top","-150px"),G(n,"class","svelte-14c5txn"),G(r,"class","death svelte-14c5txn")},m(t,e){A(t,r,e),S(r,n),S(n,o)},p:e,d(t){t&&T(r)}}}function xr(t){let r,n,o,a,i,s;return{c(){r=j("div"),n=j("img"),a=N(),i=j("h2"),s=I("Are you suicidal, mate?"),this.h()},l(t){r=L(t,"DIV",{class:!0});var e=M(r);n=L(e,"IMG",{src:!0,alt:!0}),a=z(e),i=L(e,"H2",{style:!0,class:!0});var o=M(i);s=H(o,"Are you suicidal, mate?"),o.forEach(T),e.forEach(T),this.h()},h(){l(n.src,o="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/sugar-skull-1782019.svg")||G(n,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/sugar-skull-1782019.svg"),G(n,"alt","Instant death"),F(i,"position","relative"),F(i,"right","300px"),F(i,"top","-150px"),G(i,"class","svelte-14c5txn"),G(r,"class","death svelte-14c5txn")},m(t,e){A(t,r,e),S(r,n),S(r,a),S(r,i),S(i,s)},p:e,d(t){t&&T(r)}}}function kr(t){let e,r,n,o,a,i,s,c,u,l,f,d=1==t[2]&&$r();function h(t,e){return!(1==t[6])&1==t[2]?Er:1==t[6]&1==t[2]?_r:void 0}let p=h(t),g=p&&p(t);return{c(){e=j("div"),r=j("div"),n=j("div"),o=j("div"),a=j("h2"),i=I("Your earnings: "),s=I(t[4]),c=I("$"),u=N(),d&&d.c(),l=N(),g&&g.c(),this.h()},l(f){e=L(f,"DIV",{});var h=M(e);r=L(h,"DIV",{class:!0});var p=M(r);n=L(p,"DIV",{class:!0});var b=M(n);o=L(b,"DIV",{class:!0});var y=M(o);a=L(y,"H2",{class:!0});var v=M(a);i=H(v,"Your earnings: "),s=H(v,t[4]),c=H(v,"$"),v.forEach(T),y.forEach(T),u=z(b),d&&d.l(b),l=z(b),g&&g.l(b),b.forEach(T),p.forEach(T),h.forEach(T),this.h()},h(){G(a,"class","svelte-14c5txn"),G(o,"class","earnings absolute svelte-14c5txn"),G(n,"class","relative h-1/3 w-1/3 place-self-center"),G(r,"class","h-full w-full grid")},m(t,h){A(t,e,h),S(e,r),S(r,n),S(n,o),S(o,a),S(a,i),S(a,s),S(a,c),S(n,u),d&&d.m(n,null),S(n,l),g&&g.m(n,null),f=!0},p(t,e){(!f||16&e)&&J(s,t[4]),1==t[2]?d?4&e&&$t(d,1):(d=$r(),d.c(),$t(d,1),d.m(n,l)):d&&(xt(),_t(d,1,1,(()=>{d=null})),kt()),p===(p=h(t))&&g?g.p(t,e):(g&&g.d(1),g=p&&p(t),g&&(g.c(),g.m(n,null)))},i(t){f||($t(d),f=!0)},o(t){_t(d),f=!1},d(t){t&&T(e),d&&d.d(),g&&g.d()}}}function $r(t){let n,o,a,c,u;return{c(){n=j("img"),this.h()},l(t){n=L(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){G(n,"class","h-full place-self-center"),l(n.src,o="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/Flying_goose.svg")||G(n,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/Flying_goose.svg"),G(n,"alt","Goose")},m(t,e){A(t,n,e),u=!0},i(t){u||(ft((()=>{c&&c.end(1),a=function(t,n,o){let a,i,c=n(t,{x:2e3,duration:3e3}),u=!1,l=0;function f(){a&&tt(t,a)}function d(){const{delay:n=0,duration:o=300,easing:s=r,tick:d=e,css:h}=c||Et;h&&(a=Q(t,0,1,o,n,s,h,l++)),d(0,1);const p=g()+n,b=p+o;i&&i.abort(),u=!0,ft((()=>vt(t,!0,"start"))),i=m((e=>{if(u){if(e>=b)return d(1,0),vt(t,!0,"end"),f(),u=!1;if(e>=p){const t=s((e-p)/o);d(t,1-t)}}return u}))}let h=!1;return{start(){h||(h=!0,tt(t),s(c)?(c=c(),yt().then(d)):d())},invalidate(){h=!1},end(){u&&(f(),u=!1)}}}(n,De),a.start()})),u=!0)},o(t){a&&a.invalidate(),c=function(t,n,o){let a,c=n(t,{x:-2e3,duration:4e3}),u=!0;const l=wt;function f(){const{delay:n=0,duration:o=300,easing:s=r,tick:f=e,css:d}=c||Et;d&&(a=Q(t,1,0,o,n,s,d));const h=g()+n,p=h+o;ft((()=>vt(t,!1,"start"))),m((e=>{if(u){if(e>=p)return f(0,1),vt(t,!1,"end"),--l.r||i(l.c),!1;if(e>=h){const t=s((e-h)/o);f(1-t,t)}}return u}))}return l.r+=1,s(c)?yt().then((()=>{c=c(),f()})):f(),{end(e){e&&c.tick&&c.tick(1,0),u&&(a&&tt(t,a),u=!1)}}}(n,De),u=!1},d(t){t&&T(n),t&&c&&c.end()}}}function _r(t){let r,n;return{c(){r=j("img"),this.h()},l(t){r=L(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){G(r,"class","absolute top-0 place-self-center"),l(r.src,n="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/1ff5d507a5622971efd84160ae58ca85-drop-pool-blood-splatter.png")||G(r,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/1ff5d507a5622971efd84160ae58ca85-drop-pool-blood-splatter.png"),G(r,"alt","blood")},m(t,e){A(t,r,e)},p:e,d(t){t&&T(r)}}}function Er(t){let r,n,o,a,s,c,u;return{c(){r=j("button"),n=I("Shoot"),o=N(),a=j("button"),s=I("Cash out"),this.h()},l(t){r=L(t,"BUTTON",{class:!0});var e=M(r);n=H(e,"Shoot"),e.forEach(T),o=z(t),a=L(t,"BUTTON",{class:!0});var i=M(a);s=H(i,"Cash out"),i.forEach(T),this.h()},h(){G(r,"class","stripe svelte-14c5txn"),G(a,"class","end svelte-14c5txn")},m(e,i){A(e,r,i),S(r,n),A(e,o,i),A(e,a,i),S(a,s),c||(u=[C(r,"click",t[7]),C(a,"click",t[9])],c=!0)},p:e,d(t){t&&T(r),t&&T(o),t&&T(a),c=!1,i(u)}}}function Sr(t){let e,r,n,o,a=0==t[5]&&yr(t),i=1==t[5]&&kr(t);return{c(){e=N(),r=j("div"),a&&a.c(),n=N(),i&&i.c(),this.h()},l(t){W('[data-svelte="svelte-gvpiz4"]',document.head).forEach(T),e=z(t),r=L(t,"DIV",{class:!0});var o=M(r);a&&a.l(o),n=z(o),i&&i.l(o),o.forEach(T),this.h()},h(){document.title="Russian Roulette",G(r,"class","w-full h-full grid")},m(t,s){A(t,e,s),A(t,r,s),a&&a.m(r,null),S(r,n),i&&i.m(r,null),o=!0},p(t,[e]){0==t[5]?a?a.p(t,e):(a=yr(t),a.c(),a.m(r,n)):a&&(a.d(1),a=null),1==t[5]?i?(i.p(t,e),32&e&&$t(i,1)):(i=kr(t),i.c(),$t(i,1),i.m(r,null)):i&&(xt(),_t(i,1,1,(()=>{i=null})),kt())},i(t){o||($t(i),o=!0)},o(t){_t(i),o=!1},d(t){t&&T(e),t&&T(r),a&&a.d(),i&&i.d()}}}let Ar=300,Tr=100;function Dr(t,e,r){let n,o,a,i;f(t,fr,(t=>r(3,n=t))),f(t,pr,(t=>r(4,o=t))),f(t,dr,(t=>r(5,a=t))),f(t,hr,(t=>r(6,i=t)));let s=[{id:"1",class:"deg-0",selected:!0},{id:"2",class:"deg-60",selected:!1},{id:"3",class:"deg-120",selected:!1},{id:"4",class:"deg-180",selected:!1},{id:"5",class:"deg-240",selected:!1},{id:"6",class:"deg-300",selected:!1}];fr.set(1);let{tickSize:c=24}=e;const u=ot();let l=n,d=!0,h=[];for(let t=1;t<=6;t++)l>0?(h.push(1),l--):h.push(0);function p(t){if(t){let t=h.indexOf(0);h[t]=1,fr.update((t=>t+1))}else{let t=h.indexOf(1);h[t]=0,fr.update((t=>t-1))}}return t.$$set=t=>{"tickSize"in t&&r(0,c=t.tickSize)},[c,s,d,n,o,a,i,function(){h=h;var t=Math.floor(Math.random()*h.length);1==h[t]?(hr.set(1),pr.set(0),u("lose",{amount:"all"})):pr.update((t=>t+100))},p,function(){r(2,d=!1),u("win",{amount:o})},(t,e,n)=>{r(1,e[n].selected=!t.selected,s),p(t.selected)},()=>dr.set(1)]}class jr extends Bt{constructor(t){super(),Nt(this,t,Dr,Sr,c,{tickSize:0},gr)}}const{document:Or}=At;function Ir(t){k(t,"svelte-1p0bb6r","#app.svelte-1p0bb6r{width:400px;height:400px;margin:0 auto;position:relative}#display.svelte-1p0bb6r{display:flex;align-items:center;justify-content:center;width:200px;height:50px;border:1px solid black;border-radius:20px;text-align:center;font-family:Arial, Helvetica, sans-serif;font-size:2rem;margin:20px auto}#marker.svelte-1p0bb6r{position:absolute;width:60px;left:172px;top:-20px;z-index:2}#wheel.svelte-1p0bb6r{width:100%;height:100%}")}function Nr(t){let r,n,o,a,i,s,c,u,f,d,h,p,g,b,y,v,m,w,x,k,$,_,E,D,O,B,C,U,V,P,R,J,K,F,q,X,Y,Z,Q,tt,et,rt,nt,ot,at,it;return{c(){r=I("Wheel of Fortune"),n=N(),o=j("main"),a=j("div"),i=j("img"),c=N(),u=j("img"),d=N(),h=j("div"),p=I("-"),g=N(),b=j("div"),y=j("button"),v=I("🐸"),w=N(),x=j("button"),k=I("🐌"),_=N(),E=j("button"),D=I("🐬"),B=N(),C=j("button"),U=I("🐞"),P=N(),R=j("div"),J=j("button"),K=I("🐨"),q=N(),X=j("button"),Y=I("🦄"),Q=N(),tt=j("button"),et=I("🐲"),nt=N(),ot=j("button"),at=I("⛄️"),this.h()},l(t){const e=W('[data-svelte="svelte-ddd3rl"]',Or.head);r=H(e,"Wheel of Fortune"),e.forEach(T),n=z(t),o=L(t,"MAIN",{transition:!0});var s=M(o);a=L(s,"DIV",{id:!0,class:!0});var l=M(a);i=L(l,"IMG",{id:!0,alt:!0,src:!0,class:!0}),c=z(l),u=L(l,"IMG",{id:!0,alt:!0,src:!0,class:!0}),d=z(l),h=L(l,"DIV",{id:!0,class:!0});var f=M(h);p=H(f,"-"),f.forEach(T),g=z(l),b=L(l,"DIV",{class:!0,role:!0});var m=M(b);y=L(m,"BUTTON",{type:!0,class:!0,id:!0});var $=M(y);v=H($,"🐸"),$.forEach(T),w=z(m),x=L(m,"BUTTON",{type:!0,class:!0,id:!0});var S=M(x);k=H(S,"🐌"),S.forEach(T),_=z(m),E=L(m,"BUTTON",{type:!0,class:!0,id:!0});var A=M(E);D=H(A,"🐬"),A.forEach(T),B=z(m),C=L(m,"BUTTON",{type:!0,class:!0,id:!0});var j=M(C);U=H(j,"🐞"),j.forEach(T),m.forEach(T),P=z(l),R=L(l,"DIV",{class:!0,role:!0});var O=M(R);J=L(O,"BUTTON",{type:!0,class:!0,id:!0});var I=M(J);K=H(I,"🐨"),I.forEach(T),q=z(O),X=L(O,"BUTTON",{type:!0,class:!0,id:!0});var N=M(X);Y=H(N,"🦄"),N.forEach(T),Q=z(O),tt=L(O,"BUTTON",{type:!0,class:!0,id:!0});var G=M(tt);et=H(G,"🐲"),G.forEach(T),nt=z(O),ot=L(O,"BUTTON",{type:!0,class:!0,id:!0});var V=M(ot);at=H(V,"⛄️"),V.forEach(T),O.forEach(T),l.forEach(T),s.forEach(T),this.h()},h(){G(i,"id","marker"),G(i,"alt",""),l(i.src,s="https://raw.githubusercontent.com/weibenfalk/wheel-of-fortune-part2/main/vanilla-js-wheel-of-fortune-part2-FINISHED/marker.png")||G(i,"src","https://raw.githubusercontent.com/weibenfalk/wheel-of-fortune-part2/main/vanilla-js-wheel-of-fortune-part2-FINISHED/marker.png"),G(i,"class","svelte-1p0bb6r"),G(u,"id","wheel"),G(u,"alt",""),l(u.src,f="https://raw.githubusercontent.com/weibenfalk/wheel-of-fortune-part2/main/vanilla-js-wheel-of-fortune-part2-FINISHED/wheel.png")||G(u,"src","https://raw.githubusercontent.com/weibenfalk/wheel-of-fortune-part2/main/vanilla-js-wheel-of-fortune-part2-FINISHED/wheel.png"),G(u,"class","svelte-1p0bb6r"),G(h,"id","display"),G(h,"class","svelte-1p0bb6r"),G(y,"type","button"),G(y,"class",m=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-l-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(y,"id","frog"),y.disabled=t[0],G(x,"type","button"),G(x,"class",$=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(x,"id","snail"),x.disabled=t[0],G(E,"type","button"),G(E,"class",O=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(E,"id","dolphin"),E.disabled=t[0],G(C,"type","button"),G(C,"class",V=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(C,"id","ladybug"),C.disabled=t[0],G(b,"class","inline-flex rounded-md shadow-sm"),G(b,"role","group"),G(J,"type","button"),G(J,"class",F=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(J,"id","koala"),J.disabled=t[0],G(X,"type","button"),G(X,"class",Z=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(X,"id","unicorn"),X.disabled=t[0],G(tt,"type","button"),G(tt,"class",rt=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(tt,"id","dragon"),tt.disabled=t[0],G(ot,"type","button"),G(ot,"class",it=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white"),G(ot,"id","snowman"),ot.disabled=t[0],G(R,"class","inline-flex rounded-md shadow-sm"),G(R,"role","group"),G(a,"id","app"),G(a,"class","svelte-1p0bb6r"),G(o,"transition","")},m(t,e){S(Or.head,r),A(t,n,e),A(t,o,e),S(o,a),S(a,i),S(a,c),S(a,u),S(a,d),S(a,h),S(h,p),S(a,g),S(a,b),S(b,y),S(y,v),S(b,w),S(b,x),S(x,k),S(b,_),S(b,E),S(E,D),S(b,B),S(b,C),S(C,U),S(a,P),S(a,R),S(R,J),S(J,K),S(R,q),S(R,X),S(X,Y),S(R,Q),S(R,tt),S(tt,et),S(R,nt),S(R,ot),S(ot,at)},p(t,[e]){1&e&&m!==(m=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-l-lg border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(y,"class",m),1&e&&(y.disabled=t[0]),1&e&&$!==($=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(x,"class",$),1&e&&(x.disabled=t[0]),1&e&&O!==(O=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(E,"class",O),1&e&&(E.disabled=t[0]),1&e&&V!==(V=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(C,"class",V),1&e&&(C.disabled=t[0]),1&e&&F!==(F=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(J,"class",F),1&e&&(J.disabled=t[0]),1&e&&Z!==(Z=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(X,"class",Z),1&e&&(X.disabled=t[0]),1&e&&rt!==(rt=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(tt,"class",rt),1&e&&(tt.disabled=t[0]),1&e&&it!==(it=(t[0]?"cursor-not-allowed":"")+" py-2 px-4 text-sm font-medium text-gray-900 bg-white rounded-r-md border border-gray-200 hover:bg-gray-100 hover:text-blue-700 focus:z-10 focus:ring-2 focus:ring-blue-700 focus:text-blue-700 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-gray-600 dark:focus:ring-blue-500 dark:focus:text-white")&&G(ot,"class",it),1&e&&(ot.disabled=t[0])},i:e,o:e,d(t){T(r),t&&T(n),t&&T(o)}}}function Br(t,e,r){const n=ot();let o=0;const a={1:"Frog",2:"Snail",3:"Dolphin",4:"Ladybug",5:"Koala",6:"Unicorn",7:"Dragon",8:"Snowman"};let i=!1;nt((()=>{const t=document.getElementById("wheel");document.getElementById("button");const e=document.getElementById("display"),r=document.getElementById("frog"),n=document.getElementById("snail"),a=document.getElementById("dolphin"),i=document.getElementById("ladybug"),u=document.getElementById("koala"),l=document.getElementById("unicorn"),f=document.getElementById("dragon"),d=document.getElementById("snowman");r.addEventListener("click",(()=>c(e,t,"Frog"))),n.addEventListener("click",(()=>c(e,t,"Snail"))),a.addEventListener("click",(()=>c(e,t,"Dolphin"))),i.addEventListener("click",(()=>c(e,t,"Ladybug"))),u.addEventListener("click",(()=>c(e,t,"Koala"))),l.addEventListener("click",(()=>c(e,t,"Unicorn"))),f.addEventListener("click",(()=>c(e,t,"Dragon"))),d.addEventListener("click",(()=>c(e,t,"Snowman"))),t.addEventListener("transitionend",(()=>{t.style.transition="none";const e=o%360;t.style.transform=`rotate(${e}deg)`,s(e)}))}));const s=t=>{const e=Math.ceil(t/45);display.innerHTML===a[e]?(display.innerHTML="+50",n("win",{amount:50})):(display.innerHTML="-50",n("lose",{amount:50})),r(0,i=!1)};function c(t,e,n){r(0,i=!0),t.innerHTML=n,o=Math.floor(5e3+5e3*Math.random()),e.style.transition="all 5s ease-out",e.style.transform=`rotate(${o}deg)`}return[i]}class Cr extends Bt{constructor(t){super(),Nt(this,t,Br,Nr,c,{},Ir)}}function Ur(t){return{c:e,l:e,m:e,p:e,i:e,o:e,d:e}}function Gr(t){let r,n,o,a,i="/auth"!==t[1]&&function(t){let r,n,o,a;return r=new lr({props:{class:"z-50",BASE_URL:t[0]}}),{c(){Dt(r.$$.fragment),n=N(),o=j("div"),this.h()},l(t){jt(r.$$.fragment,t),n=z(t),o=L(t,"DIV",{class:!0}),M(o).forEach(T),this.h()},h(){G(o,"class","w-screen h-32")},m(t,e){Ot(r,t,e),A(t,n,e),A(t,o,e),a=!0},p:e,i(t){a||($t(r.$$.fragment,t),a=!0)},o(t){_t(r.$$.fragment,t),a=!1},d(t){It(r,t),t&&T(n),t&&T(o)}}}(t);var s=t[2][t[1]].component;function c(t){return{props:{BASE_URL:t[0]}}}return s&&(o=new s(c(t)),o.$on("win",t[4]),o.$on("lose",t[5])),{c(){i&&i.c(),r=N(),n=j("div"),o&&Dt(o.$$.fragment)},l(t){i&&i.l(t),r=z(t),n=L(t,"DIV",{});var e=M(n);o&&jt(o.$$.fragment,e),e.forEach(T)},m(t,e){i&&i.m(t,e),A(t,r,e),A(t,n,e),o&&Ot(o,n,null),a=!0},p(t,e){if("/auth"!==t[1]&&i.p(t,e),s!==(s=t[2][t[1]].component)){if(o){xt();const t=o;_t(t.$$.fragment,1,0,(()=>{It(t,1)})),kt()}s?(o=new s(c(t)),o.$on("win",t[4]),o.$on("lose",t[5]),Dt(o.$$.fragment),$t(o.$$.fragment,1),Ot(o,n,null)):o=null}},i(t){a||($t(i),o&&$t(o.$$.fragment,t),a=!0)},o(t){_t(i),o&&_t(o.$$.fragment,t),a=!1},d(t){i&&i.d(t),t&&T(r),t&&T(n),o&&It(o)}}}function Mr(t){let r,n;return r=new Ut({}),{c(){Dt(r.$$.fragment)},l(t){jt(r.$$.fragment,t)},m(t,e){Ot(r,t,e),n=!0},p:e,i(t){n||($t(r.$$.fragment,t),n=!0)},o(t){_t(r.$$.fragment,t),n=!1},d(t){It(r,t)}}}function Vr(t){let e,r,n={ctx:t,current:null,token:null,hasCatch:!1,pending:Mr,then:Gr,catch:Ur,blocks:[,,,]};return function(t,e){const r=e.token={};function n(t,n,o,a){if(e.token!==r)return;e.resolved=a;let i=e.ctx;void 0!==o&&(i=i.slice(),i[o]=a);const s=t&&(e.current=t)(i);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,r)=>{r!==n&&t&&(xt(),_t(t,1,1,(()=>{e.blocks[r]===t&&(e.blocks[r]=null)})),kt())})):e.block.d(1),s.c(),$t(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[n]=s),c&&gt()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const r=rt();if(t.then((t=>{et(r),n(e.then,1,e.value,t),et(null)}),(t=>{if(et(r),n(e.catch,2,e.error,t),et(null),!e.hasCatch)throw t})),e.current!==e.pending)return n(e.pending,0),!0}else{if(e.current!==e.then)return n(e.then,1,e.value,t),!0;e.resolved=t}var o}(t[3],n),{c(){e=j("main"),n.block.c(),this.h()},l(t){e=L(t,"MAIN",{class:!0});var r=M(e);n.block.l(r),r.forEach(T),this.h()},h(){G(e,"class","h-screen bg-gray-200 grid w-screen max-w-screen overflow-hidden")},m(t,o){A(t,e,o),n.block.m(e,n.anchor=null),n.mount=()=>e,n.anchor=null,r=!0},p(e,[r]){!function(t,e,r){const n=e.slice(),{resolved:o}=t;t.current===t.then&&(n[t.value]=o),t.current===t.catch&&(n[t.error]=o),t.block.p(n,r)}(n,t=e,r)},i(t){r||($t(n.block),r=!0)},o(t){for(let t=0;t<3;t+=1)_t(n.blocks[t]);r=!1},d(t){t&&T(e),n.block.d(),n.token=null,n=null}}}function Pr(t,e,r){let n;f(t,Kt,(t=>r(6,n=t)));const o="guns-n-goose.github.io"===window.location.host?window.location.origin+"/guns-n-goose":window.location.origin,a=window.location.href.replace(o,""),i={"/":{component:pe,access:"loggedIn"},"/auth":{component:Ve,access:"loggedOut"},"/about":{component:Le,access:""},"/terms-of-service":{component:He,access:""},"/privacy-notice":{component:Je,access:""},"/chat":{component:sr,access:"loggedIn"},"/russian-roulette":{component:jr,access:"loggedIn"},"/wheel-of-fortune":{component:Cr,access:"loggedIn"}},s=new Promise((t=>{i[a]||(window.location.href=o),setTimeout((()=>{"loggedIn"!==i[a].access||n?"loggedOut"===i[a].access&&n?window.location.href=o:t():window.location.href=o+"/auth"}),300)}));return[o,a,i,s,t=>{zt.get("leaderboard").get(n).once((e=>{zt.get("leaderboard").get(n).put(e+t.detail.amount)}))},t=>{zt.get("leaderboard").get(n).once((e=>{"all"===t.detail.amount?zt.get("leaderboard").get(n).put(0):zt.get("leaderboard").get(n).put(e-t.detail.amount)}))}]}return new class extends Bt{constructor(t){super(),Nt(this,t,Pr,Vr,c,{})}}({target:document.querySelector("#__snel")}),{}})();