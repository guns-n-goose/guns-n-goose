export default(async()=>{function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function a(t){t.forEach(r)}function i(t){return"function"==typeof t}function s(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let c;function l(t,e){return c||(c=document.createElement("a")),c.href=e,t===c.href}function u(e,n,r){e.$$.on_destroy.push(function(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}(n,r))}function f(t){return null==t?"":t}function p(t,e,n){return t.set(n),e}const h="undefined"!=typeof window;let d=h?()=>window.performance.now():()=>Date.now(),g=h?t=>requestAnimationFrame(t):t;const y=new Set;function v(t){y.forEach((e=>{e.c(t)||(y.delete(e),e.f())})),0!==y.size&&g(v)}function m(t){let e;return 0===y.size&&g(v),{promise:new Promise((n=>{y.add(e={c:t,f:n})})),abort(){y.delete(e)}}}let b=!1;function w(t,e,n,r){for(;t<e;){const o=t+(e-t>>1);n(o)<=r?t=o+1:e=o}return t}function x(t,e,n){const r=k(t);if(!r.getElementById(e)){const t=D("style");t.id=e,t.textContent=n,_(r,t)}}function k(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function $(t){const e=D("style");return _(k(t),e),e.sheet}function _(t,e){!function(t,e){t.appendChild(e)}(t.head||t,e)}function S(t,e){if(b){for(function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const r=e[n];void 0!==r.claim_order&&t.push(r)}e=t}const n=new Int32Array(e.length+1),r=new Int32Array(e.length);n[0]=-1;let o=0;for(let t=0;t<e.length;t++){const a=e[t].claim_order,i=(o>0&&e[n[o]].claim_order<=a?o+1:w(1,o,(t=>e[n[t]].claim_order),a))-1;r[t]=n[i]+1;const s=i+1;n[s]=t,o=Math.max(s,o)}const a=[],i=[];let s=e.length-1;for(let t=n[o]+1;0!=t;t=r[t-1]){for(a.push(e[t-1]);s>=t;s--)i.push(e[s]);s--}for(;s>=0;s--)i.push(e[s]);a.reverse(),i.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,n=0;e<i.length;e++){for(;n<a.length&&i[e].claim_order>=a[n].claim_order;)n++;const r=n<a.length?a[n]:null;t.insertBefore(i[e],r)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function E(t,e,n){b&&!n?S(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function A(t){t.parentNode.removeChild(t)}function T(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function D(t){return document.createElement(t)}function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function O(t){return document.createTextNode(t)}function N(){return O(" ")}function I(){return O("")}function C(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function B(t){return function(e){return e.preventDefault(),t.call(this,e)}}function q(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function G(t){return Array.from(t.childNodes)}function U(t,e,n,r,o=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const a=(()=>{for(let r=t.claim_info.last_index;r<t.length;r++){const a=t[r];if(e(a)){const e=n(a);return void 0===e?t.splice(r,1):t[r]=e,o||(t.claim_info.last_index=r),a}}for(let r=t.claim_info.last_index-1;r>=0;r--){const a=t[r];if(e(a)){const e=n(a);return void 0===e?t.splice(r,1):t[r]=e,o?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=r,a}}return r()})();return a.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,a}function P(t,e,n,r){return U(t,(t=>t.nodeName===e),(t=>{const e=[];for(let r=0;r<t.attributes.length;r++){const o=t.attributes[r];n[o.name]||e.push(o.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>r(e)))}function V(t,e,n){return P(t,e,n,D)}function M(t,e,n){return P(t,e,n,j)}function H(t,e){return U(t,(t=>3===t.nodeType),(t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n}),(()=>O(e)),!0)}function J(t){return H(t," ")}function R(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function z(t,e){t.value=null==e?"":e}function K(t,e,n,r){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function L(t,e,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,!1,e),r}function F(t,e=document.body){return Array.from(e.querySelectorAll(t))}const W=new Map;let X,Y=0;function Z(t,e,n,r,o,a,i,s=0){const c=16.666/r;let l="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*a(t);l+=100*t+`%{${i(r,1-r)}}\n`}const u=l+`100% {${i(n,1-n)}}\n}`,f=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${s}`,p=k(t),{stylesheet:h,rules:d}=W.get(p)||function(t,e){const n={stylesheet:$(e),rules:{}};return W.set(t,n),n}(p,t);d[f]||(d[f]=!0,h.insertRule(`@keyframes ${f} ${u}`,h.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${f} ${r}ms linear ${o}ms 1 both`,Y+=1,f}function Q(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),Y-=o,Y||g((()=>{Y||(W.forEach((t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}})),W.clear())})))}function tt(t){X=t}function et(){if(!X)throw new Error("Function called outside component initialization");return X}function nt(){const t=et();return(e,n)=>{const r=t.$$.callbacks[e];if(r){const o=L(e,n);r.slice().forEach((e=>{e.call(t,o)}))}}}const rt=[],ot=[],at=[],it=[],st=Promise.resolve();let ct=!1;function lt(t){at.push(t)}const ut=new Set;let ft,pt=0;function ht(){const t=X;do{for(;pt<rt.length;){const t=rt[pt];pt++,tt(t),dt(t.$$)}for(tt(null),rt.length=0,pt=0;ot.length;)ot.pop()();for(let t=0;t<at.length;t+=1){const e=at[t];ut.has(e)||(ut.add(e),e())}at.length=0}while(rt.length);for(;it.length;)it.pop()();ct=!1,ut.clear(),tt(t)}function dt(t){if(null!==t.fragment){t.update(),a(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(lt)}}function gt(){return ft||(ft=Promise.resolve(),ft.then((()=>{ft=null}))),ft}function yt(t,e,n){t.dispatchEvent(L(`${e?"intro":"outro"}${n}`))}const vt=new Set;let mt;function bt(){mt={r:0,c:[],p:mt}}function wt(){mt.r||a(mt.c),mt=mt.p}function xt(t,e){t&&t.i&&(vt.delete(t),t.i(e))}function kt(t,e,n,r){if(t&&t.o){if(vt.has(t))return;vt.add(t),mt.c.push((()=>{vt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const $t={duration:0};function _t(n,r,o,s){let c=r(n,o),l=s?0:1,u=null,f=null,p=null;function h(){p&&Q(n,p)}function g(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function y(r){const{delay:o=0,duration:i=300,easing:s=e,tick:y=t,css:v}=c||$t,b={start:d()+o,b:r};r||(b.group=mt,mt.r+=1),u||f?f=b:(v&&(h(),p=Z(n,l,r,i,o,s,v)),r&&y(0,1),u=g(b,i),lt((()=>yt(n,r,"start"))),m((t=>{if(f&&t>f.start&&(u=g(f,i),f=null,yt(n,u.b,"start"),v&&(h(),p=Z(n,l,u.b,u.duration,0,s,c.css))),u)if(t>=u.end)y(l=u.b,1-l),yt(n,u.b,"end"),f||(u.b?h():--u.group.r||a(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;l=u.a+u.d*s(e/u.duration),y(l,1-l)}return!(!u&&!f)})))}return{run(t){i(c)?gt().then((()=>{c=c(),y(t)})):y(t)},end(){h(),u=f=null}}}function St(t,e){kt(t,1,1,(()=>{e.delete(t.key)}))}function Et(t){t&&t.c()}function At(t,e){t&&t.l(e)}function Tt(t,e,n,o){const{fragment:s,on_mount:c,on_destroy:l,after_update:u}=t.$$;s&&s.m(e,n),o||lt((()=>{const e=c.map(r).filter(i);l?l.push(...e):a(e),t.$$.on_mount=[]})),u.forEach(lt)}function Dt(t,e){const n=t.$$;null!==n.fragment&&(a(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jt(e,n,r,i,s,c,l,u=[-1]){const f=X;tt(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:s,bound:o(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(f?f.$$.context:[])),callbacks:o(),dirty:u,skip_bound:!1,root:n.target||f.$$.root};l&&l(p.root);let h=!1;if(p.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&s(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),h&&function(t,e){-1===t.$$.dirty[0]&&(rt.push(t),ct||(ct=!0,st.then(ht)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}(e,t)),n})):[],p.update(),h=!0,a(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){b=!0;const t=G(n.target);p.fragment&&p.fragment.l(t),t.forEach(A)}else p.fragment&&p.fragment.c();n.intro&&xt(e.$$.fragment),Tt(e,n.target,n.anchor,n.customElement),b=!1,ht()}tt(f)}class Ot{$destroy(){Dt(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Nt(e){let n,r,o,a;return{c(){n=D("div"),r=j("svg"),o=j("path"),a=j("path"),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=M(e,"svg",{role:!0,class:!0,viewBox:!0,fill:!0,xmlns:!0});var i=G(r);o=M(i,"path",{d:!0,fill:!0}),G(o).forEach(A),a=M(i,"path",{d:!0,fill:!0}),G(a).forEach(A),i.forEach(A),e.forEach(A),this.h()},h(){q(o,"d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z"),q(o,"fill","currentColor"),q(a,"d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z"),q(a,"fill","currentFill"),q(r,"role","status"),q(r,"class","place-self-center inline mr-2 w-8 h-8 text-gray-200 animate-spin dark:text-gray-600 fill-blue-600"),q(r,"viewBox","0 0 100 101"),q(r,"fill","none"),q(r,"xmlns","http://www.w3.org/2000/svg"),q(n,"class","w-full h-full grid")},m(t,e){E(t,n,e),S(n,r),S(r,o),S(r,a)},p:t,i:t,o:t,d(t){t&&A(n)}}}class It extends Ot{constructor(t){super(),jt(this,t,null,Nt,s,{})}}function Ct(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Bt,qt=(function(t){!function(){function e(t,n){return n?Ct():t.slice?e[r(t)]:function(n,o){t(n={exports:{}}),e[r(o)]=n.exports};function r(t){return t.split("/").slice(-1).toString().replace(".js","")}}var n=t;e((function(t){String.random=function(t,e){var n="";for(t=t||24,e=e||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";t-- >0;)n+=e.charAt(Math.floor(Math.random()*e.length));return n},String.match=function(t,e){var n,r;return"string"==typeof t&&("string"==typeof e&&(e={"=":e}),t===(n=(e=e||{})["="]||e["*"]||e[">"]||e["<"])||r===e["="]&&(n=e["*"]||e[">"],t.slice(0,(n||"").length)===n||r===e["*"]&&(r!==e[">"]&&r!==e["<"]?t>=e[">"]&&t<=e["<"]:r!==e[">"]&&t>=e[">"]||r!==e["<"]&&t<=e["<"])))},String.hash=function(t,e){if("string"==typeof t){if(e=e||0,!t.length)return e;for(var n=0,r=t.length;n<r;++n)e=(e<<5)-e+t.charCodeAt(n),e|=0;return e}};var e,n,r,o,a=Object.prototype.hasOwnProperty;Object.plain=function(t){return!!t&&(t instanceof Object&&t.constructor===Object||"Object"===Object.prototype.toString.call(t).match(/^\[object (\w+)\]$/)[1])},Object.empty=function(t,e){for(var n in t)if(a.call(t,n)&&(!e||-1==e.indexOf(n)))return!1;return!0},Object.keys=Object.keys||function(t){var e=[];for(var n in t)a.call(t,n)&&e.push(n);return e},e=setTimeout,n=0,r=0,o=typeof setImmediate!=""+void 0&&setImmediate||e,e.poll=e.poll||function(t){1>=+new Date-n&&r++<3333?t():o((function(){n=+new Date,t()}),r=0)},function(){var t,e=setTimeout,n=e.turn=e.turn||function(t){1==r.push(t)&&o(i)},r=n.s=[],o=e.poll,a=0,i=function(){(t=r[a++])&&t(),a!=r.length&&99!=a||(r=n.s=r.slice(a),a=0),r.length&&o(i)}}(),function(){var t,e=setTimeout,n=e.turn;(e.each=e.each||function(e,r,o,a){a=a||9,function i(s,c,l){if(c=(s=(e||[]).splice(0,a)).length){for(var u=0;u<c&&t===(l=r(s[u]));u++);if(t===l)return void n(i)}o&&o(l)}()})()}()}))(e,"./shim"),e((function(t){t.exports=function t(e,n,r){if(!e)return{to:t};var o="function"==typeof n;if(e=(this.tag||(this.tag={}))[e]||o&&(this.tag[e]={tag:e,to:t._={next:function(t){var e;(e=this.to)&&e.next(t)}}}),o){var a={off:t.off||(t.off=function(){if(this.next===t._.next)return!0;this===this.the.last&&(this.the.last=this.back),this.to.back=this.back,this.next=t._.next,this.back.to=this.to,this.the.last===this.the&&delete this.on.tag[this.the.tag]}),to:t._,next:n,the:e,on:this,as:r};return(a.back=e.last||e).to=a,e.last=a}return(e=e.to)&&void 0!==n&&e.next(n),e}}))(e,"./onto"),e((function(t){t.exports=function(t){return null===t||"string"==typeof t||"boolean"==typeof t||"number"==typeof t&&t!=1/0&&t!=-1/0&&t==t||!!t&&"string"==typeof t["#"]&&1===Object.keys(t).length&&t["#"]}}))(e,"./valid"),e((function(t){function n(){var t=+new Date;return s<t?(a=0,s=t+n.drift):s=t+(a+=1)/i+n.drift}e("./shim"),n.drift=0;var r,o=-1/0,a=0,i=999,s=o;n.is=function(t,e,n){var r=e&&t&&t._&&t._[">"]||n;if(r)return"number"==typeof(r=r[e])?r:o},n.ify=function(t,e,n,o,a){(t=t||{})._=t._||{},a&&(t._["#"]=a);var i=t._[">"]||(t._[">"]={});return r!==e&&"_"!==e&&("number"==typeof n&&(i[e]=n),r!==o&&(t[e]=o)),t},t.exports=n}))(e,"./state"),e((function(t){e("./shim"),t.exports=function(t){var e={s:{}},n=e.s;t=t||{max:999,age:9e3},e.check=function(t){return!!n[t]&&r(t)};var r=e.track=function(r){var o=n[r]||(n[r]={});return o.was=e.now=+new Date,e.to||(e.to=setTimeout(e.drop,t.age+9)),o};return e.drop=function(r){e.to=null,e.now=+new Date;var o=Object.keys(n);console.STAT&&console.STAT(e.now,+new Date-e.now,"dup drop keys"),setTimeout.each(o,(function(o){var a=n[o];a&&(r||t.age)>e.now-a.was||delete n[o]}),0,99)},e}}))(e,"./dup"),e((function(t){e("./onto"),t.exports=function(t,e){if(this.on){var r=(this.opt||{}).lack||9e3;if("function"!=typeof t){if(!t)return;var o=t["#"]||t,a=(this.tag||"")[o];if(!a)return;return e&&(a=this.on(o,e),clearTimeout(a.err),a.err=setTimeout((function(){a.off()}),r)),!0}if(o=e&&e["#"]||n(9),!t)return o;var i=this.on(o,t,e);return i.err=i.err||setTimeout((function(){i.off(),i.next({err:"Error: No ACK yet.",lack:!0})}),r),o}};var n=String.random||function(){return Math.random().toString(36).slice(2)}}))(e,"./ask"),e((function(t){function r(t){return t instanceof r?(this._={$:this}).$:this instanceof r?r.create(this._={$:this,opt:t}):new r(t)}r.is=function(t){return t instanceof r||t&&t._&&t===t._.$||!1},r.version=.202,r.chain=r.prototype,r.chain.toJSON=function(){},e("./shim"),r.valid=e("./valid"),r.state=e("./state"),r.on=e("./onto"),r.dup=e("./dup"),r.ask=e("./ask"),function(){function t(n){if(n)if(n.out!==t){var o,a=this.as,c=a.at||a,l=c.$,u=c.dup,f=n.DBG;if((o=n["#"])||(o=n["#"]=s(9)),!u.check(o)){if(u.track(o),o=n._,n._="function"==typeof o?o:function(){},n.$&&n.$===(n.$._||"").$||(n.$=l),n["@"]&&!n.put&&function(t){var e,n=t["@"]||"";(e=n._)&&(e.acks=(e.acks||0)+1,(e.err=t.err)&&(t["@"]=e["#"],i(e)),e.stop||e.crack||(e.crack=e.match&&e.match.push((function(){h(e)}))),h(e))}(n),!c.ask(n["@"],n)){if(f&&(f.u=+new Date),n.put)return void e(n);n.get&&r.on.get(n,l)}f&&(f.uc=+new Date),this.to.next(n),f&&(f.ua=+new Date),n.nts||n.NTS||(n.out=t,c.on("out",n),f&&(f.ue=+new Date))}}else this.to.next(n)}function e(e){if(e){var r=e._||"",a=r.root=((r.$=e.$||"")._||"").root;if(e["@"]&&r.faith&&!r.miss)return e.out=t,void a.on("out",e);r.latch=a.hatch,r.match=a.hatch=[];var s=e.put,u=r.DBG=e.DBG,f=+new Date;if(d=d||f,!s["#"]||!s["."]){u&&(u.p=f),r["#"]=e["#"],r.msg=e,r.all=0,r.stun=1;var p=Object.keys(s);console.STAT&&console.STAT(f,((u||r).pk=+new Date)-f,"put sort");var h,v,m,b,x,k,$,_=0;!function t(a){if(h!=_){if(h=_,!(m=p[_]))return console.STAT&&console.STAT(f,((u||r).pd=+new Date)-f,"put"),void i(r);(b=s[m])?($=b._)?m!==$["#"]?k=g+y(m)+"soul not same.":(x=$[">"])||(k=g+y(m)+"no state."):k=g+y(m)+"no meta.":k=g+y(m)+"no node.",v=Object.keys(b||{})}if(k)return e.err=r.err=k,void i(r);var d,S=0;for(a=a||0;a++<9&&(d=v[S++]);)if("_"!==d){var E=b[d],A=x[d];if(o===A){k=g+y(d)+"on"+y(m)+"no state.";break}if(!l(E)){k=g+y(d)+"on"+y(m)+"bad "+typeof E+y(E);break}n(E,d,m,A,e),++w}(v=v.slice(S)).length?c(t):(++_,v=null,t(a))}()}}}function n(t,e,r,o,a){var i,s=a._||"",c=s.root,l=c.graph,f=l[r]||p,h=u(f,e,1),d=f[e],g=s.DBG;(i=console.STAT)&&(l[r]&&d||(i.has=(i.has||0)+1));var y=b();if(o>y)return setTimeout((function(){n(t,e,r,o,a)}),(i=o-y)>m?m:i),void(console.STAT&&console.STAT((g||s).Hf=+new Date,i,"future"));if((!(o<h)||s.miss)&&(s.faith||o!==h||!(t===d||v(t)<=v(d))||s.miss)){s.stun++;var w=a["#"]+s.all++,x={toString:function(){return w},_:s};x.toJSON=x.toString,g&&(g.ph=g.ph||+new Date),c.on("put",{"#":x,"@":a["@"],put:{"#":r,".":e,":":t,">":o},_:s})}}function a(t){var e;(e=(t._||"").DBG)&&(e.pa=+new Date,e.pm=e.pm||+new Date);var n,r=this.as,o=r.graph,a=t._,s=t.put,c=s["#"],l=s["."],u=s[":"],p=s[">"];t["#"],(n=a.msg)&&(n=n.put)&&(n=n[c])&&f(n,l,p,u,c),o[c]=f(o[c],l,p,u,c),(n=(r.next||"")[c])&&n.on("in",t),i(a),this.to.next(t)}function i(e,n){var r;if(!e.stop&&(e.err||!(0<--e.stun))&&(e.stop=1,r=e.root)){var o=e.match;o.end=1,o===r.hatch&&(!(o=e.latch)||o.end?delete r.hatch:r.hatch=o),e.hatch&&e.hatch(),setTimeout.each(e.match,(function(t){t&&t()})),!(n=e.msg)||e.err||n.err||(n.out=t,e.root.on("out",n),x())}}function h(t){t&&t.root&&(t.stun||t.acks!==t.all||t.root.on("in",{"@":t["#"],err:t.err,ok:t.err?o:{"":1}}))}r.create=function(e){e.root=e.root||e,e.graph=e.graph||{},e.on=e.on||r.on,e.ask=e.ask||r.ask,e.dup=e.dup||r.dup();var n=e.$.opt(e.opt);return e.once||(e.on("in",t,e),e.on("out",t,e),e.on("put",a,e),r.on("create",e),e.on("create",e)),e.once=1,n},r.on.put=e;var d,g="Error: Invalid graph!",y=function(t){return" '"+(""+t).slice(0,9)+"...' "},v=JSON.stringify,m=2147483647,b=r.state,w=0,x=function(){w>999&&w/-(d-(d=+new Date))>1&&(r.window&&console.log("Warning: You're syncing 1K+ records a second, faster than DOM can update - consider limiting query."),x=function(){w=0})}}(),function(){function t(t,e){var n=+new Date,r=t._||{},a=r.DBG=t.DBG,i=t["#"],c=s(9),l=Object.keys(e||"").sort(),p=((e||"")._||"")["#"];l.length;var h=t.$._.root,d=e===h.graph[p];console.STAT&&console.STAT(n,((a||r).gk=+new Date)-n,"got keys"),e&&function t(){n=+new Date;for(var r,g,y,v=0,m={};v<9&&(r=l[v++]);)f(m,r,u(e,r),e[r],p);l=l.slice(v),(g={})[p]=m,m=g,d&&((y=function(){}).ram=y.faith=!0),g=l.length,console.STAT&&console.STAT(n,-(n-(n=+new Date)),"got copied some"),a&&(a.ga=+new Date),h.on("in",{"@":i,"#":c,put:m,"%":g?c=s(9):o,$:h.$,_:y,DBG:a}),console.STAT&&console.STAT(n,+new Date-n,"got in"),g&&setTimeout.turn(t)}(),e||h.on("in",{"@":t["#"]})}r.on.get=function(e,n){var r=n._,a=e.get,i=a["#"],s=r.graph[i],c=a["."];(r.next||(r.next={}))[i];var l=(e._||{}).DBG=e.DBG;if(l&&(l.g=+new Date),!s)return r.on("get",e);if(c){if("string"!=typeof c||o===s[c])return r.on("get",e);s=f({},c,u(s,c),s[c],i)}s&&t(e,s),r.on("get",e)},r.on.get.ack=t}(),r.chain.opt=function(t){t=t||{};var e=this._,n=t.peers||t;return Object.plain(t)||(t={}),Object.plain(e.opt)||(e.opt=t),"string"==typeof n&&(n=[n]),n instanceof Array&&(Object.plain(e.opt.peers)||(e.opt.peers={}),n.forEach((function(t){var n={};n.id=n.url=t,e.opt.peers[t]=e.opt.peers[t]||n}))),e.opt.peers=e.opt.peers||{},i(t,(function t(e){var n=this[e];this&&this.hasOwnProperty(e)||"string"==typeof n||Object.empty(n)?this[e]=n:(!n||n.constructor===Object||n instanceof Array)&&i(n,t)})),r.on("opt",e),e.opt.uuid=e.opt.uuid||function(t){return r.state().toString(36).replace(".","")+String.random(t||12)},this};var o,a,i=function(t,e){Object.keys(t).forEach(e,t)},s=String.random,c=setTimeout.turn,l=r.valid,u=r.state.is,f=r.state.ify,p={};r.log=function(){return!r.log.off&&a.log.apply(a,arguments),[].slice.call(arguments).join(" ")},r.log.once=function(t,e,n){return(n=r.log.once)[t]=n[t]||0,n[t]++||r.log(e)},"undefined"!=typeof window&&((window.GUN=window.Gun=r).window=window);try{void 0!==n&&(n.exports=r)}catch(t){}t.exports=r,(r.window||{}).console=(r.window||{}).console||{log:function(){}},(a=console).only=function(t,e){return a.only.i&&t===a.only.i&&a.only.i++&&(a.log.apply(a,arguments)||e)},r.log.once("welcome","Hello wonderful person! :) Thanks for using GUN, please ask for help on http://chat.gun.eco if anything takes you longer than 5min to figure out!")}))(e,"./root"),e((function(t){e("./root").chain.back=function(t,e){if(-1===(t=t||1)||t===1/0)return this._.root.$;if(1===t)return(this._.back||this._).$;var o=this._;if("string"==typeof t&&(t=t.split(".")),t instanceof Array){for(var a=0,i=t.length,s=o;a<i;a++)s=(s||r)[t[a]];return n!==s?e?this:s:(s=o.back)?s.$.back(t,e):void 0}if("function"==typeof t){var c;for(s={back:o};(s=s.back)&&n===(c=t(s,e)););return c}return"number"==typeof t?(o.back||o).$.back(t-1):this};var n,r={}}))(e,"./back"),e((function(t){var n=e("./root");function r(t,e){if(e=e||this.as||t.$._,(!t.$$||this===n.on)&&t.put&&!e.soul){var r=t.put||"",o=r["="]||r[":"],a=e.root,i=a.$.get(r["#"]).get(r["."])._;if("string"==typeof(o=l(o))){if(!(i.echo||(i.echo={}))[e.id]||(a.pass||"")[e.id]){if(s=a.pass){if(s[o+e.id])return;s[o+e.id]=1}(i.echo||(i.echo={}))[e.id]=e,e.has&&(e.link=o);var s,c=a.$.get(i.link=o)._;(c.echo||(c.echo={}))[i.id]=i,((s=e.ask||"")[""]||e.lex)&&c.on("out",{get:{"#":o}}),setTimeout.each(Object.keys(s),(function(t,e){t&&(e=s[t])&&e.on("out",{get:{"#":o,".":t}})}),0,99)}}else this===n.on&&((i.echo||(i.echo={}))[e.id]=e)}}function o(t,e){var n,r,a=t.put||"",s=i!==a["="]?a["="]:a[":"],c=e.root;if(i===s){if(e.soul&&i!==e.put)return;if(r=(t.$$||t.$||"")._||"",t["@"]&&(i!==r.put||i!==e.put))return;return(n=e.link||t.linked)&&delete(c.$.get(n)._.echo||"")[e.id],e.has&&(e.link=null),e.put=i,void setTimeout.each(Object.keys(e.next||""),(function(t,r){(r=e.next[t])&&(n&&delete(c.$.get(n).get(t)._.echo||"")[r.id],r.on("in",{get:t,put:i,$:r.$}))}),0,99)}e.soul||t.$$||(n=l(s),r=t.$._||"",(n!==r.link&&(!e.has||r.link)||(c.pass||"")[e.id]&&"string"!=typeof n)&&(delete(r.echo||"")[e.id],o({get:e.get,put:i,$:t.$,linked:t.linked=t.linked||r.link},e)))}function a(t,e){var r=this.as,o=r.$._;o.root;var a=r.get||"",s=(t.put||"")[a["#"]]||"";if(!t.put||"string"==typeof a["."]&&i===s[a["."]]){if(i!==o.put)return;if(!o.soul&&!o.has)return;return o.ack=(o.ack||0)+1,void o.on("in",{get:o.get,put:o.put=i,$:o.$,"@":t["@"]})}(t._||{}).miss=1,n.on.put(t)}n.chain.chain=function(t){var e,r=this,o=r._,a=new(t||r).constructor(r),i=a._;return i.root=e=o.root,i.id=++e.once,i.back=r._,i.on=n.on,i.on("in",n.on.in,i),i.on("out",n.on.out,i),a},n.on.out=function(t){var e,n,r=this.as,o=r.back,s=r.root;if(t.$||(t.$=r.$),this.to.next(t),!r.err){if(e=t.get){if(s.pass&&(s.pass[r.id]=r),r.lex&&Object.keys(r.lex).forEach((function(t){n[t]=r.lex[t]}),n=t.get=t.get||{}),e["#"]||r.soul){if(e["#"]=e["#"]||r.soul,t["#"]||(t["#"]=c(9)),o=s.$.get(e["#"])._,e=e["."]){if(u(o.put,e)&&(n=o.ask&&o.ask[e],(o.ask||(o.ask={}))[e]=o.$.get(e)._,o.on("in",{get:e,put:{"#":o.soul,".":e,":":o.put[e],">":p(s.graph[o.soul],e)}}),n))return}else{if(n=o.ask&&o.ask[""],(o.ask||(o.ask={}))[""]=o,i!==o.put&&(o.on("in",o),n))return;t.$=o.$}return s.ask(a,t),s.on("in",t)}if(e["."])return r.get?(t={get:{".":r.get},$:r.$},(o.ask||(o.ask={}))[r.get]=t.$._,o.on("out",t)):(t={get:r.lex?t.get:{},$:r.$},o.on("out",t));if((r.ask||(r.ask={}))[""]=r,r.get)return e["."]=r.get,(o.ask||(o.ask={}))[r.get]=t.$._,o.on("out",t)}return o.on("out",t)}r.on("in",{put:r.put=i,$:r.$})},n.on.in=function(t,e){var n,a=(e=e||this.as).root,c=t.$||(t.$=e.$),u=(c||"")._||s,f=t.put||"",d=f["#"],g=f["."],y=i!==f["="]?f["="]:f[":"],v=f[">"]||-1/0;if(i!==t.put&&(i===f["#"]||i===f["."]||i===f[":"]&&i===f["="]||i===f[">"]))return l(f)?void e.on("in",{$:u.back.$,put:{"#":d=u.back.soul,".":g=u.has||u.get,"=":f,">":p(u.back.put,g)},via:t}):(d=((f||"")._||"")["#"])?(c=e.root.$.get(d),setTimeout.each(Object.keys(f).sort(),(function(n){"_"!=n&&i!==(v=p(f,n))&&e.on("in",{$:c,put:{"#":d,".":n,"=":f[n],">":v},VIA:t})}))):void console.log("chain not yet supported for",f,"...",t,e);(t.seen||"")[e.id]||((t.seen||(t.seen=function(){}))[e.id]=e,e!==u&&(Object.keys(t).forEach((function(e){f[e]=t[e]}),f={}),f.get=e.get||f.get,e.soul||e.has?u.soul&&(f.$=e.$,f.$$=f.$$||u.$):f.$$$=f.$$$||e.$,t=f),o(t,e),(e.soul||t.$$)&&v>=p(a.graph[d],g)&&((f=a.$.get(d)._).put=h(f.put,g,v,y,d)),!u.soul&&v>=p(a.graph[d],g)&&(n=(a.$.get(d)._.next||"")[g])&&(n.put=y,"string"==typeof(f=l(y))&&(n.put=a.$.get(f)._.put||y)),this.to&&this.to.next(t),e.any&&setTimeout.each(Object.keys(e.any),(function(n){(n=e.any[n])&&n(t)}),0,99),e.echo&&setTimeout.each(Object.keys(e.echo),(function(n){(n=e.echo[n])&&n.on("in",t)}),0,99),((t.$$||"")._||u).soul&&(n=e.next)&&(n=n[g])&&(f={},Object.keys(t).forEach((function(e){f[e]=t[e]})),f.$=(t.$$||t.$).get(f.get=g),delete f.$$,delete f.$$$,n.on("in",f)),r(t,e))},n.on.link=r,n.on.unlink=o;var i,s={},c=String.random,l=n.valid,u=function(t,e){return t&&Object.prototype.hasOwnProperty.call(t,e)},f=n.state,p=f.is,h=f.ify}))(e,"./chain"),e((function(t){var n=e("./root");function r(t){var e=this.at||this.on;if(!t||e.soul||e.has)return this.off();if(t=(t=(t=t.$||t)._||t).id){var n;if(e.map,(n=this.seen||(this.seen={}))[t])return!0;n[t]=!0}}n.chain.get=function(t,e,s){var c,l;if("string"==typeof t){if(0==t.length)return(c=this.chain())._.err={err:n.log("0 length key!",t)},e&&e.call(c,c._.err),c;(c=((f=this._).next||a)[t])||(c=t&&function(t,e){var n=e._,r=n.next,o=e.chain()._;return r||(r=n.next={}),r[o.get=t]=o,e===n.root.$?o.soul=t:(n.soul||n.has)&&(o.has=t),o}(t,this)),c=c&&c.$}else{if("function"==typeof t){if(!0===e)return function(t,e,r,a){var i,s=t._,c=0;(i=s.soul||s.link)?e(i,a,s):s.jam?s.jam.push([e,a]):(s.jam=[[e,a]],t.get((function(t,e){if(!(o===t.put&&!s.root.opt.super&&(i=Object.keys(s.root.opt.peers).length)&&++c<=i)){e.rid(t);var r,a=(a=t.$)&&a._||{},l=0;for(i=s.jam,delete s.jam;r=i[l++];){var u=r[0];r=r[1],u&&u(a.link||a.soul||n.valid(t.put)||((t.put||{})._||{})["#"],r,t,e)}}}),{out:{get:{".":!0}}}))}(this,t,0,s),this;var u,f=(c=this)._,p=e||{},h=f.root;p.at=f,p.ok=t;var d={};function g(t,e,r){if(!g.stun&&(!(a=h.pass)||a[u])){var a,i=t.$._,s=(t.$$||"")._,c=(s||i).put,l=!i.has&&!i.soul,y={};if((l||o===c)&&(c=o===((a=t.put)||"")["="]?o===(a||"")[":"]?a:a[":"]:a["="]),"string"==typeof(a=n.valid(c))&&(c=o===(a=h.$.get(a)._.put)?p.not?o:c:a),!p.not||o!==c){if(o===p.stun){if((a=h.stun)&&a.on&&(f.$.back((function(t){if(a.on(""+t.id,y={}),(y.run||0)<g.id)return y})),!y.run&&a.on(""+i.id,y={}),!y.run&&s&&a.on(""+s.id,y={}),g.id>y.run&&(y.stun&&!y.stun.end||(y.stun=a.on("stun"),y.stun=y.stun&&y.stun.last),y.stun&&!y.stun.end)))return void((y.stun.add||(y.stun.add={}))[u]=function(){g(t,e,1)});if(o===c&&(r=0),(a=h.hatch)&&!a.end&&o===p.hatch&&!r){if(d[i.$._.id])return;return d[i.$._.id]=1,void a.push((function(){g(t,e,1)}))}d={}}if(h.pass){if(h.pass[u+i.id])return;h.pass[u+i.id]=1}p.on?p.ok.call(i.$,c,i.get,t,e||g):p.v2020?p.ok(t,e||g):(Object.keys(t).forEach((function(e){a[e]=t[e]}),a={}),(t=a).put=c,p.ok.call(p.as,t,e||g))}}}return g.at=f,(f.any||(f.any={}))[u=String.random(7)]=g,g.off=function(){g.stun=1,f.any&&delete f.any[u]},g.rid=r,g.id=p.run||++h.once,l=h.pass,(h.pass={})[u]=1,p.out=p.out||{get:{}},f.on("out",p.out),h.pass=l,c}if("number"==typeof t)return this.get(""+t,e,s);if("string"==typeof(l=i(t)))return this.get(l,e,s);(l=this.get.next)&&(c=l(this,t))}return c?(e&&"function"==typeof e&&c.get(e,s),c):((c=this.chain())._.err={err:n.log("Invalid get request!",t)},e&&e.call(c,c._.err),c)};var o,a={},i=n.valid}))(e,"./get"),e((function(t){var n=e("./root");function r(t,e){if(e){e=(e._||"").id||e;var r,o=t.root.stun||(t.root.stun={on:n.on}),a={};t.stun||(t.stun=o.on("stun",(function(){}))),(r=o.on(""+e))&&r.the.last.next(a),a.run>=t.run||o.on(""+e,(function(e){if(t.stun.end)return this.off(),void this.to.next(e);e.run=e.run||t.run,e.stun=e.stun||t.stun}))}}function o(t){if(t.err)o.end(t.stun,t.root);else if(!t.todo.length&&!t.end&&Object.empty(t.wait)){t.end=1;var e,r=t.$.back(-1)._,a=r.root,i=r.ask((function(e){a.on("ack",e),e.err&&n.log(e),++s>(t.acks||0)&&this.off(),t.ack&&t.ack(e,this)}),t.opt),s=0,c=t.stun;(e=function(){c&&(o.end(c,a),setTimeout.each(Object.keys(c=c.add||""),(function(t){(t=c[t])&&t()})))}).hatch=e,t.via._.on("out",{put:t.out=t.graph,opt:t.opt,"#":i,_:e})}}n.chain.put=function(t,e,i){var u=this,f=u._,p=f.root;(i=i||{}).root=f.root,i.run||(i.run=p.once),r(i,f.id),i.ack=i.ack||e,i.via=i.via||u,i.data=i.data||t,i.soul||(i.soul=f.soul||"string"==typeof e&&e);var h=i.state=i.state||n.state();return"function"==typeof t?(t((function(t){i.data=t,u.put(a,a,i)})),u):i.soul?(i.$=p.$.get(i.soul),i.todo=[{it:i.data,ref:i.$}],i.turn=i.turn||s,i.ran=i.ran||o,function t(){var e,a,s,u,f,p=i.todo,d=p.pop(),g=d.it;if(d.ref&&d.ref._.id,r(i,d.ref),(u=d.todo)&&(g=g[a=u.pop()],u.length&&p.push(d)),a&&(p.path||(p.path=[])).push(a),!(e=c(g))&&!(f=n.is(g))){if(!Object.plain(g))return void o.err(i,"Invalid data: "+function(t,e){return t&&(e=t.constructor)&&e.name||typeof t}(g)+" at "+(i.via.back((function(t){t.get&&u.push(t.get)}),u=[])||u.join("."))+"."+(p.path||[]).join("."));for(var y=i.seen||(i.seen=[]),v=y.length;v--;)if(g===(u=y[v]).it){e=g=u.link;break}}if(a&&e)d.node=l(d.node,a,h,g);else{if(!i.seen)return void o.err(i,"Data at root of graph must be a node (an object).");i.seen.push(s={it:g,link:{},todo:f?[]:Object.keys(g).sort().reverse(),path:(p.path||[]).slice(),up:d}),d.node=l(d.node,a,h,s.link),!f&&s.todo.length&&p.push(s);var m=i.seen.length;function b(t,e){var n=s.link["#"];e&&(e.off(),e.rid(t));var o=n||t.soul||(u=(t.$$||t.$)._||"").soul||u.link||((u=u.put||"")._||"")["#"]||u["#"]||((u=t.put||"")&&t.$$?u["#"]:(u["="]||u[":"]||"")["#"]);!n&&r(i,t.$),o||d.link["#"]?(o||(o=[],(t.$$||t.$).back((function(t){if(u=t.soul||t.link)return o.push(u);o.push(t.get)})),o=o.reverse().join("/")),s.link["#"]=o,!f&&(((i.graph||(i.graph={}))[o]=s.node||(s.node={_:{}}))._["#"]=o),delete i.wait[m],s.wait&&setTimeout.each(s.wait,(function(t){t&&t()})),i.ran(i)):(d.wait||(d.wait=[])).push((function(){b(t,e)}))}(i.wait||(i.wait={}))[m]="",u=(s.ref=f?g:a?d.ref.get(a):d.ref)._,(u=g&&(g._||"")["#"]||u.soul||u.link)?b({soul:u}):s.ref.get(b,{run:i.run,v2020:1,out:{get:{".":" "}}})}if(!p.length)return i.ran(i);i.turn(t)}(),u):(function(t){var e,n=t.via._;t.via=t.via.back((function(n){if(n.soul||!n.get)return n.$;e=t.data,(t.data={})[n.get]=e})),t.via&&t.via._.soul||(t.via=n.root.$.get(((t.data||"")._||"")["#"]||n.$.back("opt.uuid")())),t.via.put(t.data,t.ack,t)}(i),u)},o.end=function(t,e){t.end=i,t.the.to===t&&t===t.the.last&&delete e.stun,t.off()},o.err=function(t,e){(t.ack||i).call(t,t.out={err:t.err=n.log(e)}),t.ran(t)};var a,i=function(){},s=setTimeout.turn,c=n.valid,l=n.state.ify}))(e,"./put"),e((function(t){var n=e("./root");e("./chain"),e("./back"),e("./put"),e("./get"),t.exports=n}))(e,"./index"),e((function(t){var n,r=e("./index");r.chain.on=function(t,e,n,r){var o,a=this,i=a._;if(i.root,"string"==typeof t)return e?(o=i.on(t,e,n||i,r),n&&n.$&&(n.subs||(n.subs=[])).push(o),a):i.on(t);var s=e;return(s=!0===s?{change:!0}:s||{}).not=1,s.on=1,a.get(t,s),a},r.chain.once=function(t,e){if(e=e||{},!t)return function(t,e,n){return r.log.once("valonce","Chainable val is experimental, its behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),(n=t.chain())._.nix=t.once((function(t,e){n._.on("in",this._)})),n._.lex=t._.lex,n}(this);var o=this,a=o._,i=a.root;a.put;var s,c=String.random(7);return o.get((function(o,l,u,f){var p=this,h=p._,d=h.one||(h.one={});function g(y){h.has||h.soul||(h={put:o,get:l}),n===(s=h.put)&&(s=((u.$$||"")._||"").put),"string"!=typeof r.valid(s)||(s=i.$.get(s)._.put)!==n||y?f.stun||""!==d[c]&&(d[c]="",(a.soul||a.has)&&f.off(),t.call(p,s,h.get),clearTimeout(d[c])):d[c]=setTimeout((function(){g(1)}),e.wait||99)}f.stun||""!==d[c]&&(!0!==(s=r.valid(o))?"string"!=typeof s&&(clearTimeout((a.one||"")[c]),clearTimeout(d[c]),d[c]=setTimeout(g,e.wait||99)):g())}),{on:1}),o},r.chain.off=function(){var t,e=this._,n=e.back;if(n)return e.ack=0,(t=n.next)&&t[e.get]&&delete t[e.get],(t=n.ask)&&delete t[e.get],(t=n.put)&&delete t[e.get],(t=e.soul)&&delete n.root.graph[t],(t=e.map)&&Object.keys(t).forEach((function(e,r){(r=t[e]).link&&n.root.$.get(r.link).off()})),(t=e.next)&&Object.keys(t).forEach((function(e,n){t[e].$.off()})),e.on("off",{}),this}}))(e,"./on"),e((function(t){var n=e("./index"),r=n.chain.get.next;function o(t){this.to.next(t);var e,r=this.as,o=t.$._,a=t.put;(o.soul||t.$$)&&((e=r.lex)&&!String.match(t.get||(a||"")["."],e["."]||e["#"]||e)||n.on.link(t,r))}n.chain.get.next=function(t,e){var n;return Object.plain(e)?(n=((n=e["#"])||"")["="]||n)?t.get(n):((n=t.chain()._).lex=e,t.on("in",(function(t){String.match(t.get||(t.put||"")["."],e["."]||e["#"]||e)&&n.on("in",t),this.to.next(t)})),n.$):(r||i)(t,e)},n.chain.map=function(t,e,r){var s,c,l=this,u=l._;return Object.plain(t)&&(s=t["."]?t:{".":t},t=a),t?(n.log.once("mapfn","Map functions are experimental, their behavior and API may change moving forward. Please play with it and report bugs and ideas on how to improve it."),c=l.chain(),l.map().on((function(e,r,o,s){var l=(t||i).call(this,e,r,o,s);if(a!==l){if(e===l)return c._.on("in",o);if(n.is(l))return c._.on("in",l._);var u={};Object.keys(o.put).forEach((function(t){u[t]=o.put[t]}),u),u["="]=l,c._.on("in",{get:r,put:u})}})),c):((c=u.each)||((u.each=c=l.chain())._.lex=s||c._.lex||u.lex,c._.nix=l.back("nix"),l.on("in",o,c._)),c)};var a,i=function(){}}))(e,"./map"),e((function(t){var n=e("./index");n.chain.set=function(t,e,r){var o,a,i=this,s=i.back(-1);return e=e||function(){},(r=r||{}).item=r.item||t,(o=((t||"")._||"")["#"])&&((t={})["#"]=o),"string"==typeof(a=n.valid(t))?i.get(o=a).put(t,e,r):n.is(t)?(i.put((function(r){t.get((function(t,o,s){if(!t)return e.call(i,{err:n.log('Only a node can be linked! Not "'+s.put+'"!')});(a={})[t]={"#":t},r(a)}),!0)})),t):(Object.plain(t)&&(t=s.get(o=i.back("opt.uuid")()).put(t)),i.get(o||s.back("opt.uuid")(7)).put(t,e,r))}}))(e,"./set"),e((function(t){e("./shim");var n,r=function(){},o=JSON.parseAsync||function(t,e,n){var r=+new Date;try{e(void 0,JSON.parse(t,n),a.sucks(+new Date-r))}catch(t){e(t)}},a=JSON.stringifyAsync||function(t,e,n,r){var o=+new Date;try{e(void 0,JSON.stringify(t,n,r),a.sucks(+new Date-o))}catch(t){e(t)}};a.sucks=function(t){t>99&&(console.log("Warning: JSON blocking CPU detected. Add `gun/lib/yson.js` to fix."),a.sucks=r)};try{t.exports=function(t){var e=function(){},r=t.opt||{};r.log=r.log||console.log,r.gap=r.gap||r.wait||0,r.max=r.max||.3*(r.memory?999*r.memory*999:3e8),r.pack=r.pack||.01*r.max*.01,r.puff=r.puff||9;var i=setTimeout.turn||setTimeout,s=t.dup,c=s.check,l=s.track,u=e.hear=function(t,n){if(t){if(r.max<=t.length)return e.say({dam:"!",err:"Message too big!"},n);e===this&&(u.d+=t.length||0,++u.c);var a,s=n.SH=+new Date,c=t[0];return"["===c?(o(t,(function(t,o){if(t||!o)return e.say({dam:"!",err:"DAM JSON parse error."},n);console.STAT&&console.STAT(+new Date,o.length,"# on hear batch");var a=r.puff;!function t(){for(var e,r=+new Date,s=0;s<a&&(e=o[s++]);)u(e,n);o=o.slice(s),console.STAT&&console.STAT(r,+new Date-r,"hear loop"),f(n),o.length&&i(t,0)}()})),void(t="")):"{"===c||(t["#"]||Object.plain(t))&&(a=t)?a?u.one(a,n,s):void o(t,(function(t,r){if(t||!r)return e.say({dam:"!",err:"DAM JSON parse error."},n);u.one(r,n,s)})):void 0}};function f(t){var e=t.batch,n="string"==typeof e;if(n&&(e+="]"),t.batch=t.tail=null,e&&!(n?3>e.length:!e.length)){if(!n)try{e=1===e.length?e[0]:JSON.stringify(e)}catch(t){return r.log("DAM JSON stringify error",t)}e&&p(e,t)}}function p(t,n){try{var r=n.wire;n.say?n.say(t):r.send&&r.send(t),e.say.d+=t.length||0,++e.say.c}catch(e){(n.queue=n.queue||[]).push(t)}}u.one=function(n,r,o){var a,i,u,f,p;if(n.DBG&&(n.DBG=p={DBG:n.DBG}),p&&(p.h=o),p&&(p.hp=+new Date),(a=n["#"])||(a=n["#"]=String.random(9)),!((u=c(a))||(i=n["##"])&&(u=n["@"]||n.get&&a)&&s.check(f=u+i))){if((n._=function(){}).via=e.leap=r,(u=n["><"])&&"string"==typeof u&&u.slice(0,99).split(",").forEach((function(t){this[t]=1}),n._.yo={}),u=n.dam)return(u=e.hear[u])&&u(n,r,t),void l(a);o=+new Date,p&&(p.is=o),r.SI=a,t.on("in",e.last=n),p&&(p.hd=+new Date),console.STAT&&console.STAT(o,+new Date-o,n.get?"msg get":n.put?"msg put":"msg"),(u=l(a)).via=r,n.get&&(u.it=n),f&&l(f),e.leap=e.last=null}},u.c=u.d=0,function(){var t,o=0;function u(t,e){var n;return e instanceof Object?(Object.keys(e).sort().forEach(h,{to:n={},on:e}),n):e}function h(t){this.to[t]=this.on[t]}e.hash=function(t,e){var n,r,o,s=+new Date;a(t.put,(function a(c,l){var u=(r||(r=o=l||"")).slice(0,32768);n=String.hash(u,n),(r=r.slice(32768))?i(a,0):(console.STAT&&console.STAT(s,+new Date-s,"say json+hash"),t._.$put=o,t["##"]=n,d(t,e),delete t._.$put)}),u)};var d=e.say=function(a,c){var u;if((u=this)&&(u=u.to)&&u.next&&u.next(a),!a)return!1;var h,g,y=a["@"],v=a._||(a._=function(){}),m=a.DBG,b=+new Date;if(v.y=v.y||b,c||m&&(m.y=b),(h=a["#"])||(h=a["#"]=String.random(9)),!t&&l(h),a.put&&(a.err||(s.s[h]||"").err))return!1;if(a["##"]||n===a.put||v.via||!y){if(!c&&y&&(c=(u=s.s[y])&&(u.via||(u=u.it)&&(u=u._)&&u.via)||(u=e.last)&&y===u["#"]&&e.leap),!c&&y){if(s.s[y])return;return console.STAT&&console.STAT(+new Date,++o,"total no peer to ack to"),!1}if(!c&&e.way)return e.way(a);if(m&&(m.yh=+new Date),g=v.raw){if(m&&(m.yr=+new Date),!c||!c.id){if(!Object.plain(c||r.peers))return!1;b=+new Date,r.puff;var w=r.peers,x=Object.keys(c||r.peers||{});return console.STAT&&console.STAT(b,+new Date-b,"peer keys"),void function e(){var n=+new Date;t=1;var r=v.raw;v.raw=g;for(var o,s=0;s<9&&(o=(x||"")[s++]);)(o=w[o])&&d(a,o);v.raw=r,t=0,x=x.slice(s),console.STAT&&console.STAT(n,+new Date-n,"say loop"),x.length&&(i(e,0),y&&l(y))}()}if(!c.wire&&e.wire&&e.wire(c),h!==c.last){if(c.last=h,c===v.via)return!1;if((u=v.yo)&&(u[c.url]||u[c.pid]||u[c.id]))return!1;if(console.STAT&&console.STAT(b,((m||v).yp=+new Date)-(v.y||b),"say prep"),!t&&y&&l(y),c.batch){if(c.tail=(u=c.tail||0)+g.length,c.tail<=r.pack)return void(c.batch+=(u?",":"")+g);f(c)}c.batch="[";var k=+new Date;setTimeout((function(){console.STAT&&console.STAT(k,+new Date-k,"0ms TO"),f(c)}),r.gap),p(g,c),console.STAT&&y===c.SI&&console.STAT(b,+new Date-c.SH,"say ack")}}else e.raw(a,c)}else e.hash(a,c)};e.say.c=e.say.d=0,e.raw=function(t,o){if(!t)return"";var i,l,u=t._||{};if(l=u.raw)return l;if("string"==typeof t)return t;var f=t["##"],p=t["@"];if(f&&p){if(!u.via&&c(p+f))return!1;if((l=(s.s[p]||"").it)||(l=e.last)&&p===l["#"]){if(f===l["##"])return!1;l["##"]||(l["##"]=f)}}if(!t.dam){var h=0,g=[];for(var y in l=r.peers){var v=l[y];if(g.push(v.url||v.pid||v.id),++h>6)break}h>1&&(t["><"]=g.join())}if(i=u.$put)return l={},Object.keys(t).forEach((function(e){l[e]=t[e]})),l.put=":])([:",void a(l,(function(t,e){if(!t){var r=+new Date;l=e.indexOf('"put":":])([:"'),m(n,e=e.slice(0,l+6)+i+e.slice(l+14)),console.STAT&&console.STAT(r,+new Date-r,"say slice")}}));function m(e,n){e||(u.raw=n,d(t,o))}a(t,m)}}(),e.hi=function(n){var o=n.wire||{};n.id?r.peers[n.url||n.id]=n:(o=n.id=n.id||String.random(9),e.say({dam:"?",pid:t.opt.pid},r.peers[o]=n),delete s.s[n.last]),n.met=n.met||+new Date,o.hied||t.on(o.hied="hi",n),o=n.queue,n.queue=[],setTimeout.each(o||[],(function(t){p(t,n)}),0,9)},e.bye=function(n){t.on("bye",n);var r=+new Date;r-=n.met||r,e.bye.time=((e.bye.time||r)+r)/2},e.hear["!"]=function(t,e){r.log("Error:",t.err)},e.hear["?"]=function(t,n){t.pid&&(n.pid||(n.pid=t.pid),t["@"])||(e.say({dam:"?",pid:r.pid,"@":t["#"]},n),delete s.s[n.last])},t.on("create",(function(t){t.opt.pid=t.opt.pid||String.random(9),this.to.next(t),t.on("out",e.say)})),t.on("bye",(function(t,e){t=r.peers[t.id||t]||t,this.to.next(t),t.bye?t.bye():(e=t.wire)&&e.close&&e.close(),delete r.peers[t.id],t.wire=null}));var h={};return t.on("bye",(function(t,e){this.to.next(t),(e=console.STAT)&&(e.peers=(e.peers||0)-1),(e=t.url)&&(h[e]=!0,setTimeout((function(){delete h[e]}),r.lack||9e3))})),t.on("hi",(function(n,o){this.to.next(n),(o=console.STAT)&&(o.peers=(o.peers||0)+1),(o=n.url)&&h[o]&&(delete h[o],r.super||setTimeout.each(Object.keys(t.next),(function(r){t.next[r],(o={})[r]=t.graph[r],o=String.hash(o),e.say({"##":o,get:{"#":r}},n)})))})),e}}catch(t){}}))(e,"./mesh"),e((function(t){var n=e("../index");n.Mesh=e("./mesh"),n.on("opt",(function(t){if(this.to.next(t),!t.once){var e=t.opt;if(!1!==e.WebSocket){var r=n.window||{},o=e.WebSocket||r.WebSocket||r.webkitWebSocket||r.mozWebSocket;if(o){e.WebSocket=o;var a=e.mesh=e.mesh||n.Mesh(t);a.wire||e.wire,a.wire=e.wire=c,setTimeout((function(){!e.super&&t.on("out",{dam:"hi"})}),1);var i=1998,s=""+void 0!=typeof document&&document}}}function c(t){try{if(!t||!t.url)return r&&r(t);var n=t.url.replace(/^http/,"ws"),r=t.wire=new e.WebSocket(n);return r.onclose=function(){e.mesh.bye(t),l(t)},r.onerror=function(e){l(t)},r.onopen=function(){e.mesh.hi(t)},r.onmessage=function(n){n&&e.mesh.hear(n.data||n,t)},r}catch(t){}}function l(t){clearTimeout(t.defer),s&&t.retry<=0||(t.retry=(t.retry||e.retry+1||60)-(-t.tried+(t.tried=+new Date)<7992?1:0),t.defer=setTimeout((function e(){if(s&&s.hidden)return setTimeout(e,i);c(t)}),i))}}))}))(e,"./websocket"),e((function(t){if("undefined"!=typeof Gun){var e;try{e=(Gun.window||function(){}).localStorage}catch(t){}e||(Gun.log("Warning: No localStorage exists to persist data to!"),e={setItem:function(t,e){this[t]=e},removeItem:function(t){delete this[t]},getItem:function(t){return this[t]}});var n=JSON.stringifyAsync||function(t,e,n,r){try{e(void 0,JSON.stringify(t,n,r))}catch(t){e(t)}};Gun.on("create",(function t(r){this.to.next(r);var o=r.opt;r.graph;var a,i,s,c,l=[];if(!1!==o.localStorage){o.prefix=o.file||"gun/";try{a=t[o.prefix]=t[o.prefix]||JSON.parse(i=e.getItem(o.prefix))||{}}catch(e){a=t[o.prefix]={}}s=(i||"").length,r.on("get",(function(t){this.to.next(t);var e,n,r,o=t.get;o&&(e=o["#"])&&((n=a[e]||void 0)&&(r=o["."])&&!Object.plain(r)&&(n=Gun.state.ify({},r,Gun.state.is(n,r),n[r],e)),Gun.on.get.ack(t,n))})),r.on("put",(function(t){this.to.next(t);var e=t.put,n=e["#"],o=e["."],f=t["#"];a[n]=Gun.state.ify(a[n],o,e[">"],e[":"],n),c&&s>4999880?r.on("in",{"@":f,err:"localStorage max!"}):(t["@"]||l.push(f),i||(i=setTimeout(u,9+s/333)))}))}function u(){if(l.length||!((setTimeout.turn||"").s||"").length){var t=l;clearTimeout(i),i=!1,l=[],n(a,(function(n,i){try{!n&&e.setItem(o.prefix,i)}catch(t){n=c=t||"localStorage failure"}n&&(Gun.log(n+" Consider using GUN's IndexedDB plugin for RAD for more storage space, https://gun.eco/docs/RAD#install"),r.on("localStorage:error",{err:n,get:o.prefix,put:a})),s=i.length,(n||Object.empty(o.peers))&&setTimeout.each(t,(function(t){r.on("in",{"@":t,err:n,ok:0})}),0,99)}))}else setTimeout(u,99)}}))}}))(e,"./localStorage")}(),function(){if(""+k!=typeof Gun){var t=function(t){console.warn("Warning! Deprecated internal utility will break in next version:",t)},e=Gun;e.fn=e.fn||{is:function(e){return t("fn"),!!e&&"function"==typeof e}},e.bi=e.bi||{is:function(e){return t("bi"),e instanceof Boolean||"boolean"==typeof e}},e.num=e.num||{is:function(e){return t("num"),!r(e)&&(e-parseFloat(e)+1>=0||e===1/0||e===-1/0)}},e.text=e.text||{is:function(e){return t("text"),"string"==typeof e}},e.text.ify=e.text.ify||function(n){return t("text.ify"),e.text.is(n)?n:"undefined"!=typeof JSON?JSON.stringify(n):n&&n.toString?n.toString():n},e.text.random=e.text.random||function(e,n){t("text.random");var r="";for(e=e||24,n=n||"0123456789ABCDEFGHIJKLMNOPQRSTUVWXZabcdefghijklmnopqrstuvwxyz";e>0;)r+=n.charAt(Math.floor(Math.random()*n.length)),e--;return r},e.text.match=e.text.match||function(e,n){var r,o;return t("text.match"),"string"==typeof e&&("string"==typeof n&&(n={"=":n}),e===(r=(n=n||{})["="]||n["*"]||n[">"]||n["<"])||o===n["="]&&(r=n["*"]||n[">"]||n["<"],e.slice(0,(r||"").length)===r||o===n["*"]&&(o!==n[">"]&&o!==n["<"]?e>=n[">"]&&e<=n["<"]:o!==n[">"]&&e>=n[">"]||o!==n["<"]&&e<=n["<"])))},e.text.hash=e.text.hash||function(e,n){if(t("text.hash"),"string"==typeof e){if(n=n||0,!e.length)return n;for(var r=0,o=e.length;r<o;++r)n=(n<<5)-n+e.charCodeAt(r),n|=0;return n}},e.list=e.list||{is:function(e){return t("list"),e instanceof Array}},e.list.slit=e.list.slit||Array.prototype.slice,e.list.sort=e.list.sort||function(e){return t("list.sort"),function(t,n){return t&&n?(t=t[e])<(n=n[e])?-1:t>n?1:0:0}},e.list.map=e.list.map||function(e,n,r){return t("list.map"),i(e,n,r)},e.list.index=1,e.obj=e.boj||{is:function(e){return t("obj"),!!e&&(e instanceof Object&&e.constructor===Object||"Object"===Object.prototype.toString.call(e).match(/^\[object (\w+)\]$/)[1])}},e.obj.put=e.obj.put||function(e,n,r){return t("obj.put"),(e||{})[n]=r,e},e.obj.has=e.obj.has||function(e,n){return t("obj.has"),e&&Object.prototype.hasOwnProperty.call(e,n)},e.obj.del=e.obj.del||function(e,n){if(t("obj.del"),e)return e[n]=null,delete e[n],e},e.obj.as=e.obj.as||function(e,n,r,o){return t("obj.as"),e[n]=e[n]||(o===r?{}:r)},e.obj.ify=e.obj.ify||function(e){if(t("obj.ify"),o(e))return e;try{e=JSON.parse(e)}catch(t){e={}}return e},function(){function n(t,e){a(this,e)&&void 0!==this[e]||(this[e]=t)}e.obj.to=e.obj.to||function(e,r){return t("obj.to"),i(e,n,r=r||{}),r}}(),e.obj.copy=e.obj.copy||function(e){return t("obj.copy"),e?JSON.parse(JSON.stringify(e)):e},function(){function n(t,e){var n=this.n;if(!n||!(e===n||o(n)&&a(n,e)))return void 0!==e||void 0}e.obj.empty=e.obj.empty||function(e,r){return t("obj.empty"),!e||!i(e,n,{n:r})}}(),function(){function n(t,e){if(2===arguments.length)return n.r=n.r||{},void(n.r[t]=e);n.r=n.r||[],n.r.push(t)}var i,s=Object.keys;Object.keys=Object.keys||function(t){return i(t,(function(t,e,n){n(e)}))},e.obj.map=i=e.obj.map||function(i,c,l){t("obj.map");var u,f,p,h,d,g=0,y="function"==typeof c;if(n.r=u,s&&o(i)&&(h=s(i),d=!0),l=l||{},r(i)||h)for(f=(h||i).length;g<f;g++){var v=g+e.list.index;if(y){if((p=d?c.call(l,i[h[g]],h[g],n):c.call(l,i[g],v,n))!==u)return p}else if(c===i[d?h[g]:g])return h?h[g]:v}else for(g in i)if(y){if(a(i,g)&&(p=l?c.call(l,i[g],g,n):c(i[g],g,n))!==u)return p}else if(c===i[g])return g;return y?n.r:e.list.index?0:-1}}(),e.time=e.time||{},e.time.is=e.time.is||function(e){return t("time"),e?e instanceof Date:+(new Date).getTime()};var n=e.fn.is,r=e.list.is,o=(x=e.obj).is,a=x.has,i=x.map,s={is:function(e){return t("val.is"),e!==k&&(null===e||e!==1/0&&(!!(f(e)||l(e)||u(e))||s.link.is(e)||!1))}};s.link=s.rel={_:"#"},function(){function e(t,e){var n=this;return n.id?n.id=!1:e==c&&f(t)?void(n.id=t):n.id=!1}s.link.is=function(n){if(t("val.link.is"),n&&n[c]&&!n._&&o(n)){var r={};if(i(n,e,r),r.id)return r.id}return!1}}(),s.link.ify=function(e){return t("val.link.ify"),p({},c,e)},e.obj.has._=".";var c=s.link._,l=e.bi.is,u=e.num.is,f=e.text.is,p=(o=(x=e.obj).is,x.put);i=x.map,e.val=e.val||s;var h={_:"_",soul:function(e,n){return t("node.soul"),e&&e._&&e._[n||y]}};h.soul.ify=function(e,n){return t("node.soul.ify"),n="string"==typeof n?{soul:n}:n||{},(e=e||{})._=e._||{},e._[y]=n.soul||e._[y]||g(),e},h.soul._=s.link._,function(){function e(t,e){if(e!==h._)return!s.is(t)||void(this.cb&&this.cb.call(this.as,t,e,this.n,this.s))}h.is=function(n,r,a){var s;return t("node.is"),!!o(n)&&!!(s=h.soul(n))&&!i(n,e,{as:a,cb:r,s:s,n:n})}}(),function(){function e(t,e){var n,r=this.o;r.map?void 0===(n=r.map.call(this.as,t,""+e,r.node))?d(r.node,e):r.node&&(r.node[e]=n):s.is(t)&&(r.node[e]=t)}h.ify=function(n,r,o){return t("node.ify"),r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r={map:r}):r={},r.map&&(r.node=r.map.call(o,n,k,r.node||{})),(r.node=h.soul.ify(r.node||{},r))&&i(n,e,{o:r,as:o}),r.node}}(),o=(x=e.obj).is;var d=x.del,g=(i=x.map,e.text.random),y=h.soul._;e.node=e.node||h;var v=e.state;v.lex=function(){return t("state.lex"),v().toString(36).replace(".","")},v.to=function(e,n,r){t("state.to");var a=(e||{})[n];return o(a)&&(a=m(a)),v.ify(r,n,v.is(e,n),a,h.soul(e))},function(){function e(t,e){b!==e&&v.ify(this.o,e,this.s)}v.map=function(r,s,c){var l;t("state.map");var f=o(f=r||s)?f:null;return r=n(r=r||s)?r:null,f&&!r?(s=u(s)?s:v(),f[b]=f[b]||{},i(f,e,{o:f,s:s}),f):(c=c||o(s)?s:l,s=u(s)?s:v(),function(t,n,o,i){if(!r)return e.call({o:o,s:s},t,n),t;r.call(c||this||{},t,n,o,i),a(o,n)&&l===o[n]||e.call({o:o,s:s},t,n)})}}(),(x=e.obj).as,a=x.has,o=x.is,i=x.map;var m=x.copy,b=(u=e.num.is,n=e.fn.is,h._),w={};!function(){function e(t,e){if(!t||e!==h.soul(t)||!h.is(t,this.fn,this.as))return!0;this.cb&&(n.n=t,n.as=this.as,this.cb.call(n.as,t,e,n))}function n(t){t&&h.is(n.n,t,n.as)}w.is=function(n,r,a,s){return t("graph.is"),!(!n||!o(n)||$(n)||i(n,e,{cb:r,fn:a,as:s}))}}(),function(){function n(t,e){var n;return(n=function(t,e){for(var n,r=t.seen,o=r.length;o--;)if(n=r[o],e.obj===n.obj)return n;r.push(e)}(t,e))?n:(e.env=t,e.soul=i,h.ify(e.obj,r,e)&&(e.link=e.link||s.link.ify(h.soul(e.node)),e.obj!==t.shell&&(t.graph[s.link.is(e.link)]=e.node)),e)}function r(t,e,r){var o,i,l=this,u=l.env;if(h._===e&&a(t,s.link._))return r._;if(o=c(t,e,r,l,u)){if(e||(l.node=l.node||r||{},a(t,h._)&&h.soul(t)&&(l.node._=m(t._)),l.node=h.soul.ify(l.node,s.link.is(l.link)),l.link=l.link||s.link.ify(h.soul(l.node))),(i=u.map)&&(i.call(u.as||{},t,e,r,l),a(r,e))){if(t=r[e],k===t)return void d(r,e);if(!(o=c(t,e,r,l,u)))return}if(!e)return l.node;if(!0===o)return t;if((i=n(u,{obj:t,path:l.path.concat(e)})).node)return i.link}}function i(t){var e=this,n=s.link.is(e.link),r=e.env.graph;e.link=e.link||s.link.ify(t),e.link[s.link._]=t,e.node&&e.node[h._]&&(e.node[h._][s.link._]=t),a(r,n)&&(r[t]=r[n],d(r,n))}function c(t,n,r,a,i){var l;return!!s.is(t)||(o(t)?1:(l=i.invalid)?c(t=l.call(i.as||{},t,n,r),n,r,a,i):(i.err="Invalid value at '"+a.path.concat(n).join(".")+"'!",void(e.list.is(t)&&(i.err+=" Use `.set(item)` instead of an Array."))))}w.ify=function(e,r,o){t("graph.ify");var a={path:[],obj:e};return r?"string"==typeof r?r={soul:r}:"function"==typeof r&&(r.map=r):r={},"string"==typeof o&&(r.soul=r.soul||o,o=k),r.soul&&(a.link=s.link.ify(r.soul)),r.shell=(o||{}).shell,r.graph=r.graph||{},r.seen=r.seen||[],r.as=r.as||o,n(r,a),r.root=a.node,r.graph}}(),w.node=function(e){t("graph.node");var n=h.soul(e);if(n)return p({},n,e)},function(){function e(t,e){var n,r;if(h._!==e)(n=s.link.is(t))?(r=this.opt.seen[n])?this.obj[e]=r:this.obj[e]=this.opt.seen[n]=w.to(this.graph,n,this.opt):this.obj[e]=t;else{if($(t,s.link._))return;this.obj[e]=m(t)}}w.to=function(n,r,o){if(t("graph.to"),n){var a={};return o=o||{seen:{}},i(n[r],e,{obj:a,graph:n,opt:o}),a}}}(),n=e.fn.is,o=(x=e.obj).is,d=x.del,a=x.has;var x,k,$=x.empty;p=x.put,i=x.map,m=x.copy,e.graph=e.graph||w}}()}(Bt={path:undefined,exports:{},require:function(t,e){return Ct(null==e&&Bt.path)}},Bt.exports),Bt.exports),Gt="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(t){var e={exports:{}};!function(t){!function(){function e(t,n){return n?function(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}(t):t.slice?e[r(t)]:function(n,o){t(n={exports:{}}),e[r(o)]=n.exports};function r(t){return t.split("/").slice(-1).toString().replace(".js","")}}var n=t;e((function(t){"undefined"!=typeof window&&(t.window=window);var e=(t.window||t).SEA||{};(e.window=t.window)&&(e.window.SEA=e);try{void 0+""!=typeof n&&(n.exports=e)}catch(t){}t.exports=e}))(e,"./root"),e((function(t){var n=e("./root");try{n.window&&location.protocol.indexOf("s")<0&&location.host.indexOf("localhost")<0&&!/^127\.\d+\.\d+\.\d+$/.test(location.hostname)&&location.protocol.indexOf("file:")<0&&(console.warn("HTTPS needed for WebCrypto in SEA, redirecting..."),location.protocol="https:")}catch(t){}}))(e,"./https"),e((function(t){var n;if(n+""==typeof btoa){if(n+""==typeof Buffer)try{Gt.Buffer=e("buffer",1).Buffer}catch(t){console.log("Please `npm install buffer` or add it to your package.json !")}Gt.btoa=function(t){return Buffer.from(t,"binary").toString("base64")},Gt.atob=function(t){return Buffer.from(t,"base64").toString("binary")}}}))(e,"./base64"),e((function(t){function n(){}e("./base64"),Object.assign(n,{from:Array.from}),n.prototype=Object.create(Array.prototype),n.prototype.toString=function(t,e,n){t=t||"utf8",e=e||0;const r=this.length;if("hex"===t){const t=new Uint8Array(this);return[...Array((n&&n+1||r)-e).keys()].map((n=>t[n+e].toString(16).padStart(2,"0"))).join("")}return"utf8"===t?Array.from({length:(n||r)-e},((t,n)=>String.fromCharCode(this[n+e]))).join(""):"base64"===t?btoa(this):void 0},t.exports=n}))(e,"./array"),e((function(t){e("./base64");var n=e("./array");function r(...t){return console.warn("new SafeBuffer() is depreciated, please use SafeBuffer.from()"),r.from(...t)}r.prototype=Object.create(Array.prototype),Object.assign(r,{from(){if(!Object.keys(arguments).length||null==arguments[0])throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");const t=arguments[0];let e;if("string"==typeof t){const r=arguments[1]||"utf8";if("hex"===r){const r=t.match(/([\da-fA-F]{2})/g).map((t=>parseInt(t,16)));if(!r||!r.length)throw new TypeError("Invalid first argument for type 'hex'.");e=n.from(r)}else if("utf8"===r||"binary"===r){const r=t.length,o=new Uint16Array(r);Array.from({length:r},((e,n)=>o[n]=t.charCodeAt(n))),e=n.from(o)}else if("base64"===r){const r=atob(t),o=r.length,a=new Uint8Array(o);Array.from({length:o},((t,e)=>a[e]=r.charCodeAt(e))),e=n.from(a)}else"binary"===r?e=n.from(t):console.info("SafeBuffer.from unknown encoding: "+r);return e}if(t.byteLength,t.byteLength?t.byteLength:t.length){let e;return t instanceof ArrayBuffer&&(e=new Uint8Array(t)),n.from(e||t)}},alloc:(t,e=0)=>n.from(new Uint8Array(Array.from({length:t},(()=>e)))),allocUnsafe:t=>n.from(new Uint8Array(Array.from({length:t}))),concat(t){if(!Array.isArray(t))throw new TypeError("First argument must be Array containing ArrayBuffer or Uint8Array instances.");return n.from(t.reduce(((t,e)=>t.concat(Array.from(e))),[]))}}),r.prototype.from=r.from,r.prototype.toString=n.prototype.toString,t.exports=r}))(e,"./buffer"),e((function(t){const r=e("./root"),o={Buffer:e("./buffer")};var a={};if(JSON.parseAsync=JSON.parseAsync||function(t,e,n){try{e(void 0,JSON.parse(t,n))}catch(t){e(t)}},JSON.stringifyAsync=JSON.stringifyAsync||function(t,e,n,r){try{e(void 0,JSON.stringify(t,n,r))}catch(t){e(t)}},o.parse=function(t,e){return new Promise((function(n,r){JSON.parseAsync(t,(function(t,e){t?r(t):n(e)}),e)}))},o.stringify=function(t,e,n){return new Promise((function(r,o){JSON.stringifyAsync(t,(function(t,e){t?o(t):r(e)}),e,n)}))},r.window&&(o.crypto=window.crypto||window.msCrypto,o.subtle=(o.crypto||a).subtle||(o.crypto||a).webkitSubtle,o.TextEncoder=window.TextEncoder,o.TextDecoder=window.TextDecoder,o.random=t=>o.Buffer.from(o.crypto.getRandomValues(new Uint8Array(o.Buffer.alloc(t))))),!o.TextDecoder){const{TextEncoder:t,TextDecoder:r}=e((void 0+""==typeof n?".":"")+"./lib/text-encoding",1);o.TextDecoder=r,o.TextEncoder=t}if(!o.crypto)try{var i=e("crypto",1);Object.assign(o,{crypto:i,random:t=>o.Buffer.from(i.randomBytes(t))});const{Crypto:t}=e("@peculiar/webcrypto",1);o.ossl=o.subtle=new t({directory:"ossl"}).subtle}catch(t){console.log("Please `npm install @peculiar/webcrypto` or add it to your package.json !")}t.exports=o}))(e,"./shim"),e((function(t){var n=e("./root"),r=e("./shim"),o={pbkdf2:{hash:{name:"SHA-256"},iter:1e5,ks:64},ecdsa:{pair:{name:"ECDSA",namedCurve:"P-256"},sign:{name:"ECDSA",hash:{name:"SHA-256"}}},ecdh:{name:"ECDH",namedCurve:"P-256"},jwk:function(t,e){var n={kty:"EC",crv:"P-256",x:(t=t.split("."))[0],y:t[1],ext:!0};return n.key_ops=e?["sign"]:["verify"],e&&(n.d=e),n},keyToJwk:function(t){return{kty:"oct",k:t.toString("base64").replace(/\+/g,"-").replace(/\//g,"_").replace(/\=/g,""),ext:!1,alg:"A256GCM"}},recall:{validity:43200,hook:function(t){return t}},check:function(t){return"string"==typeof t&&"SEA{"===t.slice(0,4)},parse:async function(t){try{var e="string"==typeof t;return e&&"SEA{"===t.slice(0,4)&&(t=t.slice(3)),e?await r.parse(t):t}catch(t){}return t}};n.opt=o,t.exports=o}))(e,"./settings"),e((function(t){var n=e("./shim");t.exports=async function(t,e){var r="string"==typeof t?t:await n.stringify(t),o=await n.subtle.digest({name:e||"SHA-256"},(new n.TextEncoder).encode(r));return n.Buffer.from(o)}}))(e,"./sha256"),e((function(t){const n=e("./shim"),r=n.subtle,o=n.ossl?n.ossl:r;t.exports=t=>o.digest({name:"SHA-1"},new ArrayBuffer(t))}))(e,"./sha1"),e((function(t){var n=e("./root"),r=e("./shim"),o=e("./settings"),a=e("./sha256");n.work=n.work||(async(t,e,i,s)=>{try{var c=(e||{}).epub||e;if(s=s||{},c instanceof Function&&(i=c,c=void 0),t="string"==typeof t?t:await r.stringify(t),"sha"===(s.name||"").toLowerCase().slice(0,3)){var l=r.Buffer.from(await a(t,s.name),"binary").toString(s.encode||"base64");if(i)try{i(l)}catch(t){console.log(t)}return l}c=c||r.random(9);var u=await(r.ossl||r.subtle).importKey("raw",(new r.TextEncoder).encode(t),{name:s.name||"PBKDF2"},!1,["deriveBits"]),f=await(r.ossl||r.subtle).deriveBits({name:s.name||"PBKDF2",iterations:s.iterations||o.pbkdf2.iter,salt:(new r.TextEncoder).encode(s.salt||c),hash:s.hash||o.pbkdf2.hash},u,s.length||8*o.pbkdf2.ks);t=r.random(t.length);var p=r.Buffer.from(f,"binary").toString(s.encode||"base64");if(i)try{i(p)}catch(t){console.log(t)}return p}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(i&&i())}}),t.exports=n.work}))(e,"./work"),e((function(t){var n=e("./root"),r=e("./shim");e("./settings"),n.name=n.name||(async(t,e)=>{try{if(t)try{t()}catch(t){console.log(t)}return}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(t&&t())}}),n.pair=n.pair||(async(t,e)=>{try{var o=r.ossl||r.subtle,a=await r.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!0,["sign","verify"]).then((async t=>{var e={};e.priv=(await r.subtle.exportKey("jwk",t.privateKey)).d;var n=await r.subtle.exportKey("jwk",t.publicKey);return e.pub=n.x+"."+n.y,e}));try{var i=await o.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"]).then((async t=>{var e={};e.epriv=(await o.exportKey("jwk",t.privateKey)).d;var n=await o.exportKey("jwk",t.publicKey);return e.epub=n.x+"."+n.y,e}))}catch(t){if(n.window)throw t;if("Error: ECDH is not a supported algorithm"!=t)throw t;console.log("Ignoring ECDH...")}i=i||{};var s={pub:a.pub,priv:a.priv,epub:i.epub,epriv:i.epriv};if(t)try{t(s)}catch(t){console.log(t)}return s}catch(e){if(console.log(e),n.err=e,n.throw)throw e;return void(t&&t())}}),t.exports=n.pair}))(e,"./pair"),e((function(t){var n,r=e("./root"),o=e("./shim"),a=e("./settings"),i=e("./sha256");r.sign=r.sign||(async(t,e,s,c)=>{try{if(c=c||{},!(e||c).priv){if(!r.I)throw"No signing key.";e=await r.I(null,{what:t,how:"sign",why:c.why})}if(n===t)throw"`undefined` not allowed.";var l=await a.parse(t),u=c.check=c.check||l;if(r.verify&&(r.opt.check(u)||u&&u.s&&u.m)&&n!==await r.verify(u,e)){var f=await a.parse(u);if(c.raw||(f="SEA"+await o.stringify(f)),s)try{s(f)}catch(t){console.log(t)}return f}var p=e.pub,h=e.priv,d=a.jwk(p,h),g=await i(l),y=await(o.ossl||o.subtle).importKey("jwk",d,{name:"ECDSA",namedCurve:"P-256"},!1,["sign"]).then((t=>(o.ossl||o.subtle).sign({name:"ECDSA",hash:{name:"SHA-256"}},t,new Uint8Array(g))));if(f={m:l,s:o.Buffer.from(y,"binary").toString(c.encode||"base64")},c.raw||(f="SEA"+await o.stringify(f)),s)try{s(f)}catch(t){console.log(t)}return f}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(s&&s())}}),t.exports=r.sign}))(e,"./sign"),e((function(t){var n,r=e("./root"),o=e("./shim"),a=e("./settings"),i=e("./sha256");r.verify=r.verify||(async(t,e,s,c)=>{try{var l=await a.parse(t);if(!1===e){var u=await a.parse(l.m);if(s)try{s(u)}catch(t){console.log(t)}return u}c=c||{};var f,p,h,d=e.pub||e,g=r.opt.slow_leak?await r.opt.slow_leak(d):await(o.ossl||o.subtle).importKey("jwk",a.jwk(d),{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),y=await i(l.m);try{if(f=o.Buffer.from(l.s,c.encode||"base64"),p=new Uint8Array(f),!(h=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},g,p,new Uint8Array(y))))throw"Signature did not match."}catch(n){if(r.opt.fallback)return await r.opt.fall_verify(t,e,s,c)}var v=h?await a.parse(l.m):n;if(s)try{s(v)}catch(t){console.log(t)}return v}catch(t){if(console.log(t),r.err=t,r.throw)throw t;return void(s&&s())}}),t.exports=r.verify;var s={};r.opt.slow_leak=t=>{if(s[t])return s[t];var e=a.jwk(t);return s[t]=(o.ossl||o.subtle).importKey("jwk",e,{name:"ECDSA",namedCurve:"P-256"},!1,["verify"]),s[t]};var c=r.opt;r.opt.fall_verify=async function(t,e,s,l,u){if(u===r.opt.fallback)throw"Signature did not match";u=u||1;var f=t||"";t=r.opt.unpack(t)||t;var p,h,d,g=await a.parse(t),y=e.pub||e,v=await r.opt.slow_leak(y),m=u<=r.opt.fallback?o.Buffer.from(await o.subtle.digest({name:"SHA-256"},(new o.TextEncoder).encode(await a.parse(g.m)))):await i(g.m);try{if(p=o.Buffer.from(g.s,l.encode||"base64"),h=new Uint8Array(p),!(d=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},v,h,new Uint8Array(m))))throw"Signature did not match."}catch(t){try{p=o.Buffer.from(g.s,"utf8"),h=new Uint8Array(p),d=await(o.ossl||o.subtle).verify({name:"ECDSA",hash:{name:"SHA-256"}},v,h,new Uint8Array(m))}catch(t){if(!d)throw"Signature did not match."}}var b=d?await a.parse(g.m):n;if(c.fall_soul=f["#"],c.fall_key=f["."],c.fall_val=t,c.fall_state=f[">"],s)try{s(b)}catch(t){console.log(t)}return b},r.opt.fallback=2}))(e,"./verify"),e((function(t){var n=e("./shim"),r=e("./settings"),o=e("./sha256");t.exports=async(t,e,a)=>{const i=t+(e||n.random(8)).toString("utf8"),s=n.Buffer.from(await o(i),"binary"),c=r.keyToJwk(s);return await n.subtle.importKey("jwk",c,{name:"AES-GCM"},!1,["encrypt","decrypt"])}}))(e,"./aeskey"),e((function(t){var n=e("./root"),r=e("./shim");e("./settings");var o=e("./aeskey");n.encrypt=n.encrypt||(async(t,e,a,i)=>{try{i=i||{};var s=(e||i).epriv||e;if(void 0===t)throw"`undefined` not allowed.";if(!s){if(!n.I)throw"No encryption key.";s=(e=await n.I(null,{what:t,how:"encrypt",why:i.why})).epriv||e}var c="string"==typeof t?t:await r.stringify(t),l={s:r.random(9),iv:r.random(15)},u=await o(s,l.s,i).then((t=>r.subtle.encrypt({name:i.name||"AES-GCM",iv:new Uint8Array(l.iv)},t,(new r.TextEncoder).encode(c)))),f={ct:r.Buffer.from(u,"binary").toString(i.encode||"base64"),iv:l.iv.toString(i.encode||"base64"),s:l.s.toString(i.encode||"base64")};if(i.raw||(f="SEA"+await r.stringify(f)),a)try{a(f)}catch(t){console.log(t)}return f}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(a&&a())}}),t.exports=n.encrypt}))(e,"./encrypt"),e((function(t){var n=e("./root"),r=e("./shim"),o=e("./settings"),a=e("./aeskey");n.decrypt=n.decrypt||(async(t,e,i,s)=>{try{s=s||{};var c=(e||s).epriv||e;if(!c){if(!n.I)throw"No decryption key.";c=(e=await n.I(null,{what:t,how:"decrypt",why:s.why})).epriv||e}var l,u,f,p=await o.parse(t);try{l=r.Buffer.from(p.s,s.encode||"base64"),u=r.Buffer.from(p.iv,s.encode||"base64"),f=r.Buffer.from(p.ct,s.encode||"base64");var h=await a(c,l,s).then((t=>r.subtle.decrypt({name:s.name||"AES-GCM",iv:new Uint8Array(u),tagLength:128},t,new Uint8Array(f))))}catch(r){if("utf8"===s.encode)throw"Could not decrypt";if(n.opt.fallback)return s.encode="utf8",await n.decrypt(t,e,i,s)}var d=await o.parse(new r.TextDecoder("utf8").decode(h));if(i)try{i(d)}catch(t){console.log(t)}return d}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(i&&i())}}),t.exports=n.decrypt}))(e,"./decrypt"),e((function(t){var n=e("./root"),r=e("./shim");e("./settings"),n.secret=n.secret||(async(t,e,a,i)=>{try{if(i=i||{},!e||!e.epriv||!e.epub){if(!n.I)throw"No secret mix.";e=await n.I(null,{what:t,how:"secret",why:i.why})}var s=t.epub||t,c=e.epub,l=e.epriv,u=r.ossl||r.subtle,f=o(s),p=Object.assign({public:await u.importKey(...f,!0,[])},{name:"ECDH",namedCurve:"P-256"}),h=o(c,l),d=await u.importKey(...h,!1,["deriveBits"]).then((async t=>{var e=await u.deriveBits(p,t,256),n=new Uint8Array(e),r=await u.importKey("raw",n,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]);return u.exportKey("jwk",r).then((({k:t})=>t))}));if(a)try{a(d)}catch(t){console.log(t)}return d}catch(t){if(console.log(t),n.err=t,n.throw)throw t;return void(a&&a())}});var o=(t,e)=>{var[n,r]=t.split("."),o=e?{d:e}:{};return["jwk",Object.assign(o,{x:n,y:r,kty:"EC",crv:"P-256",ext:!0}),{name:"ECDH",namedCurve:"P-256"}]};t.exports=n.secret}))(e,"./secret"),e((function(t){var n=e("./root");n.certify=n.certify||(async(t,e={},r,o,a={})=>{try{if(console.log("SEA.certify() is an early experimental community supported method that may change API behavior without warning in any future version."),!(t=(()=>{var e=[];if(t){if(("string"==typeof t||Array.isArray(t))&&t.indexOf("*")>-1)return"*";if("string"==typeof t)return t;if(Array.isArray(t)){if(1===t.length&&t[0])return"object"==typeof t[0]&&t[0].pub?t[0].pub:"string"==typeof t[0]?t[0]:null;t.map((t=>{"string"==typeof t?e.push(t):"object"==typeof t&&t.pub&&e.push(t.pub)}))}return"object"==typeof t&&t.pub?t.pub:e.length>0?e:null}})()))return console.log("No certificant found.");const s=!a.expiry||"number"!=typeof a.expiry&&"string"!=typeof a.expiry?null:parseFloat(a.expiry),c=(e||{}).read?e.read:null,l=(e||{}).write?e.write:"string"==typeof e||Array.isArray(e)||e["+"]||e["#"]||e["."]||e["="]||e["*"]||e[">"]||e["<"]?e:null,u=(a||{}).block||(a||{}).blacklist||(a||{}).ban||{},f=u.read&&("string"==typeof u.read||(u.read||{})["#"])?u.read:null,p="string"==typeof u?u:u.write&&("string"==typeof u.write||u.write["#"])?u.write:null;if(!c&&!l)return console.log("No policy found.");const h=JSON.stringify({c:t,...s?{e:s}:{},...c?{r:c}:{},...l?{w:l}:{},...f?{rb:f}:{},...p?{wb:p}:{}});var i=await n.sign(h,r,null,{raw:1});if(a.raw||(i="SEA"+JSON.stringify(i)),o)try{o(i)}catch(t){console.log(t)}return i}catch(t){if(n.err=t,n.throw)throw t;return void(o&&o())}}),t.exports=n.certify}))(e,"./certify"),e((function(t){var n=e("./shim"),r=e("./root");r.work=e("./work"),r.sign=e("./sign"),r.verify=e("./verify"),r.encrypt=e("./encrypt"),r.decrypt=e("./decrypt"),r.certify=e("./certify"),r.random=r.random||n.random,r.Buffer=r.Buffer||e("./buffer"),r.keyid=r.keyid||(async t=>{try{const e=n.Buffer.concat(t.replace(/-/g,"+").replace(/_/g,"/").split(".").map((t=>n.Buffer.from(t,"base64")))),r=n.Buffer.concat([n.Buffer.from([153,e.length/256,e.length%256]),e]),o=await sha1hash(r),a=n.Buffer.from(o,"binary");return a.toString("hex",a.length-8)}catch(t){throw console.log(t),t}}),((r.window||{}).GUN||{}).SEA=r,t.exports=r}))(e,"./sea"),e((function(t){var r,o=e("./sea");function a(t){this._={$:this}}function i(){return r.state().toString(36).replace(".","")}r=o.window?o.window.GUN||{chain:{}}:e((void 0+""==typeof n?".":"")+"./gun",1),o.GUN=r,a.prototype=function(){function t(){}return t.prototype=r.chain,new t}(),a.prototype.constructor=a,r.chain.user=function(t){var e,n=this.back(-1);if(t)return t=o.opt.pub((t._||"")["#"])||t,n.get("~"+t);if(e=n.back("user"))return e;var r=n=n._,s=r.opt.uuid||i;return(r=(e=r.user=this.chain(new a))._).opt={},r.opt.uuid=function(t){var e=s(),r=n.user;return r&&(r=r.is)&&(r=r.pub)?(e="~"+r+"/"+e,t&&t.call&&t(null,e),e):e},e},r.User=a,a.GUN=r,a.SEA=r.SEA=o,t.exports=a}))(e,"./user"),e((function(t){var r;(""+r!=typeof window?window.Gun||{chain:{}}:e((""+r==typeof n?".":"")+"./gun",1)).chain.then=function(t,e){var n=this,r=new Promise((function(t,r){n.once(t,e)}));return t?r.then(t):r}}))(e,"./then"),e((function(t){var n=e("./user"),r=n.SEA,o=n.GUN,a=function(){};n.prototype.create=function(...t){var e,n="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,i=n&&(n.pub||n.epub)?n.pub:"string"==typeof t[0]?t[0]:null,s=n&&(n.pub||n.epub)?n:i&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,l=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},u=this,f=u._,p=u.back(-1);if(c=c||a,!1!==(l=l||{}).check&&(i||(e="No user."),(s||"").length<8&&(e="Password too short!"),e))return c({err:o.log(e)}),u;if(f.ing)return(c||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),u;f.ing=!0;var h={a:function(t){if(h.pubs=t,t&&!l.already){var e={err:o.log("User already created!")};return f.ing=!1,(c||a)(e),void u.leave()}h.salt=String.random(64),r.work(s,h.salt,h.b)},b:function(t){h.proof=t,n?h.c(n):r.pair(h.c)},c:function(t){var e;h.pair=t||{},(e=f.root.user)&&(e._.sea=t,e.is={pub:t.pub,epub:t.epub,alias:i}),h.data={pub:t.pub},h.d()},d:function(){h.data.alias=i,h.e()},e:function(){h.data.epub=h.pair.epub,r.encrypt({priv:h.pair.priv,epriv:h.pair.epriv},h.proof,h.f,{raw:1})},f:function(t){h.data.auth=JSON.stringify({ek:t,s:h.salt}),h.g(h.data.auth)},g:function(t){var e;h.data.auth=h.data.auth||t,p.get(e="~"+h.pair.pub).put(h.data).on(h.h);var n={};n[e]={"#":e},p.get("~@"+i).put(n).get(e).on(h.i)},h:function(t,e,n,r){r.off(),h.h.ok=1,h.i()},i:function(t,e,r,o){o&&(h.i.ok=1,o.off()),h.h.ok&&h.i.ok&&(f.ing=!1,c({ok:0,pub:h.pair.pub}),a===c&&(n?u.auth(n):u.auth(i,s)))}};return p.get("~@"+i).once(h.a),u},n.prototype.leave=function(t,e){var n=this.back(-1)._.user;if(n&&(delete n.is,delete n._.is,delete n._.sea),r.window)try{var o={};delete(o=window.sessionStorage).recall,delete o.pair}catch(t){}return this}}))(e,"./create"),e((function(t){var n=e("./user"),r=n.SEA,o=n.GUN,a=function(){};function i(t){if("string"!=typeof t)return t;try{t=JSON.parse(t)}catch(e){t={}}return t}n.prototype.auth=function(...t){var e="object"==typeof t[0]&&(t[0].pub||t[0].epub)?t[0]:"object"==typeof t[1]&&(t[1].pub||t[1].epub)?t[1]:null,n=e||"string"!=typeof t[0]?null:t[0],s=n&&"string"==typeof t[1]?t[1]:null,c=t.filter((t=>"function"==typeof t))[0]||null,l=t&&t.length>1&&"object"==typeof t[t.length-1]?t[t.length-1]:{},u=this,f=u._,p=u.back(-1);if(f.ing)return(c||a)({err:o.log("User is already being created or authenticated!"),wait:!0}),u;f.ing=!0;var h,d={a:function(t){if(!t)return d.b();if(!t.pub){var e=[];return Object.keys(t).forEach((function(n){"_"!=n&&e.push(t[n])})),d.b(e)}if(d.name)return d.f(t);d.c((d.data=t).auth)},b:function(t){var e=(d.list=(d.list||[]).concat(t||[])).shift();if(h===e)return d.name?d.err("Your user account is not published for dApps to access, please consider syncing it online, or allowing local access by adding your device as a peer."):d.err("Wrong user or password.");p.get(e).once(d.a)},c:function(t){return h===t?d.b():"string"==typeof t?d.c(i(t)):void r.work(s,(d.auth=t).s,d.d,d.enc)},d:function(t){r.decrypt(d.auth.ek,t,d.e,d.enc)},e:function(t){if(h===t)return d.enc?(d.enc=null,d.b()):(d.enc={encode:"utf8"},d.c(d.auth));d.half=t,d.f(d.data)},f:function(t){var e=d.half||{},n=d.data||{};d.g(d.lol={pub:t.pub||n.pub,epub:t.epub||n.epub,priv:t.priv||e.priv,epriv:t.epriv||e.epriv})},g:function(t){if(!t||!t.pub||!t.epub)return d.b();d.pair=t;var e=p._.user,g=e._;g.tag;var y=g.opt;(g=e._=p.get("~"+t.pub)._).opt=y,e.is={pub:t.pub,epub:t.epub,alias:n||t.pub},g.sea=d.pair,f.ing=!1;try{s&&h==(i(f.root.graph["~"+t.pub].auth)||"")[":"]&&(l.shuffle=l.change=s)}catch(t){}if(l.change?d.z():(c||a)(g),r.window&&(u.back("user")._.opt||l).remember)try{var v={};(v=window.sessionStorage).recall=!0,v.pair=JSON.stringify(t)}catch(t){}try{p._.tag.auth?p._.on("auth",g):setTimeout((function(){p._.on("auth",g)}),1)}catch(t){o.log("Your 'auth' callback crashed with:",t)}},z:function(){d.salt=String.random(64),r.work(l.change,d.salt,d.y)},y:function(t){r.encrypt({priv:d.pair.priv,epriv:d.pair.epriv},t,d.x,{raw:1})},x:function(t){d.w(JSON.stringify({ek:t,s:d.salt}))},w:function(t){if(l.shuffle){console.log("migrate core account from UTF8 & shuffle");var e={};Object.keys(d.data).forEach((function(t){e[t]=d.data[t]})),delete e._,e.auth=t,p.get("~"+d.pair.pub).put(e)}p.get("~"+d.pair.pub).get("auth").put(t,c||a)},err:function(t){var e={err:o.log(t||"User cannot be found!")};f.ing=!1,(c||a)(e)},plugin:function(t){if(!(d.name=t))return d.err();var e=[t];"~"!==t[0]&&(e[1]="~"+t,e[2]="~@"+t),d.b(e)}};return e?d.g(e):n?p.get("~@"+n).once(d.a):n||s||r.name(d.plugin),u}}))(e,"./auth"),e((function(t){var n=e("./user"),r=n.SEA;n.GUN,n.prototype.recall=function(t,e){var n=this,o=n.back(-1);if((t=t||{})&&t.sessionStorage){if(r.window)try{var a;(a=window.sessionStorage)&&(o._.opt.remember=!0,(n.back("user")._.opt||t).remember=!0,(a.recall||a.pair)&&o.user().auth(JSON.parse(a.pair),e))}catch(t){}return n}return n}}))(e,"./recall"),e((function(t){var n=e("./user"),r=n.SEA,o=n.GUN,a=function(){};n.prototype.pair=function(){var t,e=this;try{t=new Proxy({DANGER:""},{get:function(t,n,r){if(e.is&&(e._||"").sea)return e._.sea[n]}})}catch(t){}return t},n.prototype.delete=async function(t,e,n){console.log("user.delete() IS DEPRECATED AND WILL BE MOVED TO A MODULE!!!");var r=this;r.back(-1);var i=r.back("user");try{i.auth(t,e,(function(t){(i.is||{}).pub,i.map().once((function(){this.put(null)})),i.leave(),(n||a)({ok:0})}))}catch(t){o.log("User.delete failed! Error:",t)}return r},n.prototype.alive=async function(){console.log("user.alive() IS DEPRECATED!!!");const t=this.back(-1);try{return await authRecall(t),t._.user._}catch(t){const e="No session!";throw o.log(e),{err:e}}},n.prototype.trust=async function(t){console.log("`.trust` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!"),o.is(t)&&t.get("pub").get(((t,e)=>{console.log(t,e)})),t.get("trust").get(path).put(theirPubkey)},n.prototype.grant=function(t,e){console.log("`.grant` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var n=this,o=n.back(-1).user(),a=o._.sea,i="";return n.back((function(t){t.is||(i+=t.get||"")})),async function(){var n,s=await o.get("grant").get(a.pub).get(i).then();(s=await r.decrypt(s,a))||(s=r.random(16).toString(),n=await r.encrypt(s,a),o.get("grant").get(a.pub).get(i).put(n));var c=t.get("pub").then(),l=t.get("epub").then();c=await c,l=await l;var u=await r.secret(l,a);n=await r.encrypt(s,u),o.get("grant").get(c).get(i).put(n,e)}(),n},n.prototype.secret=function(t,e){console.log("`.secret` API MAY BE DELETED OR CHANGED OR RENAMED, DO NOT USE!");var n=this,o=n.back(-1).user(),a=o.pair(),i="";return n.back((function(t){t.is||(i+=t.get||"")})),async function(){var s,c=await o.get("trust").get(a.pub).get(i).then();(c=await r.decrypt(c,a))||(c=r.random(16).toString(),s=await r.encrypt(c,a),o.get("trust").get(a.pub).get(i).put(s)),s=await r.encrypt(t,c),n.put(s,e)}(),n},t.exports=n}))(e,"./share"),e((function(t){var r,o=e("./sea"),a=e("./settings"),i=""+r!=typeof window?window.Gun||{on:function(){}}:e((""+r==typeof n?".":"")+"./gun",1);function s(t){var e,n=this,r=n.as,a=t.put,c=a["#"],l=a["."],u=a[":"],f=a[">"],p=t["#"];if(c&&l)if((t._||"").faith&&(r.opt||"").faith&&"function"==typeof t._)o.opt.pack(a,(function(e){o.verify(e,!1,(function(e){a["="]=o.opt.unpack(e),n.to.next(t)}))}));else{var h=function(e){r.on("in",{"@":p,err:t.err=e})};(t._||"").DBG&&((t._||"").DBG.c=+new Date),0<=c.indexOf("<?")&&(e=parseFloat(c.split("<?")[1]||""))&&f<i.state()-1e3*e?(e=t._)&&e.stun&&e.stun--:"~@"!==c?"~@"!==c.slice(0,2)?(e=o.opt.pub(c))?s.pub(n,t,u,l,c,r,h,r.user||"",e):0<=c.indexOf("#")?s.hash(n,t,u,l,c,r,h):s.any(n,t,u,l,c,r,h,r.user||""):s.pubs(n,t,u,l,c,r,h):s.alias(n,t,u,l,c,r,h)}}i.on("opt",(function(t){t.sea||(t.sea={own:{}},t.on("put",s,t)),this.to.next(t)})),s.hash=function(t,e,n,r,a,i,s){o.work(n,null,(function(n){if(n&&n===r.split("#").slice(-1)[0])return t.to.next(e);s("Data hash not same as hash!")}),{name:"SHA-256"})},s.alias=function(t,e,n,r,o,a,i){return n?"~@"+r===l(n)?t.to.next(e):void i("Alias not same!"):i("Data must exist!")},s.pubs=function(t,e,n,r,o,a,i){return n?r===l(n)?t.to.next(e):void i("Alias not same!"):i("Alias must exist!")},s.pub=async function(t,e,n,s,c,u,f,p,h){var d;const g=await a.parse(n)||{},y=(n,a,l)=>{if(n.m&&n.s&&a&&h)return o.verify(n,h,(n=>{if(r!==n&&r!==n.e&&e.put[">"]&&e.put[">"]>parseFloat(n.e))return f("Certificate expired.");if(r!==n&&n.c&&n.w&&(n.c===a||n.c.indexOf("*")>-1)){let e=c.indexOf("/")>-1?c.replace(c.substring(0,c.indexOf("/")+1),""):"";String.match=String.match||i.text.match;const r=Array.isArray(n.w)?n.w:"object"==typeof n.w||"string"==typeof n.w?[n.w]:[];for(const i of r)if(String.match(e,i["#"])&&String.match(s,i["."])||!i["."]&&String.match(e,i["#"])||!i["#"]&&String.match(s,i["."])||String.match(e?e+"/"+s:s,i["#"]||i)){if(i["+"]&&i["+"].indexOf("*")>-1&&e&&-1==e.indexOf(a)&&-1==s.indexOf(a))return f(`Path "${e}" or key "${s}" must contain string "${a}".`);if(n.wb&&("string"==typeof n.wb||(n.wb||{})["#"])){var o=t.as.root.$.back(-1);return"string"==typeof n.wb&&"~"!==n.wb.slice(0,1)&&(o=o.get("~"+h)),o.get(n.wb).get(a).once((t=>!t||1!==t&&!0!==t?l(n):f(`Certificant ${a} blocked.`)))}return l(n)}return f("Certificate verification fail.")}}))};if("pub"===s&&"~"+h===c)return n===h?t.to.next(e):f("Account not same!");(d=p.is)&&d.pub&&!g["*"]&&!g["+"]&&(h===d.pub||h!==d.pub&&((e._.msg||{}).opt||{}).cert)?o.opt.pack(e.put,(i=>{o.sign(i,p._.sea,(async function(i){if(r===i)return f(o.err||"Signature fail.");if(e.put[":"]={":":d=o.opt.unpack(i.m),"~":i.s},e.put["="]=d,h===p.is.pub)return(d=l(n))&&((u.sea.own[d]=u.sea.own[d]||{})[h]=1),void JSON.stringifyAsync(e.put[":"],(function(n,r){return n?f(n||"Stringify error."):(e.put[":"]=r,t.to.next(e))}));if(h!==p.is.pub&&((e._.msg||{}).opt||{}).cert){const n=await a.parse(e._.msg.opt.cert);n&&n.m&&n.s&&y(n,p.is.pub,(r=>{e.put[":"]["+"]=n,e.put[":"]["*"]=p.is.pub,JSON.stringifyAsync(e.put[":"],(function(n,r){return n?f(n||"Stringify error."):(e.put[":"]=r,t.to.next(e))}))}))}}),{raw:1})})):o.opt.pack(e.put,(n=>{o.verify(n,g["*"]||h,(function(n){var a;return n=o.opt.unpack(n),r===n?f("Unverified data."):((a=l(n))&&h===o.opt.pub(a)&&((u.sea.own[a]=u.sea.own[a]||{})[h]=1),g["+"]&&g["+"].m&&g["+"].s&&g["*"]?void y(g["+"],g["*"],(r=>(e.put["="]=n,t.to.next(e)))):(e.put["="]=n,t.to.next(e)))}))}))},s.any=function(t,e,n,r,o,a,i,s){if(a.opt.secure)return i("Soul missing public key at '"+r+"'.");a.on("secure",(function(e){if(this.off(),!a.opt.secure)return t.to.next(e);i("Data cannot be changed.")})).on.on("secure",e)};var c=i.valid,l=function(t,e){return"string"==typeof(e=c(t))&&e};(i.state||"").ify;var u=/[^\w_-]/;o.opt.pub=function(t){if(t&&(t=t.split("~"))&&(t=t[1])&&(t=t.split(u).slice(0,2))&&2==t.length&&"@"!==(t[0]||"")[0])return t.slice(0,2).join(".")},o.opt.stringy=function(t){},o.opt.pack=function(t,e,n,a,s){var c,l;if(o.opt.check(t))return e(t);t&&t["#"]&&t["."]&&t[">"]&&(c=t[":"],l=1),JSON.parseAsync(l?c:t,(function(o,c){var l=r!==(c||"")[":"]&&(c||"")["~"];e(l?{m:{"#":s||t["#"],".":n||t["."],":":(c||"")[":"],">":t[">"]||i.state.is(a,n)},s:l}:t)}))};var f=o.opt;o.opt.unpack=function(t,e,n){var a;if(r!==t){if(t&&r!==(a=t[":"]))return a;if(e=e||f.fall_key,!n&&f.fall_val&&((n={})[e]=f.fall_val),e&&n){if(t===n[e])return t;if(!o.opt.check(n[e]))return t;var s=n&&n._&&n._["#"]||f.fall_soul,c=i.state.is(n,e)||f.fall_state;return t&&4===t.length&&s===t[0]&&e===t[1]&&p(c)===p(t[3])?t[2]:c<o.opt.shuffle_attack?t:void 0}}},o.opt.shuffle_attack=15463296e5;var p=Math.floor}))(e,"./index")}()}(e)}(),function(t){var e={exports:{}};!function(t){!function(){function e(t,n){return n?function(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets option of @rollup/plugin-commonjs appropriately for this require call to behave properly.')}(t):t.slice?e[r(t)]:function(n,o){t(n={exports:{}}),e[r(o)]=n.exports};function r(t){return t.split("/").slice(-1).toString().replace(".js","")}}var n=t;e((function(t){"undefined"!=typeof window&&(t.window=window);var e=(t.window||t).AXE||function(){};(e.window=t.window)&&(e.window.AXE=e);try{void 0!==n&&(n.exports=e)}catch(t){}t.exports=e}))(e,"./root"),e((function(t){var n=e("./root"),r=(n.window||"").Gun||e("./gun",1);if((r.AXE=n).GUN=n.Gun=r,!r.window)try{e("./lib/axe",1)}catch(t){}r.on("opt",(function(t){!function(t){if(!t.axe){var e,n,o=t.opt,a=o.peers;if(!1!==o.axe&&("undefined"==typeof process||""+(process.env||"").AXE!="false")&&r.window){t.axe={},(e=a[n="http://localhost:8765/gun"]=a[n]||{}).id=e.url=n,e.retry=e.retry||0,r.log.once("AXE","AXE enabled: Trying to find network via (1) local peer (2) last used peers (3) hard coded peers."),r.log.once("AXEWarn","Warning: AXE alpha became super slow & laggy, now in testing only mode!");var i=JSON.parse((localStorage||"")[(o.file||"")+"axe/"]||null)||{};Object.keys(i.peers||"").forEach((function(t){(e=a[n=t]=a[n]||{}).id=e.url=n})),(e=a[n="https://guntest.herokuapp.com/gun"]=a[n]||{}).id=e.url=n;var s=o.mesh=o.mesh||r.Mesh(t);s.way=function(e){if(t.$===e.$||(e._||"").via)s.say(e,o.peers);else{var n=(e.$||"")._;if(n){if(e.get){if(n.axe)return;n.axe={}}s.say(e,o.peers)}else s.say(e,o.peers)}}}}}(t),this.to.next(t)})),t.exports=n}))(e,"./axe")}()}(e)}();const Ut=[];function Pt(t,e){return{subscribe:Vt(t,e).subscribe}}function Vt(e,n=t){let r;const o=new Set;function a(t){if(s(e,t)&&(e=t,r)){const t=!Ut.length;for(const t of o)t[1](),Ut.push(t,e);if(t){for(let t=0;t<Ut.length;t+=2)Ut[t][0](Ut[t+1]);Ut.length=0}}}return{set:a,update:function(t){a(t(e))},subscribe:function(i,s=t){const c=[i,s];return o.add(c),1===o.size&&(r=n(a)||t),i(e),()=>{o.delete(c),0===o.size&&(r(),r=null)}}}}function Mt({storageKey:t,initialValue:e=""}){const n=localStorage.getItem(t)||e,{subscribe:r,update:o,set:a}=Vt(n);return r((e=>{e&&localStorage.setItem(t,e)})),{subscribe:r,update:o,set:a}}const Ht=qt(),Jt=Ht.user().recall({sessionStorage:!0}),Rt=Vt(""),zt=Vt({}),Kt=Mt({storageKey:"active_chat"}),Lt=Mt({storageKey:"active_key"}),Ft=Mt({storageKey:"chat_nav",initialValue:"add_chat"}),Wt=Pt("guns-n-goose.github.io"===window.location.host?window.location.origin+"/guns-n-goose":window.location.origin),Xt=Pt(window.location.href.replace(Wt,""));function Yt(e){let n,r,o,a,i,s,c,u,f,p,h,d,g,y,v;return{c(){n=D("tr"),r=D("th"),o=O(e[0]),a=O("."),i=N(),s=D("th"),c=D("div"),u=D("img"),p=N(),h=D("div"),d=O(e[1]),g=N(),y=D("td"),v=O(e[2]),this.h()},l(t){n=V(t,"TR",{class:!0});var l=G(n);r=V(l,"TH",{scope:!0,class:!0});var f=G(r);o=H(f,e[0]),a=H(f,"."),f.forEach(A),i=J(l),s=V(l,"TH",{scope:!0,class:!0});var m=G(s);c=V(m,"DIV",{class:!0});var b=G(c);u=V(b,"IMG",{class:!0,src:!0,alt:!0}),p=J(b),h=V(b,"DIV",{class:!0});var w=G(h);d=H(w,e[1]),w.forEach(A),b.forEach(A),m.forEach(A),g=J(l),y=V(l,"TD",{class:!0});var x=G(y);v=H(x,e[2]),x.forEach(A),l.forEach(A),this.h()},h(){q(r,"scope","row"),q(r,"class","pl-4 text-2xl text-gray-900 w-1"),q(u,"class","mr-4 h-16 rounded-xl"),l(u.src,f="https://avatars.dicebear.com/api/adventurer-neutral/"+e[1]+".svg")||q(u,"src",f),q(u,"alt","user"),q(h,"class","mr-4"),q(c,"class","h-full flex items-center"),q(s,"scope","row h-full flex items-center justify-center"),q(s,"class","py-4 text-xl font-light text-gray-900 whitespace-nowrap"),q(y,"class","px-6 py-4 text-2xl text-gray-900"),q(n,"class",(e[3]?"bg-gray-100":"bg-white")+" border-b")},m(t,e){E(t,n,e),S(n,r),S(r,o),S(r,a),S(n,i),S(n,s),S(s,c),S(c,u),S(c,p),S(c,h),S(h,d),S(n,g),S(n,y),S(y,v)},p(t,[e]){1&e&&R(o,t[0]),2&e&&!l(u.src,f="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")&&q(u,"src",f),2&e&&R(d,t[1]),4&e&&R(v,t[2])},i:t,o:t,d(t){t&&A(n)}}}function Zt(t,e,n){let r;u(t,Rt,(t=>n(4,r=t)));let{rank:o=1}=e,{username:a=""}=e,{credits:i=0}=e;const s=a==r;return t.$$set=t=>{"rank"in t&&n(0,o=t.rank),"username"in t&&n(1,a=t.username),"credits"in t&&n(2,i=t.credits)},[o,a,i,s]}Ht.get("leaderboard").map().on((async(t,e)=>{zt.update((n=>(n[e]=t,n)))})),Jt.get("alias").on((t=>Rt.set(t))),Ht.on("auth",(async t=>{const e=await Jt.get("alias");Rt.set(e)}));class Qt extends Ot{constructor(t){super(),jt(this,t,Zt,Yt,s,{rank:0,username:1,credits:2})}}function te(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r[4]=n,r}function ee(t){let e,n;return e=new Qt({props:{rank:t[4]+1,username:t[1],credits:t[2]}}),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,r){Tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.username=t[1]),1&n&&(r.credits=t[2]),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function ne(t){let e,n,r,o,a,i,s,c,l,u,f,p,h,d,g,y=Object.entries(t[0]).sort(re),v=[];for(let e=0;e<y.length;e+=1)v[e]=ee(te(t,y,e));const m=t=>kt(v[t],1,1,(()=>{v[t]=null}));return{c(){e=D("div"),n=D("table"),r=D("thead"),o=D("tr"),a=D("th"),i=O("Rank"),s=N(),c=D("th"),l=O("User"),u=N(),f=D("th"),p=O("Credits"),h=N(),d=D("tbody");for(let t=0;t<v.length;t+=1)v[t].c();this.h()},l(t){e=V(t,"DIV",{class:!0});var g=G(e);n=V(g,"TABLE",{class:!0});var y=G(n);r=V(y,"THEAD",{class:!0});var m=G(r);o=V(m,"TR",{});var b=G(o);a=V(b,"TH",{scope:!0,class:!0});var w=G(a);i=H(w,"Rank"),w.forEach(A),s=J(b),c=V(b,"TH",{scope:!0,class:!0});var x=G(c);l=H(x,"User"),x.forEach(A),u=J(b),f=V(b,"TH",{scope:!0,class:!0});var k=G(f);p=H(k,"Credits"),k.forEach(A),b.forEach(A),m.forEach(A),h=J(y),d=V(y,"TBODY",{});var $=G(d);for(let t=0;t<v.length;t+=1)v[t].l($);$.forEach(A),y.forEach(A),g.forEach(A),this.h()},h(){q(a,"scope","col"),q(a,"class","px-6 py-3"),q(c,"scope","col"),q(c,"class","px-6 py-3"),q(f,"scope","col"),q(f,"class","px-6 py-3"),q(r,"class","text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"),q(n,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400"),q(e,"class","relative shadow-md sm:rounded-lg")},m(t,y){E(t,e,y),S(e,n),S(n,r),S(r,o),S(o,a),S(a,i),S(o,s),S(o,c),S(c,l),S(o,u),S(o,f),S(f,p),S(n,h),S(n,d);for(let t=0;t<v.length;t+=1)v[t].m(d,null);g=!0},p(t,[e]){if(1&e){let n;for(y=Object.entries(t[0]).sort(re),n=0;n<y.length;n+=1){const r=te(t,y,n);v[n]?(v[n].p(r,e),xt(v[n],1)):(v[n]=ee(r),v[n].c(),xt(v[n],1),v[n].m(d,null))}for(bt(),n=y.length;n<v.length;n+=1)m(n);wt()}},i(t){if(!g){for(let t=0;t<y.length;t+=1)xt(v[t]);g=!0}},o(t){v=v.filter(Boolean);for(let t=0;t<v.length;t+=1)kt(v[t]);g=!1},d(t){t&&A(e),T(v,t)}}}const re=(t,e)=>e[1]-t[1];function oe(t,e,n){let r;return u(t,zt,(t=>n(0,r=t))),[r]}class ae extends Ot{constructor(t){super(),jt(this,t,oe,ne,s,{})}}function ie(e){let n,r,o,a,i,s,c;return{c(){n=D("a"),r=D("div"),o=O(e[1]),a=N(),i=D("img"),this.h()},l(t){n=V(t,"A",{href:!0,class:!0,style:!0});var s=G(n);r=V(s,"DIV",{class:!0});var c=G(r);o=H(c,e[1]),c.forEach(A),a=J(s),i=V(s,"IMG",{class:!0,src:!0,alt:!0}),s.forEach(A),this.h()},h(){q(r,"class","w-full text-center text-2xl text-gray-900 my-4"),q(i,"class","rounded-lg"),l(i.src,s="/guns-n-goose/static/"+e[2]+".png")||q(i,"src",s),q(i,"alt",e[1]),q(n,"href",c=e[3]+"/"+e[2]),q(n,"class","rounded-lg bg-white shadow max-h-full"),K(n,"grid-area","card"+e[0])},m(t,e){E(t,n,e),S(n,r),S(r,o),S(n,a),S(n,i)},p(t,[e]){2&e&&R(o,t[1]),4&e&&!l(i.src,s="/guns-n-goose/static/"+t[2]+".png")&&q(i,"src",s),2&e&&q(i,"alt",t[1]),12&e&&c!==(c=t[3]+"/"+t[2])&&q(n,"href",c),1&e&&K(n,"grid-area","card"+t[0])},i:t,o:t,d(t){t&&A(n)}}}function se(t,e,n){let r;u(t,Wt,(t=>n(3,r=t)));let{num:o=1}=e,{text:a=""}=e,{id:i=""}=e;return t.$$set=t=>{"num"in t&&n(0,o=t.num),"text"in t&&n(1,a=t.text),"id"in t&&n(2,i=t.id)},[o,a,i,r]}class ce extends Ot{constructor(t){super(),jt(this,t,se,ie,s,{num:0,text:1,id:2})}}function le(t){x(t,"svelte-1ldvddr",'#grid.svelte-1ldvddr{display:grid;gap:1rem;grid-template-columns:1.3fr 1fr 1fr;grid-template-areas:"leaderboard card1 card2"\r\n\t\t\t\t\t\t\t            "leaderboard card3 card4"}')}function ue(t,e,n){const r=t.slice();return r[1]=e[n],r}function fe(t){let e,r;const o=[t[1]];let a={};for(let t=0;t<o.length;t+=1)a=n(a,o[t]);return e=new ce({props:a}),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,n){Tt(e,t,n),r=!0},p(t,n){const r=1&n?function(t,e){const n={},r={},o={$$scope:1};let a=t.length;for(;a--;){const i=t[a],s=e[a];if(s){for(const t in i)t in s||(r[t]=1);for(const t in s)o[t]||(n[t]=s[t],o[t]=1);t[a]=s}else for(const t in i)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(o,[(a=t[1],"object"==typeof a&&null!==a?a:{})]):{};var a;e.$set(r)},i(t){r||(xt(e.$$.fragment,t),r=!0)},o(t){kt(e.$$.fragment,t),r=!1},d(t){Dt(e,t)}}}function pe(t){let e,n,r,o,a,i;o=new ae({});let s=t[0],c=[];for(let e=0;e<s.length;e+=1)c[e]=fe(ue(t,s,e));const l=t=>kt(c[t],1,1,(()=>{c[t]=null}));return{c(){e=N(),n=D("div"),r=D("div"),Et(o.$$.fragment),a=N();for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){F('[data-svelte="svelte-1nfjr2"]',document.head).forEach(A),e=J(t),n=V(t,"DIV",{id:!0,class:!0,style:!0});var i=G(n);r=V(i,"DIV",{class:!0,style:!0});var s=G(r);At(o.$$.fragment,s),s.forEach(A),a=J(i);for(let t=0;t<c.length;t+=1)c[t].l(i);i.forEach(A),this.h()},h(){document.title="Guns N' Goose - Home",q(r,"class","rounded-lg bg-white shadow max-h-full overflow-auto"),K(r,"grid-area","leaderboard"),q(n,"id","grid"),q(n,"class","px-6 pb-6 svelte-1ldvddr"),K(n,"height","calc(100vh - 8rem)")},m(t,s){E(t,e,s),E(t,n,s),S(n,r),Tt(o,r,null),S(n,a);for(let t=0;t<c.length;t+=1)c[t].m(n,null);i=!0},p(t,[e]){if(1&e){let r;for(s=t[0],r=0;r<s.length;r+=1){const o=ue(t,s,r);c[r]?(c[r].p(o,e),xt(c[r],1)):(c[r]=fe(o),c[r].c(),xt(c[r],1),c[r].m(n,null))}for(bt(),r=s.length;r<c.length;r+=1)l(r);wt()}},i(t){if(!i){xt(o.$$.fragment,t);for(let t=0;t<s.length;t+=1)xt(c[t]);i=!0}},o(t){kt(o.$$.fragment,t),c=c.filter(Boolean);for(let t=0;t<c.length;t+=1)kt(c[t]);i=!1},d(t){t&&A(e),t&&A(n),Dt(o),T(c,t)}}}function he(t){return[[{num:1,text:"Chat",id:"chat"},{num:2,text:"Russian Roulette",id:"russian-roulette"},{num:3,text:"Wheel of Fortune",id:"russian-roulette"},{num:4,text:"Sidescroller",id:"russian-roulette"}]]}class de extends Ot{constructor(t){super(),jt(this,t,he,pe,s,{},le)}}function ge(e){let n,r,o,i,s,c,u,f,p,h,d;return{c(){n=D("div"),r=D("img"),i=N(),s=D("input"),u=N(),f=D("button"),p=O("Continue"),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=V(e,"IMG",{src:!0,alt:!0,class:!0}),i=J(e),s=V(e,"INPUT",{placeholder:!0,class:!0}),u=J(e),f=V(e,"BUTTON",{class:!0});var o=G(f);p=H(o,"Continue"),o.forEach(A),e.forEach(A),this.h()},h(){l(r.src,o="/guns-n-goose/static/logo-text.svg")||q(r,"src","/guns-n-goose/static/logo-text.svg"),q(r,"alt","logo"),q(r,"class","m-auto w-8/12"),q(s,"placeholder","Enter your username"),q(s,"class",c=(e[0]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(f,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),q(n,"class","w-full h-auto bg-white rounded-xl px-12")},m(t,o){E(t,n,o),S(n,r),S(n,i),S(n,s),z(s,e[1]),S(n,u),S(n,f),S(f,p),h||(d=[C(s,"change",e[5]),C(s,"input",e[6]),C(f,"click",e[7])],h=!0)},p(t,[e]){1&e&&c!==(c=(t[0]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&q(s,"class",c),2&e&&s.value!==t[1]&&z(s,t[1])},i:t,o:t,d(t){t&&A(n),h=!1,a(d)}}}function ye(t,e,n){let{error:r}=e,o="";const a=nt(),i=()=>{a("continue",{username:o})},s=t=>{a("error",{error:t})},c=()=>!!o||(s("Please enter a username."),!1);return t.$$set=t=>{"error"in t&&n(0,r=t.error)},[r,o,i,s,c,()=>s(""),function(){o=this.value,n(1,o)},()=>{c()&&i()}]}class ve extends Ot{constructor(t){super(),jt(this,t,ye,ge,s,{error:0})}}function me(e){let n,r,o,i,s,c,l,u,f,p,h,d,g,y,v,m,b,w,x,k,$,_,T,j,I,B,U,P,M;return{c(){n=D("div"),r=D("div"),o=O("Create a Guns N' Goose Account"),i=N(),s=D("div"),c=O(e[0]),l=N(),u=D("div"),f=D("span"),p=O("Change username"),h=N(),d=D("input"),y=N(),v=D("input"),b=N(),w=D("button"),x=O("Create account"),k=N(),$=D("div"),_=O("By proceeding, you agree to the "),T=D("a"),j=O("Terms of Service"),I=O(" and "),B=D("a"),U=O("Privacy Notice"),this.h()},l(t){n=V(t,"DIV",{class:!0});var a=G(n);r=V(a,"DIV",{class:!0});var g=G(r);o=H(g,"Create a Guns N' Goose Account"),g.forEach(A),i=J(a),s=V(a,"DIV",{class:!0});var m=G(s);c=H(m,e[0]),m.forEach(A),l=J(a),u=V(a,"DIV",{class:!0});var S=G(u);f=V(S,"SPAN",{class:!0});var E=G(f);p=H(E,"Change username"),E.forEach(A),S.forEach(A),h=J(a),d=V(a,"INPUT",{type:!0,placeholder:!0,class:!0}),y=J(a),v=V(a,"INPUT",{type:!0,placeholder:!0,class:!0}),b=J(a),w=V(a,"BUTTON",{class:!0});var D=G(w);x=H(D,"Create account"),D.forEach(A),k=J(a),$=V(a,"DIV",{class:!0});var O=G($);_=H(O,"By proceeding, you agree to the "),T=V(O,"A",{class:!0,href:!0});var N=G(T);j=H(N,"Terms of Service"),N.forEach(A),I=H(O," and "),B=V(O,"A",{class:!0,href:!0});var C=G(B);U=H(C,"Privacy Notice"),C.forEach(A),O.forEach(A),a.forEach(A),this.h()},h(){q(r,"class","w-full mb-4 text-center font-bold text-3xl"),q(s,"class","w-full text-center text-2xl"),q(f,"class","cursor-pointer hover:underline"),q(u,"class","w-full mb-4 text-center font-light text-blue-700"),q(d,"type","password"),q(d,"placeholder","Password"),q(d,"class",g=(e[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(v,"type","password"),q(v,"placeholder","Repeat password"),q(v,"class",m=(e[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(w,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),q(T,"class","underline"),q(T,"href","/terms-of-service"),q(B,"class","underline"),q(B,"href","/privacy-notice"),q($,"class","w-full text-center text-gray-400 text-thin text-sm"),q(n,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(t,a){E(t,n,a),S(n,r),S(r,o),S(n,i),S(n,s),S(s,c),S(n,l),S(n,u),S(u,f),S(f,p),S(n,h),S(n,d),z(d,e[2]),S(n,y),S(n,v),z(v,e[3]),S(n,b),S(n,w),S(w,x),S(n,k),S(n,$),S($,_),S($,T),S(T,j),S($,I),S($,B),S(B,U),P||(M=[C(f,"click",e[5]),C(d,"change",e[8]),C(d,"input",e[9]),C(v,"change",e[10]),C(v,"input",e[11]),C(w,"click",e[12])],P=!0)},p(t,[e]){1&e&&R(c,t[0]),2&e&&g!==(g=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&q(d,"class",g),4&e&&d.value!==t[2]&&z(d,t[2]),2&e&&m!==(m=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5")&&q(v,"class",m),8&e&&v.value!==t[3]&&z(v,t[3])},i:t,o:t,d(t){t&&A(n),P=!1,a(M)}}}function be(t,e,n){let{username:r}=e,{error:o}=e,a="",i="";const s=nt(),c=()=>{s("register",{password:a})},l=t=>{s("error",{error:t})},u=()=>{if(a)if(a.match(/(?=.{10,})/))if(a.match(/(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[^A-Za-z0-9])/)){if(a===i)return!0;l("The passwords do not match.")}else l("The password must contain at least one lowercase letter, uppercase letter, number and special character.");else l("The password must be at least 10 characters long.");else l("A password is required to create an account.");return!1};return t.$$set=t=>{"username"in t&&n(0,r=t.username),"error"in t&&n(1,o=t.error)},[r,o,a,i,c,()=>{s("reset")},l,u,()=>l(""),function(){a=this.value,n(2,a)},()=>l(""),function(){i=this.value,n(3,i)},()=>{u()&&c()}]}class we extends Ot{constructor(t){super(),jt(this,t,be,me,s,{username:0,error:1})}}function xe(e){let n,r;return{c(){n=D("img"),this.h()},l(t){n=V(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){q(n,"class","rounded-xl w-1/3 m-auto border-3 border-gray-700"),l(n.src,r="https://avatars.dicebear.com/api/adventurer-neutral/"+e[0]+".svg")||q(n,"src",r),q(n,"alt","user")},m(t,e){E(t,n,e)},p(t,[e]){1&e&&!l(n.src,r="https://avatars.dicebear.com/api/adventurer-neutral/"+t[0]+".svg")&&q(n,"src",r)},i:t,o:t,d(t){t&&A(n)}}}function ke(t,e,n){let{username:r}=e;return t.$$set=t=>{"username"in t&&n(0,r=t.username)},[r]}class $e extends Ot{constructor(t){super(),jt(this,t,ke,xe,s,{username:0})}}function _e(t){let e,n,r,o,i,s,c,l,u,f,p,h,d,g,y,v,m,b,w,x,k,$,_,T,j,I;return n=new $e({props:{username:t[0]}}),{c(){e=D("div"),Et(n.$$.fragment),r=N(),o=D("div"),i=O(t[0]),s=N(),c=D("div"),l=D("span"),u=O("Use different account"),f=N(),p=D("input"),d=N(),g=D("button"),y=O("Login"),v=N(),m=D("div"),b=O("By proceeding, you agree to the "),w=D("a"),x=O("Terms of Service"),k=O(" and "),$=D("a"),_=O("Privacy Notice"),this.h()},l(a){e=V(a,"DIV",{class:!0});var h=G(e);At(n.$$.fragment,h),r=J(h),o=V(h,"DIV",{class:!0});var S=G(o);i=H(S,t[0]),S.forEach(A),s=J(h),c=V(h,"DIV",{class:!0});var E=G(c);l=V(E,"SPAN",{class:!0});var T=G(l);u=H(T,"Use different account"),T.forEach(A),E.forEach(A),f=J(h),p=V(h,"INPUT",{type:!0,placeholder:!0,class:!0}),d=J(h),g=V(h,"BUTTON",{class:!0});var D=G(g);y=H(D,"Login"),D.forEach(A),v=J(h),m=V(h,"DIV",{class:!0});var j=G(m);b=H(j,"By proceeding, you agree to the "),w=V(j,"A",{class:!0,href:!0});var O=G(w);x=H(O,"Terms of Service"),O.forEach(A),k=H(j," and "),$=V(j,"A",{class:!0,href:!0});var N=G($);_=H(N,"Privacy Notice"),N.forEach(A),j.forEach(A),h.forEach(A),this.h()},h(){q(o,"class","w-full text-center text-2xl"),q(l,"class","cursor-pointer hover:underline"),q(c,"class","w-full mb-4 text-center font-light text-blue-700"),q(p,"type","password"),q(p,"placeholder","Password"),q(p,"class",h=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(g,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),q(w,"class","underline"),q(w,"href","/terms-of-service"),q($,"class","underline"),q($,"href","/privacy-notice"),q(m,"class","w-full text-center text-gray-400 text-thin text-sm"),q(e,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(a,h){E(a,e,h),Tt(n,e,null),S(e,r),S(e,o),S(o,i),S(e,s),S(e,c),S(c,l),S(l,u),S(e,f),S(e,p),z(p,t[2]),S(e,d),S(e,g),S(g,y),S(e,v),S(e,m),S(m,b),S(m,w),S(w,x),S(m,k),S(m,$),S($,_),T=!0,j||(I=[C(l,"click",t[4]),C(p,"change",t[6]),C(p,"input",t[7]),C(g,"click",t[3])],j=!0)},p(t,[e]){const r={};1&e&&(r.username=t[0]),n.$set(r),(!T||1&e)&&R(i,t[0]),(!T||2&e&&h!==(h=(t[1]?"border-rose-600":"border-gray-300")+" w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"))&&q(p,"class",h),4&e&&p.value!==t[2]&&z(p,t[2])},i(t){T||(xt(n.$$.fragment,t),T=!0)},o(t){kt(n.$$.fragment,t),T=!1},d(t){t&&A(e),Dt(n),j=!1,a(I)}}}function Se(t,e,n){let r,{username:o}=e,{error:a}=e;const i=nt(),s=t=>{i("error",{error:t})};return t.$$set=t=>{"username"in t&&n(0,o=t.username),"error"in t&&n(1,a=t.error)},[o,a,r,()=>{i("login",{password:r})},()=>{i("reset")},s,()=>s(""),function(){r=this.value,n(2,r)}]}class Ee extends Ot{constructor(t){super(),jt(this,t,Se,_e,s,{username:0,error:1})}}function Ae(t){const e=t-1;return e*e*e+1}function Te(t,{delay:n=0,duration:r=400,easing:o=e}={}){const a=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*a}}function De(t,{delay:e=0,duration:n=400,easing:r=Ae,x:o=0,y:a=0,opacity:i=0}={}){const s=getComputedStyle(t),c=+s.opacity,l="none"===s.transform?"":s.transform,u=c*(1-i);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*o}px, ${(1-t)*a}px);\n\t\t\topacity: ${c-u*e}`}}function je(t){let e,n,r,o,a,i,s,c,l;return{c(){e=D("div"),n=D("div"),r=j("svg"),o=j("path"),a=N(),i=D("div"),s=O(t[0]),this.h()},l(c){e=V(c,"DIV",{id:!0,class:!0,role:!0});var l=G(e);n=V(l,"DIV",{class:!0});var u=G(n);r=M(u,"svg",{class:!0,fill:!0,viewBox:!0,xmlns:!0});var f=G(r);o=M(f,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),G(o).forEach(A),f.forEach(A),u.forEach(A),a=J(l),i=V(l,"DIV",{class:!0});var p=G(i);s=H(p,t[0]),p.forEach(A),l.forEach(A),this.h()},h(){q(o,"fill-rule","evenodd"),q(o,"d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"),q(o,"clip-rule","evenodd"),q(r,"class","w-5 h-5"),q(r,"fill","currentColor"),q(r,"viewBox","0 0 20 20"),q(r,"xmlns","http://www.w3.org/2000/svg"),q(n,"class","inline-flex flex-shrink-0 justify-center items-center w-8 h-8 text-red-500 bg-red-100 rounded-lg dark:bg-red-800 dark:text-red-200"),q(i,"class","ml-3 text-sm font-normal"),q(e,"id","toast-danger"),q(e,"class","absolute bottom-0 left-1/2 -translate-x-1/2 flex items-center p-4 mb-4 w-full max-w-xs text-gray-500 bg-white rounded-lg shadow dark:text-gray-400 dark:bg-gray-800"),q(e,"role","alert")},m(t,c){E(t,e,c),S(e,n),S(n,r),S(r,o),S(e,a),S(e,i),S(i,s),l=!0},p(t,[e]){(!l||1&e)&&R(s,t[0])},i(t){l||(lt((()=>{c||(c=_t(e,Te,{},!0)),c.run(1)})),l=!0)},o(t){c||(c=_t(e,Te,{},!1)),c.run(0),l=!1},d(t){t&&A(e),t&&c&&c.end()}}}function Oe(t,e,n){let{error:r}=e;return t.$$set=t=>{"error"in t&&n(0,r=t.error)},[r]}class Ne extends Ot{constructor(t){super(),jt(this,t,Oe,je,s,{error:0})}}function Ie(t){let e,n;return e=new Ee({props:{username:t[0],error:t[2]}}),e.$on("login",t[7]),e.$on("reset",t[3]),e.$on("error",t[4]),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,r){Tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.username=t[0]),4&n&&(r.error=t[2]),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Ce(t){let e,n;return e=new we({props:{username:t[0],error:t[2]}}),e.$on("register",t[6]),e.$on("reset",t[3]),e.$on("error",t[4]),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,r){Tt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.username=t[0]),4&n&&(r.error=t[2]),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Be(t){let e,n;return e=new ve({props:{error:t[2]}}),e.$on("continue",t[5]),e.$on("error",t[4]),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,r){Tt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.error=t[2]),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function qe(t){let e,n;return e=new Ne({props:{error:t[2]}}),{c(){Et(e.$$.fragment)},l(t){At(e.$$.fragment,t)},m(t,r){Tt(e,t,r),n=!0},p(t,n){const r={};4&n&&(r.error=t[2]),e.$set(r)},i(t){n||(xt(e.$$.fragment,t),n=!0)},o(t){kt(e.$$.fragment,t),n=!1},d(t){Dt(e,t)}}}function Ge(t){let e,n,r,o,a,i,s;const c=[Be,Ce,Ie],l=[];function u(t,e){return 0==t[1]?0:1==t[1]?1:2}o=u(t),a=l[o]=c[o](t);let f=t[2]&&qe(t);return{c(){e=N(),n=D("div"),r=D("div"),a.c(),i=N(),f&&f.c(),this.h()},l(t){F('[data-svelte="svelte-9i4gyv"]',document.head).forEach(A),e=J(t),n=V(t,"DIV",{class:!0});var o=G(n);r=V(o,"DIV",{class:!0});var s=G(r);a.l(s),s.forEach(A),i=J(o),f&&f.l(o),o.forEach(A),this.h()},h(){document.title="Guns N' Goose - Authentication",q(r,"class","w-2/6 place-self-center drop-shadow"),q(n,"class","w-screen h-screen grid")},m(t,a){E(t,e,a),E(t,n,a),S(n,r),l[o].m(r,null),S(n,i),f&&f.m(n,null),s=!0},p(t,[e]){let i=o;o=u(t),o===i?l[o].p(t,e):(bt(),kt(l[i],1,1,(()=>{l[i]=null})),wt(),a=l[o],a?a.p(t,e):(a=l[o]=c[o](t),a.c()),xt(a,1),a.m(r,null)),t[2]?f?(f.p(t,e),4&e&&xt(f,1)):(f=qe(t),f.c(),xt(f,1),f.m(n,null)):f&&(bt(),kt(f,1,1,(()=>{f=null})),wt())},i(t){s||(xt(a),xt(f),s=!0)},o(t){kt(a),kt(f),s=!1},d(t){t&&A(e),t&&A(n),l[o].d(),f&&f.d()}}}function Ue(t,e,n){let r="",o=0,a="";const i=t=>{Jt.auth(r,t.detail.password,(({err:t})=>{t?n(2,a=t):window.location.reload()}))};return[r,o,a,()=>{n(0,r=""),n(1,o=0),n(2,a="")},t=>{n(2,a=t.detail.error)},t=>{n(0,r=t.detail.username),Ht.get(`~@${r}`).once((t=>{n(1,o=t?2:1)}))},t=>{Jt.create(r,t.detail.password,(({err:e})=>{e?n(2,a=e):(Ht.get("leaderboard").get(r).put(1e3),i(t))}))},i]}class Pe extends Ot{constructor(t){super(),jt(this,t,Ue,Ge,s,{})}}function Ve(e){let n,r,o;return{c(){n=N(),r=D("h1"),o=O("About"),this.h()},l(t){F('[data-svelte="svelte-1mwg22y"]',document.head).forEach(A),n=J(t),r=V(t,"H1",{});var e=G(r);o=H(e,"About"),e.forEach(A),this.h()},h(){document.title="Guns N' Goose - About"},m(t,e){E(t,n,e),E(t,r,e),S(r,o)},p:t,i:t,o:t,d(t){t&&A(n),t&&A(r)}}}class Me extends Ot{constructor(t){super(),jt(this,t,null,Ve,s,{})}}function He(e){let n,r,o;return{c(){n=N(),r=D("h1"),o=O("Terms of Service"),this.h()},l(t){F('[data-svelte="svelte-5lzbyb"]',document.head).forEach(A),n=J(t),r=V(t,"H1",{});var e=G(r);o=H(e,"Terms of Service"),e.forEach(A),this.h()},h(){document.title="Guns N' Goose - Terms of Servic"},m(t,e){E(t,n,e),E(t,r,e),S(r,o)},p:t,i:t,o:t,d(t){t&&A(n),t&&A(r)}}}class Je extends Ot{constructor(t){super(),jt(this,t,null,He,s,{})}}function Re(e){let n,r,o;return{c(){n=N(),r=D("h1"),o=O("Privacy Notice"),this.h()},l(t){F('[data-svelte="svelte-ugqy5b"]',document.head).forEach(A),n=J(t),r=V(t,"H1",{});var e=G(r);o=H(e,"Privacy Notice"),e.forEach(A),this.h()},h(){document.title="Guns N' Goose - Privacy Notice"},m(t,e){E(t,n,e),E(t,r,e),S(r,o)},p:t,i:t,o:t,d(t){t&&A(n),t&&A(r)}}}class ze extends Ot{constructor(t){super(),jt(this,t,null,Re,s,{})}}function Ke(e){let n,r,o,i,s,c,l,u,f,p,h,d,g,y,v,m,b,w;return{c(){n=D("div"),r=D("div"),o=O("Add a Chat"),i=N(),s=D("div"),c=N(),l=D("form"),u=D("input"),f=N(),p=D("input"),h=N(),d=D("button"),g=O("Open Chat"),y=N(),v=D("div"),m=O("Make sure you got everything right!"),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=V(e,"DIV",{class:!0});var a=G(r);o=H(a,"Add a Chat"),a.forEach(A),i=J(e),s=V(e,"DIV",{class:!0}),G(s).forEach(A),c=J(e),l=V(e,"FORM",{});var b=G(l);u=V(b,"INPUT",{type:!0,placeholder:!0,class:!0}),f=J(b),p=V(b,"INPUT",{type:!0,placeholder:!0,class:!0}),h=J(b),d=V(b,"BUTTON",{class:!0});var w=G(d);g=H(w,"Open Chat"),w.forEach(A),y=J(b),v=V(b,"DIV",{class:!0});var x=G(v);m=H(x,"Make sure you got everything right!"),x.forEach(A),b.forEach(A),e.forEach(A),this.h()},h(){q(r,"class","w-full mb-4 text-center font-bold text-3xl"),q(s,"class","w-full text-center text-2xl"),q(u,"type","text"),q(u,"placeholder","ChatID"),q(u,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(p,"type","password"),q(p,"placeholder","Your shared private key"),q(p,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(d,"class","w-full mb-4 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center"),q(v,"class","w-full text-center text-gray-400 text-thin text-sm"),q(n,"class","w-full h-auto bg-white rounded-xl px-12 py-6")},m(t,a){E(t,n,a),S(n,r),S(r,o),S(n,i),S(n,s),S(n,c),S(n,l),S(l,u),z(u,e[2]),S(l,f),S(l,p),z(p,e[3]),S(l,h),S(l,d),S(d,g),S(l,y),S(l,v),S(v,m),b||(w=[C(u,"input",e[4]),C(p,"input",e[5]),C(l,"submit",B(e[6]))],b=!0)},p(t,[e]){4&e&&u.value!==t[2]&&z(u,t[2]),8&e&&p.value!==t[3]&&z(p,t[3])},i:t,o:t,d(t){t&&A(n),b=!1,a(w)}}}function Le(t,e,n){let r,o,a,i;return u(t,Rt,(t=>n(0,r=t))),u(t,Ft,(t=>n(1,o=t))),u(t,Kt,(t=>n(2,a=t))),u(t,Lt,(t=>n(3,i=t))),[r,o,a,i,function(){a=this.value,Kt.set(a)},function(){i=this.value,Lt.set(i)},t=>{r&&p(Ft,o="messages",o)}]}class Fe extends Ot{constructor(t){super(),jt(this,t,Le,Ke,s,{})}}function We(e){let n,r,o,a,i,s,c,l,u,f,p=e[0].what+"",h=e[0].who+"";return{c(){n=D("div"),r=D("div"),o=D("span"),a=O(p),s=N(),c=D("div"),l=D("small"),u=O(h),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=V(e,"DIV",{class:!0});var i=G(r);o=V(i,"SPAN",{});var f=G(o);a=H(f,p),f.forEach(A),i.forEach(A),s=J(e),c=V(e,"DIV",{class:!0});var d=G(c);l=V(d,"SMALL",{class:!0});var g=G(l);u=H(g,h),g.forEach(A),d.forEach(A),e.forEach(A),this.h()},h(){q(r,"class",i="inline-block "+(`${e[1]}`===e[0].who?"bg-blue-300":"bg-gray-300")+" rounded-full p-2 px-6 text-gray-700"),q(l,"class","text-gray-500"),q(c,"class","pl-4"),q(n,"class",f="mb-4 flex-1 "+(`${e[1]}`===e[0].who?"text-right":"text.left"))},m(t,e){E(t,n,e),S(n,r),S(r,o),S(o,a),S(n,s),S(n,c),S(c,l),S(l,u)},p(t,[e]){1&e&&p!==(p=t[0].what+"")&&R(a,p),3&e&&i!==(i="inline-block "+(`${t[1]}`===t[0].who?"bg-blue-300":"bg-gray-300")+" rounded-full p-2 px-6 text-gray-700")&&q(r,"class",i),1&e&&h!==(h=t[0].who+"")&&R(u,h),3&e&&f!==(f="mb-4 flex-1 "+(`${t[1]}`===t[0].who?"text-right":"text.left"))&&q(n,"class",f)},i:t,o:t,d(t){t&&A(n)}}}function Xe(t,e,n){let r;u(t,Rt,(t=>n(1,r=t)));let{message:o}=e;return t.$$set=t=>{"message"in t&&n(0,o=t.message)},[o,r]}class Ye extends Ot{constructor(t){super(),jt(this,t,Xe,We,s,{message:0})}}function Ze(t,e,n){const r=t.slice();return r[7]=e[n],r}function Qe(t,e){let n,r,o;return r=new Ye({props:{message:e[7]}}),{key:t,first:null,c(){n=I(),Et(r.$$.fragment),this.h()},l(t){n=I(),At(r.$$.fragment,t),this.h()},h(){this.first=n},m(t,e){E(t,n,e),Tt(r,t,e),o=!0},p(t,n){e=t;const o={};2&n&&(o.message=e[7]),r.$set(o)},i(t){o||(xt(r.$$.fragment,t),o=!0)},o(t){kt(r.$$.fragment,t),o=!1},d(t){t&&A(n),Dt(r,t)}}}function tn(t){let e,n,r,o,i,s,c,l,u,f=[],p=new Map,h=t[1];const d=t=>t[7].when;for(let e=0;e<h.length;e+=1){let n=Ze(t,h,e),r=d(n);p.set(r,f[e]=Qe(r,n))}return{c(){e=D("div"),n=D("div");for(let t=0;t<f.length;t+=1)f[t].c();r=N(),o=D("div"),i=D("form"),s=D("input"),this.h()},l(t){e=V(t,"DIV",{class:!0});var a=G(e);n=V(a,"DIV",{class:!0});var c=G(n);for(let t=0;t<f.length;t+=1)f[t].l(c);c.forEach(A),r=J(a),o=V(a,"DIV",{class:!0});var l=G(o);i=V(l,"FORM",{});var u=G(i);s=V(u,"INPUT",{type:!0,placeholder:!0,class:!0,maxlength:!0}),u.forEach(A),l.forEach(A),a.forEach(A),this.h()},h(){q(n,"class","overflow-auto"),q(s,"type","text"),q(s,"placeholder","Type a message..."),q(s,"class","border-gray-300 w-full mb-4 bg-gray-50 border text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block p-2.5"),q(s,"maxlength","100"),q(o,"class","w-full "),q(e,"class","max-h-[70vh] overflow-auto grid-rows-2 rounded-xl bg-gradient-to-r bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 p-2 sm:p-6 overflow-auto")},m(a,p){E(a,e,p),S(e,n);for(let t=0;t<f.length;t+=1)f[t].m(n,null);S(e,r),S(e,o),S(o,i),S(i,s),z(s,t[0]),c=!0,l||(u=[C(s,"input",t[3]),C(i,"submit",B(t[2]))],l=!0)},p(t,[e]){2&e&&(h=t[1],bt(),f=function(t,e,n,r,o,a,i,s,c,l,u,f){let p=t.length,h=a.length,d=p;const g={};for(;d--;)g[t[d].key]=d;const y=[],v=new Map,m=new Map;for(d=h;d--;){const t=f(o,a,d),r=n(t);let s=i.get(r);s?s.p(t,e):(s=l(r,t),s.c()),v.set(r,y[d]=s),r in g&&m.set(r,Math.abs(d-g[r]))}const b=new Set,w=new Set;function x(t){xt(t,1),t.m(s,u),i.set(t.key,t),u=t.first,h--}for(;p&&h;){const e=y[h-1],n=t[p-1],r=e.key,o=n.key;e===n?(u=e.first,p--,h--):v.has(o)?!i.has(r)||b.has(r)?x(e):w.has(o)?p--:m.get(r)>m.get(o)?(w.add(r),x(e)):(b.add(o),p--):(c(n,i),p--)}for(;p--;){const e=t[p];v.has(e.key)||c(e,i)}for(;h;)x(y[h-1]);return y}(f,e,d,0,t,h,p,n,St,Qe,null,Ze),wt()),1&e&&s.value!==t[0]&&z(s,t[0])},i(t){if(!c){for(let t=0;t<h.length;t+=1)xt(f[t]);c=!0}},o(t){for(let t=0;t<f.length;t+=1)kt(f[t]);c=!1},d(t){t&&A(e);for(let t=0;t<f.length;t+=1)f[t].d();l=!1,a(u)}}}function en(t,e,n){let r,o;u(t,Kt,(t=>n(4,r=t))),u(t,Lt,(t=>n(5,o=t)));const a=GUN({peers:["http://localhost:8765/gun","https://gun-manhattan.herokuapp.com/gun"]});let i,s=[];return et().$$.on_mount.push((()=>{a.get(r).map().once((async(t,e)=>{if(t){var r={who:await a.user(t).get("alias"),what:await SEA.decrypt(t.what,o)+"",when:GUN.state.is(t,"what")};r.what&&n(1,s=[...s.slice(-100),r].sort(((t,e)=>t.when-e.when)))}}))})),[i,s,async function(){const t=await SEA.encrypt(i,o),e=Jt.get("all").set({what:t}),s=(new Date).toISOString();a.get(r).get(s).put(e),n(0,i="")},function(){i=this.value,n(0,i)}]}class nn extends Ot{constructor(t){super(),jt(this,t,en,tn,s,{})}}function rn(e){let n,r;return n=new Fe({}),{c(){Et(n.$$.fragment)},l(t){At(n.$$.fragment,t)},m(t,e){Tt(n,t,e),r=!0},p:t,i(t){r||(xt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function on(e){let n,r,o,a,i,s,c;return a=new nn({}),{c(){n=D("button"),r=O("New Chats"),o=N(),Et(a.$$.fragment)},l(t){n=V(t,"BUTTON",{});var e=G(n);r=H(e,"New Chats"),e.forEach(A),o=J(t),At(a.$$.fragment,t)},m(t,l){E(t,n,l),S(n,r),E(t,o,l),Tt(a,t,l),i=!0,s||(c=C(n,"click",e[1]),s=!0)},p:t,i(t){i||(xt(a.$$.fragment,t),i=!0)},o(t){kt(a.$$.fragment,t),i=!1},d(t){t&&A(n),t&&A(o),Dt(a,t),s=!1,c()}}}function an(t){let e,n,r,o,a,i,s;const c=[on,rn],l=[];function u(t,e){return"messages"===t[0]?0:"add_chat"===t[0]?1:-1}return~(a=u(t))&&(i=l[a]=c[a](t)),{c(){e=N(),n=D("div"),r=D("div"),o=D("div"),i&&i.c(),this.h()},l(t){F('[data-svelte="svelte-mqt12h"]',document.head).forEach(A),e=J(t),n=V(t,"DIV",{class:!0});var a=G(n);r=V(a,"DIV",{class:!0});var s=G(r);o=V(s,"DIV",{class:!0});var c=G(o);i&&i.l(c),c.forEach(A),s.forEach(A),a.forEach(A),this.h()},h(){document.title="Guns N' Goose - Chat",q(o,"class","w-full overflow-y-auto bg-grey mx-3"),q(r,"class","w-full max-h-screen bg-white rounded-xl px-12 py-6"),q(n,"class","w-10/12 place-self-center drop-shadow")},m(t,i){E(t,e,i),E(t,n,i),S(n,r),S(r,o),~a&&l[a].m(o,null),s=!0},p(t,[e]){let n=a;a=u(t),a===n?~a&&l[a].p(t,e):(i&&(bt(),kt(l[n],1,1,(()=>{l[n]=null})),wt()),~a?(i=l[a],i?i.p(t,e):(i=l[a]=c[a](t),i.c()),xt(i,1),i.m(o,null)):i=null)},i(t){s||(xt(i),s=!0)},o(t){kt(i),s=!1},d(t){t&&A(e),t&&A(n),~a&&l[a].d()}}}function sn(t,e,n){let r;return u(t,Ft,(t=>n(0,r=t))),[r,()=>{p(Ft,r="add_chat",r)}]}class cn extends Ot{constructor(t){super(),jt(this,t,sn,an,s,{})}}function ln(e){let n,r,o,a,i,s,c,u,f,p,h,d,g,y,v,m,b,w,x,k,$,_=e[2][e[1]]+"";return{c(){n=D("nav"),r=D("div"),o=D("a"),a=D("img"),s=N(),c=D("div"),u=D("div"),f=D("div"),p=O(e[1]),h=D("br"),d=N(),g=O(_),y=N(),v=D("img"),b=N(),w=D("button"),x=O("Logout"),this.h()},l(t){n=V(t,"NAV",{class:!0});var i=G(n);r=V(i,"DIV",{class:!0});var l=G(r);o=V(l,"A",{href:!0,class:!0});var m=G(o);a=V(m,"IMG",{class:!0,src:!0,alt:!0}),m.forEach(A),l.forEach(A),s=J(i),c=V(i,"DIV",{class:!0});var k=G(c);u=V(k,"DIV",{class:!0});var $=G(u);f=V($,"DIV",{class:!0});var S=G(f);p=H(S,e[1]),h=V(S,"BR",{}),d=J(S),g=H(S,_),S.forEach(A),y=J($),v=V($,"IMG",{class:!0,src:!0,alt:!0}),b=J($),w=V($,"BUTTON",{type:!0,class:!0});var E=G(w);x=H(E,"Logout"),E.forEach(A),$.forEach(A),k.forEach(A),i.forEach(A),this.h()},h(){q(a,"class","h-full"),l(a.src,i="/guns-n-goose/static/logo-text.svg")||q(a,"src","/guns-n-goose/static/logo-text.svg"),q(a,"alt","logo"),q(o,"href",e[0]),q(o,"class","h-full"),q(r,"class","h-full float-left"),q(f,"class","mr-4 text-right"),q(v,"class","mr-4 h-full rounded-xl"),l(v.src,m="https://avatars.dicebear.com/api/adventurer-neutral/"+e[1]+".svg")||q(v,"src",m),q(v,"alt","user"),q(w,"type","button"),q(w,"class","text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5"),q(u,"class","h-full flex items-center justify-center"),q(c,"class","h-full float-right flex items-center justify-center py-4"),q(n,"class","w-auto h-20 inset-x-6 top-6 px-4 fixed bg-white rounded-lg shadow")},m(t,i){E(t,n,i),S(n,r),S(r,o),S(o,a),S(n,s),S(n,c),S(c,u),S(u,f),S(f,p),S(f,h),S(f,d),S(f,g),S(u,y),S(u,v),S(u,b),S(u,w),S(w,x),k||($=C(w,"click",e[3]),k=!0)},p(t,[e]){1&e&&q(o,"href",t[0]),2&e&&R(p,t[1]),6&e&&_!==(_=t[2][t[1]]+"")&&R(g,_),2&e&&!l(v.src,m="https://avatars.dicebear.com/api/adventurer-neutral/"+t[1]+".svg")&&q(v,"src",m)},i:t,o:t,d(t){t&&A(n),k=!1,$()}}}function un(t,e,n){let r,o,a;return u(t,Wt,(t=>n(0,r=t))),u(t,Rt,(t=>n(1,o=t))),u(t,zt,(t=>n(2,a=t))),[r,o,a,()=>{Jt.leave(),Rt.set(""),window.location.reload()}]}class fn extends Ot{constructor(t){super(),jt(this,t,un,ln,s,{})}}const pn=Vt(0),hn=Vt(0),dn=Vt(0),gn=Vt(0);function yn(t){x(t,"svelte-1ly5qip","body{background-image:url(\"https://cdn.pixabay.com/photo/2015/12/03/08/50/paper-1074131_1280.jpg\")}h2.svelte-1ly5qip.svelte-1ly5qip{font-size:2em;font-family:'Shadows Into Light'}.roll.svelte-1ly5qip.svelte-1ly5qip{position:relative;background:rgb(75, 84, 87);border-radius:50%;width:300px;height:300px}.loaded.svelte-1ly5qip.svelte-1ly5qip{display:block;position:absolute;top:50%;left:51%;width:100px;height:100px;margin:-51px;background:gold;border-radius:51%;text-align:center;line-height:100px}.empty.svelte-1ly5qip.svelte-1ly5qip{display:block;position:absolute;top:50%;left:51%;width:100px;height:100px;margin:-51px;background:rgb(158, 158, 156);border-radius:51%;text-align:center;line-height:100px}.death.svelte-1ly5qip.svelte-1ly5qip{position:relative;top:100px;right:-120px;width:70px}.deg-0.svelte-1ly5qip.svelte-1ly5qip{transform:translate(100px)\n\t}.deg-60.svelte-1ly5qip.svelte-1ly5qip{transform:rotate(60deg) translate(100px) rotate(-60deg)}.deg-120.svelte-1ly5qip.svelte-1ly5qip{transform:rotate(120deg) translate(100px) rotate(-120deg)}.deg-180.svelte-1ly5qip.svelte-1ly5qip{transform:rotate(180deg) translate(100px) rotate(-180deg)}.deg-240.svelte-1ly5qip.svelte-1ly5qip{transform:rotate(240deg) translate(100px) rotate(-240deg)}.deg-300.svelte-1ly5qip.svelte-1ly5qip{transform:rotate(300deg) translate(100px) rotate(-300deg)}.stripe.svelte-1ly5qip.svelte-1ly5qip{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(25, 25, 25, 0.6) 10%, \n\t\t\t#4c4c4c 10%, #4c4c4c 20%);background-size:100%;transition:background 0.3s ease-in-out}.stripe.svelte-1ly5qip.svelte-1ly5qip:hover{background-position:150px}.bubble.svelte-1ly5qip.svelte-1ly5qip{border-radius:40px;position:relative;right:-300px;top:-500px;background-size:100%}.bubble2.svelte-1ly5qip.svelte-1ly5qip{place-self:start}.text.svelte-1ly5qip.svelte-1ly5qip{right:-10px}.bubble.svelte-1ly5qip svg.svelte-1ly5qip{overflow:visible;position:var(--position, absolute);left:var(--left, 0);z-index:-1}rect.svelte-1ly5qip.svelte-1ly5qip,path.svelte-1ly5qip.svelte-1ly5qip{fill:var(--fill-color, rgba(255, 255, 255, 0));stroke:#000000;stroke-width:3px;stroke-linejoin:round}.stripe.svelte-1ly5qip.svelte-1ly5qip{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(25, 25, 25, 0.6) 10%, \n\t\t\t#4c4c4c 10%, #4c4c4c 20%);background-size:100%;transition:background 0.3s ease-in-out}.stripe.svelte-1ly5qip.svelte-1ly5qip:hover{background-position:150px}.end.svelte-1ly5qip.svelte-1ly5qip{border-radius:40px;position:relative;font-size:3em;font-family:'Shadows Into Light';right:-200px;height:100px;width:200px;border:2px solid #000000;color:#000000;background-image:repeating-linear-gradient(90deg, \n\t\t\trgba(20, 25, 25, 0.6),\n\t\t\trgba(128, 182, 59, 0.6) 10%, \n\t\t\t#a9f38b 10%, #008a0b 20%);background-size:100%;transition:background 0.3s ease-in-out}.end.svelte-1ly5qip.svelte-1ly5qip:hover{background-position:150px}.earnings.svelte-1ly5qip.svelte-1ly5qip{font-size:2.5em;top:-90%}")}function vn(t,e,n){const r=t.slice();return r[17]=e[n],r[18]=e,r[19]=n,r}function mn(t){let e,n,r,o,a,i,s,c,u,f,p,h,d,g,y,v,m,b,w,x,k,$,_=t[1],I=[];for(let e=0;e<_.length;e+=1)I[e]=bn(vn(t,_,e));function C(t,e){return 6==t[3]?kn:0==t[3]?xn:wn}let B=C(t),U=B(t);return{c(){e=D("div"),n=D("div"),r=D("div"),o=D("div");for(let t=0;t<I.length;t+=1)I[t].c();a=N(),U.c(),i=N(),s=D("div"),c=D("div"),u=D("div"),f=D("img"),h=N(),d=D("div"),g=D("div"),y=j("svg"),v=j("rect"),m=j("path"),x=N(),k=D("h2"),$=O("How much do you dare?"),this.h()},l(t){e=V(t,"DIV",{class:!0});var l=G(e);n=V(l,"DIV",{class:!0});var p=G(n);r=V(p,"DIV",{class:!0});var b=G(r);o=V(b,"DIV",{class:!0});var w=G(o);for(let t=0;t<I.length;t+=1)I[t].l(w);a=J(w),U.l(w),w.forEach(A),b.forEach(A),p.forEach(A),i=J(l),s=V(l,"DIV",{class:!0});var _=G(s);c=V(_,"DIV",{class:!0});var S=G(c);u=V(S,"DIV",{class:!0});var E=G(u);f=V(E,"IMG",{class:!0,src:!0,alt:!0}),h=J(E),d=V(E,"DIV",{class:!0});var T=G(d);g=V(T,"DIV",{class:!0});var D=G(g);y=M(D,"svg",{width:!0,height:!0,viewBox:!0,class:!0});var j=G(y);v=M(j,"rect",{x:!0,y:!0,width:!0,height:!0,rx:!0,class:!0}),G(v).forEach(A),m=M(j,"path",{d:!0,class:!0}),G(m).forEach(A),j.forEach(A),x=J(D),k=V(D,"H2",{class:!0});var O=G(k);$=H(O,"How much do you dare?"),O.forEach(A),D.forEach(A),T.forEach(A),E.forEach(A),S.forEach(A),_.forEach(A),l.forEach(A),this.h()},h(){q(o,"class","roll svelte-1ly5qip"),q(r,"class","place-self-center"),q(n,"class","w-full h-1/2 grid"),q(f,"class","h-full relative"),l(f.src,p="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/pirate-3123711.svg")||q(f,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/pirate-3123711.svg"),q(f,"alt","Pirate"),q(v,"x","0"),q(v,"y","0"),q(v,"width",Tn),q(v,"height",Dn),q(v,"rx","5"),q(v,"class","svelte-1ly5qip"),q(m,"d",b="M"+2*t[0]+","+Dn+" h-"+t[0]+" v"+t[0]+" Z"),q(m,"class","svelte-1ly5qip"),q(y,"width",Tn),q(y,"height",Dn),q(y,"viewBox",w="0 0 "+Tn+" "+Dn),q(y,"class","svelte-1ly5qip"),q(k,"class","relative text svelte-1ly5qip"),q(g,"class","bubble2 svelte-1ly5qip"),q(d,"class","relative h-1/2 bubble svelte-1ly5qip"),q(u,"class","h-1/2 absolute bottom-0"),q(c,"class","h-1/2 place-self-center"),q(s,"class","w-full h-1/2 grid"),q(e,"class","w-1/2 h-full place-self-center")},m(t,l){E(t,e,l),S(e,n),S(n,r),S(r,o);for(let t=0;t<I.length;t+=1)I[t].m(o,null);S(o,a),U.m(o,null),S(e,i),S(e,s),S(s,c),S(c,u),S(u,f),S(u,h),S(u,d),S(d,g),S(g,y),S(y,v),S(y,m),S(g,x),S(g,k),S(k,$)},p(t,e){if(258&e){let n;for(_=t[1],n=0;n<_.length;n+=1){const r=vn(t,_,n);I[n]?I[n].p(r,e):(I[n]=bn(r),I[n].c(),I[n].m(o,a))}for(;n<I.length;n+=1)I[n].d(1);I.length=_.length}B===(B=C(t))&&U?U.p(t,e):(U.d(1),U=B(t),U&&(U.c(),U.m(o,null))),1&e&&b!==(b="M"+2*t[0]+","+Dn+" h-"+t[0]+" v"+t[0]+" Z")&&q(m,"d",b)},d(t){t&&A(e),T(I,t),U.d()}}}function bn(t){let e,n,r,o;function a(){return t[10](t[17],t[18],t[19])}return{c(){e=D("button"),this.h()},l(t){e=V(t,"BUTTON",{class:!0}),G(e).forEach(A),this.h()},h(){q(e,"class",n=f(t[17].selected?"loaded "+t[17].class:"empty "+t[17].class)+" svelte-1ly5qip")},m(t,n){E(t,e,n),r||(o=C(e,"click",a),r=!0)},p(r,o){t=r,2&o&&n!==(n=f(t[17].selected?"loaded "+t[17].class:"empty "+t[17].class)+" svelte-1ly5qip")&&q(e,"class",n)},d(t){t&&A(e),r=!1,o()}}}function wn(e){let n,r,o,a;return{c(){n=D("button"),r=O("Ready"),this.h()},l(t){n=V(t,"BUTTON",{class:!0});var e=G(n);r=H(e,"Ready"),e.forEach(A),this.h()},h(){q(n,"class","stripe svelte-1ly5qip")},m(t,i){E(t,n,i),S(n,r),o||(a=C(n,"click",e[11]),o=!0)},p:t,d(t){t&&A(n),o=!1,a()}}}function xn(e){let n,r,o;return{c(){n=D("div"),r=D("h2"),o=O("Scared, are we?"),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=V(e,"H2",{style:!0,class:!0});var a=G(r);o=H(a,"Scared, are we?"),a.forEach(A),e.forEach(A),this.h()},h(){K(r,"position","relative"),K(r,"right","300px"),K(r,"top","-150px"),q(r,"class","svelte-1ly5qip"),q(n,"class","death svelte-1ly5qip")},m(t,e){E(t,n,e),S(n,r),S(r,o)},p:t,d(t){t&&A(n)}}}function kn(e){let n,r,o,a,i,s;return{c(){n=D("div"),r=D("img"),a=N(),i=D("h2"),s=O("Are you suicidal, mate?"),this.h()},l(t){n=V(t,"DIV",{class:!0});var e=G(n);r=V(e,"IMG",{src:!0,alt:!0}),a=J(e),i=V(e,"H2",{style:!0,class:!0});var o=G(i);s=H(o,"Are you suicidal, mate?"),o.forEach(A),e.forEach(A),this.h()},h(){l(r.src,o="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/sugar-skull-1782019.svg")||q(r,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/sugar-skull-1782019.svg"),q(r,"alt","Instant death"),K(i,"position","relative"),K(i,"right","-300px"),K(i,"top","-150px"),q(i,"class","svelte-1ly5qip"),q(n,"class","death svelte-1ly5qip")},m(t,e){E(t,n,e),S(n,r),S(n,a),S(n,i),S(i,s)},p:t,d(t){t&&A(n)}}}function $n(t){let e,n,r,o,a,i,s,c,l,u,f,p=1==t[2]&&_n();function h(t,e){return!(1==t[6])&1==t[2]?En:1==t[6]&1==t[2]?Sn:void 0}let d=h(t),g=d&&d(t);return{c(){e=D("div"),n=D("div"),r=D("div"),o=D("div"),a=D("h2"),i=O("Your earnings: "),s=O(t[4]),c=O("$"),l=N(),p&&p.c(),u=N(),g&&g.c(),this.h()},l(f){e=V(f,"DIV",{});var h=G(e);n=V(h,"DIV",{class:!0});var d=G(n);r=V(d,"DIV",{class:!0});var y=G(r);o=V(y,"DIV",{class:!0});var v=G(o);a=V(v,"H2",{class:!0});var m=G(a);i=H(m,"Your earnings: "),s=H(m,t[4]),c=H(m,"$"),m.forEach(A),v.forEach(A),l=J(y),p&&p.l(y),u=J(y),g&&g.l(y),y.forEach(A),d.forEach(A),h.forEach(A),this.h()},h(){q(a,"class","svelte-1ly5qip"),q(o,"class","earnings absolute svelte-1ly5qip"),q(r,"class","relative h-1/3 w-1/3 place-self-center"),q(n,"class","h-full w-full grid")},m(t,h){E(t,e,h),S(e,n),S(n,r),S(r,o),S(o,a),S(a,i),S(a,s),S(a,c),S(r,l),p&&p.m(r,null),S(r,u),g&&g.m(r,null),f=!0},p(t,e){(!f||16&e)&&R(s,t[4]),1==t[2]?p?4&e&&xt(p,1):(p=_n(),p.c(),xt(p,1),p.m(r,u)):p&&(bt(),kt(p,1,1,(()=>{p=null})),wt()),d===(d=h(t))&&g?g.p(t,e):(g&&g.d(1),g=d&&d(t),g&&(g.c(),g.m(r,null)))},i(t){f||(xt(p),f=!0)},o(t){kt(p),f=!1},d(t){t&&A(e),p&&p.d(),g&&g.d()}}}function _n(n){let r,o,s,c,u;return{c(){r=D("img"),this.h()},l(t){r=V(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){q(r,"class","h-full place-self-center"),l(r.src,o="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/Flying_goose.svg")||q(r,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/Flying_goose.svg"),q(r,"alt","Goose")},m(t,e){E(t,r,e),u=!0},i(n){u||(lt((()=>{c&&c.end(1),s=function(n,r,o){let a,s,c=r(n,{x:2e3,duration:3e3}),l=!1,u=0;function f(){a&&Q(n,a)}function p(){const{delay:r=0,duration:o=300,easing:i=e,tick:p=t,css:h}=c||$t;h&&(a=Z(n,0,1,o,r,i,h,u++)),p(0,1);const g=d()+r,y=g+o;s&&s.abort(),l=!0,lt((()=>yt(n,!0,"start"))),s=m((t=>{if(l){if(t>=y)return p(1,0),yt(n,!0,"end"),f(),l=!1;if(t>=g){const e=i((t-g)/o);p(e,1-e)}}return l}))}let h=!1;return{start(){h||(h=!0,Q(n),i(c)?(c=c(),gt().then(p)):p())},invalidate(){h=!1},end(){l&&(f(),l=!1)}}}(r,De),s.start()})),u=!0)},o(n){s&&s.invalidate(),c=function(n,r,o){let s,c=r(n,{x:-2e3,duration:4e3}),l=!0;const u=mt;function f(){const{delay:r=0,duration:o=300,easing:i=e,tick:f=t,css:p}=c||$t;p&&(s=Z(n,1,0,o,r,i,p));const h=d()+r,g=h+o;lt((()=>yt(n,!1,"start"))),m((t=>{if(l){if(t>=g)return f(0,1),yt(n,!1,"end"),--u.r||a(u.c),!1;if(t>=h){const e=i((t-h)/o);f(1-e,e)}}return l}))}return u.r+=1,i(c)?gt().then((()=>{c=c(),f()})):f(),{end(t){t&&c.tick&&c.tick(1,0),l&&(s&&Q(n,s),l=!1)}}}(r,De),u=!1},d(t){t&&A(r),t&&c&&c.end()}}}function Sn(e){let n,r;return{c(){n=D("img"),this.h()},l(t){n=V(t,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){q(n,"class","absolute top-0 place-self-center"),l(n.src,r="https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/1ff5d507a5622971efd84160ae58ca85-drop-pool-blood-splatter.png")||q(n,"src","https://raw.githubusercontent.com/guns-n-goose/russian-roulette-game/v.0.2/public/images/1ff5d507a5622971efd84160ae58ca85-drop-pool-blood-splatter.png"),q(n,"alt","blood")},m(t,e){E(t,n,e)},p:t,d(t){t&&A(n)}}}function En(e){let n,r,o,i,s,c,l;return{c(){n=D("button"),r=O("Shoot"),o=N(),i=D("button"),s=O("Cash out"),this.h()},l(t){n=V(t,"BUTTON",{class:!0});var e=G(n);r=H(e,"Shoot"),e.forEach(A),o=J(t),i=V(t,"BUTTON",{class:!0});var a=G(i);s=H(a,"Cash out"),a.forEach(A),this.h()},h(){q(n,"class","stripe svelte-1ly5qip"),q(i,"class","end svelte-1ly5qip")},m(t,a){E(t,n,a),S(n,r),E(t,o,a),E(t,i,a),S(i,s),c||(l=[C(n,"click",e[7]),C(i,"click",e[9])],c=!0)},p:t,d(t){t&&A(n),t&&A(o),t&&A(i),c=!1,a(l)}}}function An(t){let e,n,r,o,a=0==t[5]&&mn(t),i=1==t[5]&&$n(t);return{c(){e=N(),n=D("div"),a&&a.c(),r=N(),i&&i.c(),this.h()},l(t){F('[data-svelte="svelte-gvpiz4"]',document.head).forEach(A),e=J(t),n=V(t,"DIV",{class:!0});var o=G(n);a&&a.l(o),r=J(o),i&&i.l(o),o.forEach(A),this.h()},h(){document.title="Russian Roulette",q(n,"class","w-full h-full grid")},m(t,s){E(t,e,s),E(t,n,s),a&&a.m(n,null),S(n,r),i&&i.m(n,null),o=!0},p(t,[e]){0==t[5]?a?a.p(t,e):(a=mn(t),a.c(),a.m(n,r)):a&&(a.d(1),a=null),1==t[5]?i?(i.p(t,e),32&e&&xt(i,1)):(i=$n(t),i.c(),xt(i,1),i.m(n,null)):i&&(bt(),kt(i,1,1,(()=>{i=null})),wt())},i(t){o||(xt(i),o=!0)},o(t){kt(i),o=!1},d(t){t&&A(e),t&&A(n),a&&a.d(),i&&i.d()}}}let Tn=300,Dn=100;function jn(t,e,n){let r,o,a,i;u(t,pn,(t=>n(3,r=t))),u(t,gn,(t=>n(4,o=t))),u(t,hn,(t=>n(5,a=t))),u(t,dn,(t=>n(6,i=t)));let s=[{id:"1",class:"deg-0",selected:!0},{id:"2",class:"deg-60",selected:!1},{id:"3",class:"deg-120",selected:!1},{id:"4",class:"deg-180",selected:!1},{id:"5",class:"deg-240",selected:!1},{id:"6",class:"deg-300",selected:!1}];pn.set(1);let{tickSize:c=24}=e;const l=nt();let f=r,p=!0,h=[];for(let t=1;t<=6;t++)f>0?(h.push(1),f--):h.push(0);function d(t){if(t){let t=h.indexOf(0);h[t]=1,pn.update((t=>t+1))}else{let t=h.indexOf(1);h[t]=0,pn.update((t=>t-1))}}return t.$$set=t=>{"tickSize"in t&&n(0,c=t.tickSize)},[c,s,p,r,o,a,i,function(){h=h;var t=Math.floor(Math.random()*h.length);1==h[t]?(dn.set(1),gn.set(0),l("lose",{amount:"all"})):gn.update((t=>t+100))},d,function(){n(2,p=!1),l("win",{amount:o})},(t,e,r)=>{n(1,e[r].selected=!t.selected,s),d(t.selected)},()=>hn.set(1)]}class On extends Ot{constructor(t){super(),jt(this,t,jn,An,s,{tickSize:0},yn)}}function Nn(e){return{c:t,l:t,m:t,p:t,i:t,o:t,d:t}}function In(t){let e,n,r,o,a="/auth"!==t[0]&&Cn();var i=t[1][t[0]].component;return i&&(r=new i({}),r.$on("win",t[3]),r.$on("lose",t[4])),{c(){a&&a.c(),e=N(),n=D("div"),r&&Et(r.$$.fragment)},l(t){a&&a.l(t),e=J(t),n=V(t,"DIV",{});var o=G(n);r&&At(r.$$.fragment,o),o.forEach(A)},m(t,i){a&&a.m(t,i),E(t,e,i),E(t,n,i),r&&Tt(r,n,null),o=!0},p(t,o){if("/auth"!==t[0]?a?1&o&&xt(a,1):(a=Cn(),a.c(),xt(a,1),a.m(e.parentNode,e)):a&&(bt(),kt(a,1,1,(()=>{a=null})),wt()),i!==(i=t[1][t[0]].component)){if(r){bt();const t=r;kt(t.$$.fragment,1,0,(()=>{Dt(t,1)})),wt()}i?(r=new i({}),r.$on("win",t[3]),r.$on("lose",t[4]),Et(r.$$.fragment),xt(r.$$.fragment,1),Tt(r,n,null)):r=null}},i(t){o||(xt(a),r&&xt(r.$$.fragment,t),o=!0)},o(t){kt(a),r&&kt(r.$$.fragment,t),o=!1},d(t){a&&a.d(t),t&&A(e),t&&A(n),r&&Dt(r)}}}function Cn(t){let e,n,r,o;return e=new fn({props:{class:"z-50"}}),{c(){Et(e.$$.fragment),n=N(),r=D("div"),this.h()},l(t){At(e.$$.fragment,t),n=J(t),r=V(t,"DIV",{class:!0}),G(r).forEach(A),this.h()},h(){q(r,"class","w-screen h-32")},m(t,a){Tt(e,t,a),E(t,n,a),E(t,r,a),o=!0},i(t){o||(xt(e.$$.fragment,t),o=!0)},o(t){kt(e.$$.fragment,t),o=!1},d(t){Dt(e,t),t&&A(n),t&&A(r)}}}function Bn(e){let n,r;return n=new It({}),{c(){Et(n.$$.fragment)},l(t){At(n.$$.fragment,t)},m(t,e){Tt(n,t,e),r=!0},p:t,i(t){r||(xt(n.$$.fragment,t),r=!0)},o(t){kt(n.$$.fragment,t),r=!1},d(t){Dt(n,t)}}}function qn(t){let e,n,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Bn,then:In,catch:Nn,blocks:[,,,]};return function(t,e){const n=e.token={};function r(t,r,o,a){if(e.token!==n)return;e.resolved=a;let i=e.ctx;void 0!==o&&(i=i.slice(),i[o]=a);const s=t&&(e.current=t)(i);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(bt(),kt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),wt())})):e.block.d(1),s.c(),xt(s,1),s.m(e.mount(),e.anchor),c=!0),e.block=s,e.blocks&&(e.blocks[r]=s),c&&ht()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=et();if(t.then((t=>{tt(n),r(e.then,1,e.value,t),tt(null)}),(t=>{if(tt(n),r(e.catch,2,e.error,t),tt(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}(t[2],r),{c(){e=D("main"),r.block.c(),this.h()},l(t){e=V(t,"MAIN",{class:!0});var n=G(e);r.block.l(n),n.forEach(A),this.h()},h(){q(e,"class","h-screen bg-gray-200")},m(t,o){E(t,e,o),r.block.m(e,r.anchor=null),r.mount=()=>e,r.anchor=null,n=!0},p(e,[n]){!function(t,e,n){const r=e.slice(),{resolved:o}=t;t.current===t.then&&(r[t.value]=o),t.current===t.catch&&(r[t.error]=o),t.block.p(r,n)}(r,t=e,n)},i(t){n||(xt(r.block),n=!0)},o(t){for(let t=0;t<3;t+=1)kt(r.blocks[t]);n=!1},d(t){t&&A(e),r.block.d(),r.token=null,r=null}}}function Gn(t,e,n){let r,o,a;u(t,Rt,(t=>n(5,r=t))),u(t,Wt,(t=>n(6,o=t))),u(t,Xt,(t=>n(0,a=t)));const i={"/":{component:de,access:"loggedIn"},"/auth":{component:Pe,access:"loggedOut"},"/about":{component:Me,access:""},"/terms-of-service":{component:Je,access:""},"/privacy-notice":{component:ze,access:""},"/chat":{component:cn,access:"loggedIn"},"/russian-roulette":{component:On,access:"loggedIn"}},s=new Promise((t=>{i[a]||(window.location.href=o),setTimeout((()=>{"loggedIn"!==i[a].access||r?"loggedOut"===i[a].access&&r?window.location.href=o:t():window.location.href=o+"/auth"}),300)}));return[a,i,s,t=>{Ht.get("leaderboard").get(r).once((e=>{Ht.get("leaderboard").get(r).put(e+t.detail.amount)}))},t=>{Ht.get("leaderboard").get(r).once((e=>{"all"===t.detail.amount?Ht.get("leaderboard").get(r).put(0):Ht.get("leaderboard").get(r).put(e-t.detail.amount)}))}]}return new class extends Ot{constructor(t){super(),jt(this,t,Gn,qn,s,{})}}({target:document.querySelector("#__snel")}),{}})();